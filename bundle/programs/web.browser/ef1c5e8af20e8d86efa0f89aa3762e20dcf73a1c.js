!function(){var n,t;(function(){t={}}).call(this),function(){(function(){var n=this,r=n._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof t?("undefined"!=typeof module&&module.exports&&(t=module.exports=A),t._=A):n._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return n._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){n=t._}.call(this),"undefined"==typeof Package&&(Package={}),Package.underscore={_:n}}();

!function(){var t=Package.underscore._,e;(function(){e={isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(e.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}).call(this),function(){function n(t){return t?e._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(e.isServer)var r=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(e.release=__meteor_runtime_config__.meteorRelease),t.extend(e,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,u=t.toArray(arguments),s,c=u.length-1;c>=0;--c){var l=u[c],f=typeof l;if("undefined"!==f){"function"===f&&(s=l);break}}if(!s){if(e.isClient)s=n;else{var _=new r;s=_.resolver()}++c}u[c]=e.bindEnvironment(s);var p=o.apply(a,u);return _?_.wait():p}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;e._wrapAsync=function(t,n){return o||(e._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),e.wrapAsync.apply(e,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function n(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,u)){var n=e.data.substring(u.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},u="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var s=function(t){++i,a[i]=t,o.postMessage(u+i,"*")};return s.implementation="postMessage",s}function r(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;e._setImmediate=t()||n()||r()}.call(this),function(){var n=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},r=function(t,r){return e.bindEnvironment(n(r),t)};t.extend(e,{setTimeout:function(t,e){return setTimeout(r("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(r("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){e._setImmediate(r("defer callback",t))}})}.call(this),function(){e.makeErrorType=function(t,n){var r=function(){var e=this;if(Error.captureStackTrace)Error.captureStackTrace(e,r);else{var o=new Error;o.__proto__=r.prototype,o instanceof r&&(e=o)}return n.apply(e,arguments),e.errorType=t,e};return e._inherits(r,Error),r},e.Error=e.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.message=r.reason?r.reason+" ["+r.error+"]":"["+r.error+"]"}),e.Error.prototype.clone=function(){var t=this;return new e.Error(t.error,t.reason,t.details)}}.call(this),function(){e._noYieldsAllowed=function(t){return t()},e._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(e._SynchronousQueue.prototype,{runTask:function(n){var r=this;if(!r.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");r._tasks.push(n);var o=r._tasks;r._tasks=[],r._running=!0,r._runTimeout&&(clearTimeout(r._runTimeout),r._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(a){if(t.isEmpty(o))throw a;e._debug("Exception in queued task: "+a.stack)}}}finally{r._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],n=!e.isCordova&&("loaded"===document.readyState||"complete"==document.readyState),r=1,o=function(){if(r--,!(r>0)){n=!0;var o=function(){if(e.isCordova&&(!cordova.plugins||!cordova.plugins.CordovaUpdate))return void e.setTimeout(o,20);for(;t.length;)t.shift()()};o()}};document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),e.isCordova&&(r++,document.addEventListener("deviceready",o,!1)),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&o()}),window.attachEvent("load",o)),e.startup=function(r){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){e.startup(r)},50)}r()}else n?r():t.push(r)}}.call(this),function(){var t=0;e._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},e._suppress_log=function(e){t+=e},e._supressed_log_expected=function(){return 0!==t}}.call(this),function(){var n=0,r=[];e.EnvironmentVariable=function(){this.slot=n++},t.extend(e.EnvironmentVariable.prototype,{get:function(){return r[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var n=r[this.slot];try{r[this.slot]=t;var o=e()}finally{r[this.slot]=n}return o}}),e.bindEnvironment=function(n,o,i){var a=t.clone(r);if(!o||"string"==typeof o){var u=o||"callback of async function";o=function(t){e._debug("Exception in "+u+":",t&&t.stack||t)}}return function(){var e=r;try{r=a;var u=n.apply(i,t.toArray(arguments))}catch(s){o(s)}finally{r=e}return u}},e._nodeCodeMustBeInFiber=function(){}}.call(this),function(){e.absoluteUrl=function(n,r){r||"object"!=typeof n||(r=n,n=void 0),r=t.extend({},e.absoluteUrl.defaultOptions,r||{});var o=r.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),n&&(o+=n),r.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),r.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},e.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(e.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),e._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),Package.meteor={Meteor:e}}();

!function(){var Meteor=Package.meteor.Meteor,JSON;(function(){window.JSON&&(JSON=window.JSON)}).call(this),function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u=gap,i,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(f=a.length,n=0;f>n;n+=1)i[n]=str(n,a)||"null";return o=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o=str(r,a),o&&i.push(quote(r)+(gap?": ":":")+o));return o=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}.call(this),"undefined"==typeof Package&&(Package={}),Package.json={JSON:JSON}}();

!function(){var n=Package.meteor.Meteor,r;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={},a=0;a<n.length;a++)e[n.charAt(a)]=a;r={},r.encode=function(n){if("string"==typeof n){var e=n;n=r.newBinary(e.length);for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[a]=l}}for(var u=[],i=null,o=null,c=null,s=null,a=0;a<n.length;a++)switch(a%3){case 0:i=n[a]>>2&63,o=(3&n[a])<<4;break;case 1:o|=n[a]>>4&15,c=(15&n[a])<<2;break;case 2:c|=n[a]>>6&3,s=63&n[a],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(s)),i=null,o=null,c=null,s=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==s&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:e[n]};r.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},r.decode=function(n){var e=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(e--,"="==n.charAt(n.length-2)&&e--);for(var a=r.newBinary(e),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var s=n.charAt(c),f=l(s);switch(c%4){case 0:if(0>f)throw new Error("invalid base64 string");t=f<<2;break;case 1:if(0>f)throw new Error("invalid base64 string");t|=f>>4,a[o++]=t,u=(15&f)<<4;break;case 2:f>=0&&(u|=f>>2,a[o++]=u,i=(3&f)<<6);break;case 3:f>=0&&(a[o++]=i|f)}}return a}}).call(this),"undefined"==typeof Package&&(Package={}),Package.base64={Base64:r}}();

!function(){var n=Package.meteor.Meteor,e=Package.json.JSON,t=Package.underscore._,r=Package.base64.Base64,u,a;(function(){u={},a={};var i={};u.addType=function(n,e){if(t.has(i,n))throw new Error("Type "+n+" already present");i[n]=e};var o=function(n){return t.isNaN(n)||n===1/0||n===-(1/0)},f=[{matchJSONValue:function(n){return t.has(n,"$date")&&1===t.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return t.has(n,"$InfNaN")&&1===t.size(n)},matchObject:o,toJSONValue:function(n){var e;return e=t.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return t.has(n,"$binary")&&1===t.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&t.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:r.encode(n)}},fromJSONValue:function(n){return r.decode(n.$binary)}},{matchJSONValue:function(n){return t.has(n,"$escape")&&1===t.size(n)},matchObject:function(n){return t.isEmpty(n)||t.size(n)>2?!1:t.any(f,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return t.each(n,function(n,t){e[t]=u.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return t.each(n.$escape,function(n,t){e[t]=u.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return t.has(n,"$type")&&t.has(n,"$value")&&2===t.size(n)},matchObject:function(n){return u._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var r=e.$type;if(!t.has(i,r))throw new Error("Custom EJSON type "+r+" is not defined");var u=i[r];return n._noYieldsAllowed(function(){return u(e.$value)})}}];u._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&t.has(i,n.typeName())};var c=u._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=l(n);return void 0!==e?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e||void 0===e||o(e)){var r=l(e);return r?void(n[t]=r):void c(e)}}),n)},l=function(n){for(var e=0;e<f.length;e++){var t=f[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};u.toJSONValue=function(n){var e=l(n);return void 0!==e?e:("object"==typeof n&&(n=u.clone(n),c(n)),n)};var s=u._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=y(n);return e!==n?e:"object"!=typeof n?n:(t.each(n,function(e,t){if("object"==typeof e){var r=y(e);if(e!==r)return void(n[t]=r);s(e)}}),n)},y=function(n){if("object"==typeof n&&null!==n&&t.size(n)<=2&&t.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<f.length;e++){var r=f[e];if(r.matchJSONValue(n))return r.fromJSONValue(n)}return n};u.fromJSONValue=function(n){var e=y(n);return e===n&&"object"==typeof n?(n=u.clone(n),s(n),n):e},u.stringify=function(n,t){var r=u.toJSONValue(n);return t&&(t.canonical||t.indent)?u._canonicalStringify(r,t):e.stringify(r)},u.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return u.fromJSONValue(e.parse(n))},u.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},u.equals=function(n,e,r){var a,i=!(!r||!r.keyOrderSensitive);if(n===e)return!0;if(t.isNaN(n)&&t.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(u.isBinary(n)&&u.isBinary(e)){if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(n[a]!==e[a])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,r);if("function"==typeof e.equals)return e.equals(n,r);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(a=0;a<n.length;a++)if(!u.equals(n[a],e[a],r))return!1;return!0}switch(u._isCustomType(n)+u._isCustomType(e)){case 1:return!1;case 2:return u.equals(u.toJSONValue(n),u.toJSONValue(e))}var o;if(i){var f=[];return t.each(e,function(n,e){f.push(e)}),a=0,o=t.all(n,function(n,t){return a>=f.length?!1:t!==f[a]?!1:u.equals(n,e[f[a]],r)?(a++,!0):!1}),o&&a===f.length}return a=0,o=t.all(n,function(n,i){return t.has(e,i)&&u.equals(n,e[i],r)?(a++,!0):!1}),o&&t.size(e)===a},u.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(u.isBinary(n)){e=u.newBinary(n.length);for(var r=0;r<n.length;r++)e[r]=n[r];return e}if(t.isArray(n)||t.isArguments(n)){for(e=[],r=0;r<n.length;r++)e[r]=u.clone(n[r]);return e}return"function"==typeof n.clone?n.clone():u._isCustomType(n)?u.fromJSONValue(u.clone(u.toJSONValue(n)),!0):(e={},t.each(n,function(n,t){e[t]=u.clone(n)}),e)},u.newBinary=r.newBinary}).call(this),function(){function n(n){return e.stringify(n)}var r=function(e,u,a,i,o){var f,c,l,s,y=i,h,N=u[e];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],t.isArray(N)||t.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=r(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=t.keys(N);return o&&(p=p.sort()),t.each(p,function(e){l=r(e,N,a,y,o),l&&h.push(n(e)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};u._canonicalStringify=function(n,e){if(e=t.extend({indent:"",canonical:!1},e),e.indent===!0)e.indent="  ";else if("number"==typeof e.indent){for(var u="",a=0;a<e.indent;a++)u+=" ";e.indent=u}return r("",{"":n},e.indent,"",e.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.ejson={EJSON:u,EJSONTest:a}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n;(function(){n=function(){return n.info.apply(this,arguments)};var i=0,o=[],a=0;n._intercept=function(e){i+=e},n._suppress=function(e){a+=e},n._intercepted=function(){var e=o;return o=[],i=0,e},n.outputFormat="json";var s={debug:"green",warn:"magenta",error:"red"},l="blue",c=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=c.concat(["app","message"]),g=function(t){var r=n.format(t),i=t.level;"undefined"!=typeof console&&console[i]?console[i](r):e._debug(r)};n._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var r=t.split("\n"),n,i=1;i<r.length;++i){if(n=r[i],n.match(/^\s*at eval \(eval/))return{file:"eval"};if(!n.match(/packages\/(?:local-test:)?logging(?:\/|\.js)/))break}var o={},a=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(n);return a?(o.line=a[2].split(":")[0],o.file=a[1].split("/").slice(-1)[0].split("?")[0],o):o},t.each(["debug","info","warn","error"],function(s){n[s]=function(l){if(a)return void a--;var u=!1;i&&(i--,u=!0);var f=!t.isObject(l)||t.isRegExp(l)||t.isDate(l)?{message:new String(l).toString()}:l;if(t.each(c,function(e){if(f[e])throw new Error("Can't set '"+e+"' in log message")}),t.has(f,"message")&&!t.isString(f.message))throw new Error("The 'message' field in log objects must be a string");if(f.omitCallerDetails||(f=t.extend(n._getCallerDetails(),f)),f.time=new Date,f.level=s,"debug"!==s)if(u)o.push(r.stringify(f));else if(e.isServer)if("colored-text"===n.outputFormat)console.log(n.format(f,{color:!0}));else{if("json"!==n.outputFormat)throw new Error("Unknown logging output format: "+n.outputFormat);console.log(r.stringify(f))}else g(f)}}),n.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=r.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},n.format=function(n,i){n=r.clone(n),i=i||{};var o=n.time;if(!(o instanceof Date))throw new Error("'time' must be a Date object");var a=n.timeInexact,c=n.level||"info",g=n.file,f=n.line,m=n.app||"",p=n.originApp,v=n.message||"",h=n.program||"",d=n.satellite,w=n.stderr||"";t.each(u,function(e){delete n[e]}),t.isEmpty(n)||(v&&(v+=" "),v+=r.stringify(n));var b=function(e){return 10>e?"0"+e:e.toString()},D=function(e){return 100>e?"0"+b(e):e.toString()},j=o.getFullYear().toString()+b(o.getMonth()+1)+b(o.getDate()),S=b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+"."+D(o.getMilliseconds()),k="("+-((new Date).getTimezoneOffset()/60)+")",E="";m&&(E+=m),p&&p!==m&&(E+=" via "+p),E&&(E="["+E+"] ");var x=[];h&&x.push(h),g&&x.push(g),f&&x.push(f);var y=t.isEmpty(x)?"":"("+x.join(":")+") ";d&&(y+=["[",d,"]"].join(""));var _=w?"(STDERR) ":"",C=[c.charAt(0).toUpperCase(),j,"-",S,k,a?"? ":" ",E,y,_].join(""),F=function(t,r){return i.color&&e.isServer&&r?Npm.require("cli-color")[r](t):t};return F(C,i.metaColor||l)+F(v,s[c])},n.objFromText=function(e,r){var n={message:e,level:"info",time:new Date,timeInexact:!0};return t.extend(n,r)}}).call(this),"undefined"==typeof Package&&(Package={}),Package.logging={Log:n}}();

!function(){var a=Package.meteor.Meteor,e=Package.underscore._,t=Package.logging.Log,o=Package.json.JSON,n;(function(){n={};var t="Meteor_Reload",r={},i,l=null;try{l=window.sessionStorage,l?(l.setItem("__dummy__","1"),l.removeItem("__dummy__")):l=null}catch(g){l=null}n._getData=function(){return l&&l.getItem(t)},l&&(i=n._getData(),l.removeItem(t)),i||(i="{}");var c={};try{c=o.parse(i),"object"!=typeof c&&(a._debug("Got bad data on reload. Ignoring."),c={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}c.reload&&"object"==typeof c.data&&(r=c.data);var u=[];n._onMigrate=function(a,e){e||(e=a,a=void 0),u.push({name:a,callback:e})},n._migrationData=function(a){return r[a]};var s=function(a,t){a=a||function(){},t=t||{};for(var o={},n=e.clone(u),r=!0;n.length;){var i=n.shift(),l=i.callback(a,t);l[0]||(r=!1),l.length>1&&i.name&&(o[i.name]=l[1])}return r||t.immediateMigration?o:null};n._migrate=function(e,n){var r=s(e,n);if(null===r)return!1;try{var i=o.stringify({data:r,reload:!0})}catch(g){throw a._debug("Couldn't serialize data for migration",r),g}if(l)try{l.setItem(t,i)}catch(g){a._debug("Couldn't save data for migration to sessionStorage",g)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},n._withFreshProvidersForTest=function(a){var t=e.clone(u);u=[];try{a()}finally{u=t}};var f=!1;n._reload=function(a){if(a=a||{},!f){f=!0;var t=function(){e.defer(function(){n._migrate(t,a)&&window.location.reload()})};t()}}}).call(this),function(){a._reload={onMigrate:n._onMigrate,migrationData:n._migrationData,reload:n._reload}}.call(this),"undefined"==typeof Package&&(Package={}),Package.reload={Reload:n}}();

!function(){var n=Package.meteor.Meteor,t,e;(function(){t={},t.active=!1,t.currentComputation=null,t._computations={};var e=function(n){t.currentComputation=n,t.active=!!n},r=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},o=function(t){"undefined"!=typeof n&&n._supressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(d)throw t;var e=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;e.push(a)}}e.push(t.stack),o(e.length);for(var u=0;u<e.length;u++)r()(e[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,f=!1,p=!1,d=!1,l=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(t._runFlush):setTimeout(t._runFlush,0),s=!0)},v=!1;t.Computation=function(n,e,r){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._parent=e,o._func=n,o._onError=r,o._recomputing=!1,t._computations[o._id]=o;var i=!0;try{o._compute(),i=!1}finally{o.firstRun=!1,i&&o.stop()}},t.Computation.prototype.onInvalidate=function(n){var e=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");e.invalidated?t.nonreactive(function(){a(n)(e)}):e._onInvalidateCallbacks.push(n)},t.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var e=0,r;r=n._onInvalidateCallbacks[e];e++)t.nonreactive(function(){a(r)(n)});n._onInvalidateCallbacks=[]}},t.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete t._computations[this._id])},t.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var r=t.currentComputation;e(n);var o=p;p=!0;try{a(n._func)(n)}finally{e(r),p=o}},t.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},t.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},t.Dependency=function(){this._dependentsById={}},t.Dependency.prototype.depend=function(n){if(!n){if(!t.active)return!1;n=t.currentComputation}var e=this,r=n._id;return r in e._dependentsById?!1:(e._dependentsById[r]=n,n.onInvalidate(function(){delete e._dependentsById[r]}),!0)},t.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},t.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},t.flush=function(n){t._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},t._runFlush=function(n){if(f)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");n=n||{},f=!0,s=!0,d=!!n.throwFirstError;var e=0,r=!1;try{for(;c.length||l.length;){for(;c.length;){var o=c.shift();if(o._recompute(),o._needsRecompute()&&c.unshift(o),!n.finishSynchronously&&++e>1e3)return void(r=!0)}if(l.length){var a=l.shift();try{a()}catch(u){i("afterFlush",u)}}}r=!0}finally{if(r||(f=!1,t._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,f=!1,c.length||l.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},t.autorun=function(n,e){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");e=e||{},v=!0;var r=new t.Computation(n,t.currentComputation,e.onError);return t.active&&t.onInvalidate(function(){r.stop()}),r},t.nonreactive=function(n){var r=t.currentComputation;e(null);try{return n()}finally{e(r)}},t.onInvalidate=function(n){if(!t.active)throw new Error("Tracker.onInvalidate requires a currentComputation");t.currentComputation.onInvalidate(n)},t.afterFlush=function(n){l.push(n),h()}}).call(this),function(){n.flush=t.flush,n.autorun=t.autorun,n.autosubscribe=t.autorun,t.depend=function(n){return n.depend()},e=t}.call(this),"undefined"==typeof Package&&(Package={}),Package.tracker={Tracker:t,Deps:e}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,t;(function(){if(e.isServer)var n=Npm.require("crypto");var r=function(){function e(){var e=4022871197,n=function(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var t=0,r=0,o=0,i=1;0==n.length&&(n=[+new Date]);var a=e();t=a(" "),r=a(" "),o=a(" ");for(var u=0;u<n.length;u++)t-=a(n[u]),0>t&&(t+=1),r-=a(n[u]),0>r&&(r+=1),o-=a(n[u]),0>o&&(o+=1);a=null;var d=function(){var e=2091639*t+2.3283064365386963e-10*i;return t=r,r=o,o=e-(i=0|e)};return d.uint32=function(){return 4294967296*d()},d.fract53=function(){return d()+1.1102230246251565e-16*(2097152*d()|0)},d.version="Alea 0.9",d.args=n,d}(Array.prototype.slice.call(arguments))},o="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",a=function(e){var n=this;void 0!==e&&(n.alea=r.apply(null,e))};a.prototype.fraction=function(){var e=this;if(e.alea)return e.alea();if(n){var t=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*t}if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("No random generator available")},a.prototype.hexString=function(e){var t=this;if(n&&!t.alea){var r=Math.ceil(e/2),o;try{o=n.randomBytes(r)}catch(i){o=n.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}for(var u=[],d=0;e>d;++d)u.push(t.choice("0123456789abcdef"));return u.join("")},a.prototype._randomString=function(e,n){for(var t=this,r=[],o=0;e>o;o++)r[o]=t.choice(n);return r.join("")},a.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,o)},a.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},a.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,d="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,c="undefined"!=typeof navigator&&navigator.userAgent||"";t=n||"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new a:new a([new Date,u,d,c,Math.random()]),t.createWithSeeds=function(){if(0===arguments.length)throw new Error("No seeds were provided");return new a(arguments)}}).call(this),function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=t.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var o=n.join("");return o}}.call(this),"undefined"==typeof Package&&(Package={}),Package.random={Random:t}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.random.Random,i;(function(){i=function(e){var r=this;t.extend(r,t.defaults(t.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),r.retryTimer=null},t.extend(i.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var i=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return i*=r.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var i=this,n=i._timeout(t);return i.retryTimer&&clearTimeout(i.retryTimer),i.retryTimer=e.setTimeout(r,n),n}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.retry={Retry:i}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,r=Package.ejson.EJSON,n,i;(function(){var o=new e.EnvironmentVariable;n=function(e,t){var r=o.getOrNullIfOutsideFiber();r&&r.checking(e);try{l(e,t)}catch(n){throw n instanceof i.Error&&n.path&&(n.message+=" in field "+n.path),n}},i={Optional:function(e){return new a(e)},OneOf:function(){return new c(t.toArray(arguments))},Any:["__any__"],Where:function(e){return new f(e)},ObjectIncluding:function(e){return new s(e)},ObjectWithValues:function(e){return new h(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){try{return l(e,t),!0}catch(r){if(r instanceof i.Error)return!1;throw r}},_failIfArgumentsAreNotAllChecked:function(e,t,r,n){var i=new p(r,n),a=o.withValue(i,function(){return e.apply(t,r)});return i.throwUnlessAllArgumentsHaveBeenChecked(),a}};var a=function(e){this.pattern=e},c=function(e){if(t.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},f=function(e){this.condition=e},s=function(e){this.pattern=e},h=function(e){this.pattern=e},u=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[void 0,"undefined"]],l=function(e,n){if(n!==i.Any){for(var o=0;o<u.length;++o)if(n===u[o][0]){if(typeof e===u[o][1])return;throw new i.Error("Expected "+u[o][1]+", got "+typeof e)}if(null===n){if(null===e)return;throw new i.Error("Expected null, got "+r.stringify(e))}if("string"==typeof n||"number"==typeof n){if(e===n)return;throw new i.Error("Expected "+n+", got "+r.stringify(e))}if(n===i.Integer){if("number"==typeof e&&(0|e)===e)return;throw new i.Error("Expected Integer, got "+(e instanceof Object?r.stringify(e):e))}if(n===Object&&(n=i.ObjectIncluding({})),n instanceof Array){if(1!==n.length)throw Error("Bad pattern: arrays must have one type element"+r.stringify(n));if(!t.isArray(e)&&!t.isArguments(e))throw new i.Error("Expected array, got "+r.stringify(e));return void t.each(e,function(e,t){try{l(e,n[0])}catch(r){throw r instanceof i.Error&&(r.path=w(t,r.path)),r}})}if(n instanceof f){if(n.condition(e))return;throw new i.Error("Failed Match.Where validation")}if(n instanceof a&&(n=i.OneOf(void 0,n.pattern)),n instanceof c){for(var o=0;o<n.choices.length;++o)try{return void l(e,n.choices[o])}catch(p){if(!(p instanceof i.Error))throw p}throw new i.Error("Failed Match.OneOf or Match.Optional validation")}if(n instanceof Function){if(e instanceof n)return;throw new i.Error("Expected "+(n.name||"particular constructor"))}var g=!1,d;if(n instanceof s&&(g=!0,n=n.pattern),n instanceof h&&(g=!0,d=[n.pattern],n={}),"object"!=typeof n)throw Error("Bad pattern: unknown pattern type");if("object"!=typeof e)throw new i.Error("Expected object, got "+typeof e);if(null===e)throw new i.Error("Expected object, got null");if(e.constructor!==Object)throw new i.Error("Expected plain object");var y={},E={};t.each(n,function(e,t){e instanceof a?E[t]=e.pattern:y[t]=e}),t.each(e,function(e,r){try{if(t.has(y,r))l(e,y[r]),delete y[r];else if(t.has(E,r))l(e,E[r]);else{if(!g)throw new i.Error("Unknown key");d&&l(e,d[0])}}catch(n){throw n instanceof i.Error&&(n.path=w(r,n.path)),n}}),t.each(y,function(e,t){throw new i.Error("Missing key '"+t+"'")})}},p=function(e,r){var n=this;n.args=t.clone(e),n.args.reverse(),n.description=r};t.extend(p.prototype,{checking:function(e){var r=this;r._checkingOneValue(e)||(t.isArray(e)||t.isArguments(e))&&t.each(e,t.bind(r._checkingOneValue,r))},_checkingOneValue:function(e){for(var r=this,n=0;n<r.args.length;++n)if(e===r.args[n]||t.isNaN(e)&&t.isNaN(r.args[n]))return r.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!t.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var g=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],w=function(e,r){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||t.contains(g,e))&&(e=JSON.stringify([e])),r&&"["!==r[0]?e+"."+r:e+r}}).call(this),"undefined"==typeof Package&&(Package={}),Package.check={check:n,Match:i}}();

!function(){var i=Package.meteor.Meteor,t=Package.underscore._,a=Package.json.JSON,n=Package.ejson.EJSON,e;(function(){e=function(i,t){var n=this;n._map={},n._idStringify=i||a.stringify,n._idParse=t||a.parse},t.extend(e.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var a=this,n=a._idStringify(i);return t.has(a._map,n)},empty:function(){var i=this;return t.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var a=this,n=t.keys(a._map),e=0;e<n.length;e++){var r=i.call(null,a._map[n[e]],a._idParse(n[e]));if(r===!1)return}},size:function(){var i=this;return t.size(i._map)},setDefault:function(i,a){var n=this,e=n._idStringify(i);return t.has(n._map,e)?n._map[e]:(n._map[e]=a,a)},clone:function(){var i=this,t=new e(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,n.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package["id-map"]={IdMap:e}}();

!function(){var t=Package.meteor.Meteor,e=Package.underscore._,r;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var r=e.toArray(arguments);t._stringify=function(t){return t},"function"==typeof r[0]&&(t._stringify=r.shift()),e.each(r,function(e){t.putBefore(e[0],e[1],null)})},e.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var r=this;return e.has(r._dict,r._k(t))},forEach:function(t){for(var e=this,n=0,i=e._first;null!==i;){var o=t(i.value,i.key,n);if(o===r.BREAK)return;i=i.next,n++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,n=null;return e.forEach(function(i,o,u){return e._k(o)===e._k(t)?(n=u,r.BREAK):void 0}),n},_checkRep:function(){var t=this;e.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),r.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),Package["ordered-dict"]={OrderedDict:r}}();

!function(){var t=Package.meteor.Meteor,n,o;(function(){o={exports:{}}}).call(this),function(){!function(){function t(t){for(var n=[],o=[],a=0;a<t[0].length;a++)n.push(t[0][a][1]),o.push(t[0][a][0]);return n=n.sort(function(t,n){return t-n}),o=o.sort(function(t,n){return t-n}),[[n[0],o[0]],[n[n.length-1],o[o.length-1]]]}function n(t,n,o){for(var a=[[0,0]],r=0;r<o.length;r++){for(var e=0;e<o[r].length;e++)a.push(o[r][e]);a.push([0,0])}for(var i=!1,r=0,e=a.length-1;r<a.length;e=r++)a[r][0]>n!=a[e][0]>n&&t<(a[e][1]-a[r][1])*(n-a[r][0])/(a[e][0]-a[r][0])+a[r][1]&&(i=!i);return i}var a={};"undefined"!=typeof o&&o.exports&&(o.exports=a),a.lineStringsIntersect=function(t,n){for(var o=[],a=0;a<=t.coordinates.length-2;++a)for(var r=0;r<=n.coordinates.length-2;++r){var e={x:t.coordinates[a][1],y:t.coordinates[a][0]},i={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},s={x:n.coordinates[r][1],y:n.coordinates[r][0]},c={x:n.coordinates[r+1][1],y:n.coordinates[r+1][0]},u=(c.x-s.x)*(e.y-s.y)-(c.y-s.y)*(e.x-s.x),h=(i.x-e.x)*(e.y-s.y)-(i.y-e.y)*(e.x-s.x),d=(c.y-s.y)*(i.x-e.x)-(c.x-s.x)*(i.y-e.y);if(0!=d){var l=u/d,y=h/d;l>=0&&1>=l&&y>=0&&1>=y&&o.push({type:"Point",coordinates:[e.x+l*(i.x-e.x),e.y+l*(i.y-e.y)]})}}return 0==o.length&&(o=!1),o},a.pointInBoundingBox=function(t,n){return!(t.coordinates[1]<n[0][0]||t.coordinates[1]>n[1][0]||t.coordinates[0]<n[0][1]||t.coordinates[0]>n[1][1])},a.pointInPolygon=function(o,r){for(var e="Polygon"==r.type?[r.coordinates]:r.coordinates,i=!1,s=0;s<e.length;s++)a.pointInBoundingBox(o,t(e[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<e.length;s++)n(o.coordinates[1],o.coordinates[0],e[s])&&(c=!0);return c},a.numberToRadius=function(t){return t*Math.PI/180},a.numberToDegree=function(t){return 180*t/Math.PI},a.drawCircle=function(t,n,o){for(var r=[n.coordinates[1],n.coordinates[0]],e=t/1e3/6371,i=[a.numberToRadius(r[0]),a.numberToRadius(r[1])],o=o||15,s=[[r[0],r[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(e)+Math.cos(i[0])*Math.sin(e)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(e)*Math.cos(i[0]),Math.cos(e)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=a.numberToDegree(h),s[c][0]=a.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},a.rectangleCentroid=function(t){var n=t.coordinates[0],o=n[0][0],a=n[0][1],r=n[2][0],e=n[2][1],i=r-o,s=e-a;return{type:"Point",coordinates:[o+i/2,a+s/2]}},a.pointDistance=function(t,n){var o=t.coordinates[0],r=t.coordinates[1],e=n.coordinates[0],i=n.coordinates[1],s=a.numberToRadius(i-r),c=a.numberToRadius(e-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(a.numberToRadius(r))*Math.cos(a.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},a.geometryWithinRadius=function(t,n,o){if("Point"==t.type)return a.pointDistance(t,n)<=o;if("LineString"==t.type||"Polygon"==t.type){var r={},e;e="Polygon"==t.type?t.coordinates[0]:t.coordinates;for(var i in e)if(r.coordinates=e[i],a.pointDistance(r,n)>o)return!1}return!0},a.area=function(t){for(var n=0,o=t.coordinates[0],a=o.length-1,r,e,i=0;i<o.length;a=i++){var r={x:o[i][1],y:o[i][0]},e={x:o[a][1],y:o[a][0]};n+=r.x*e.y,n-=r.y*e.x}return n/=2},a.centroid=function(t){for(var n,o=0,r=0,e=t.coordinates[0],i=e.length-1,s,c,u=0;u<e.length;i=u++){var s={x:e[u][1],y:e[u][0]},c={x:e[i][1],y:e[i][0]};n=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*n,r+=(s.y+c.y)*n}return n=6*a.area(t),{type:"Point",coordinates:[r/n,o/n]}},a.simplify=function(t,n){n=n||20,t=t.map(function(t){return{lng:t.coordinates[0],lat:t.coordinates[1]}});var o,a,r,e,i,s,c,u,h,d,l,y,M,f,g,x,p,v,P,b=Math.PI/180*.5,m=new Array,T=new Array,I=new Array;if(t.length<3)return t;for(o=t.length,d=360*n/(2*Math.PI*6378137),d*=d,r=0,T[0]=0,I[0]=o-1,a=1;a>0;)if(e=T[a-1],i=I[a-1],a--,i-e>1){for(l=t[i].lng()-t[e].lng(),y=t[i].lat()-t[e].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(b*(t[i].lat()+t[e].lat())),M=l*l+y*y,s=e+1,c=e,h=-1;i>s;s++)f=t[s].lng()-t[e].lng(),g=t[s].lat()-t[e].lat(),Math.abs(f)>180&&(f=360-Math.abs(f)),f*=Math.cos(b*(t[s].lat()+t[e].lat())),x=f*f+g*g,p=t[s].lng()-t[i].lng(),v=t[s].lat()-t[i].lat(),Math.abs(p)>180&&(p=360-Math.abs(p)),p*=Math.cos(b*(t[s].lat()+t[i].lat())),P=p*p+v*v,u=x>=M+P?P:P>=M+x?x:(f*y-g*l)*(f*y-g*l)/M,u>h&&(c=s,h=u);d>h?(m[r]=e,r++):(a++,T[a-1]=c,I[a-1]=i,a++,T[a-1]=e,I[a-1]=c)}else m[r]=e,r++;m[r]=o-1,r++;for(var R=new Array,s=0;r>s;s++)R.push(t[m[s]]);return R.map(function(t){return{type:"Point",coordinates:[t.lng,t.lat]}})},a.destinationPoint=function(t,n,o){o/=6371,n=a.numberToRadius(n);var r=a.numberToRadius(t.coordinates[0]),e=a.numberToRadius(t.coordinates[1]),i=Math.asin(Math.sin(r)*Math.cos(o)+Math.cos(r)*Math.sin(o)*Math.cos(n)),s=e+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(r),Math.cos(o)-Math.sin(r)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[a.numberToDegree(i),a.numberToDegree(s)]}}}()}.call(this),function(){n=o.exports}.call(this),"undefined"==typeof Package&&(Package={}),Package["geojson-utils"]={GeoJSON:n}}();

!function(){var e=Package.meteor.Meteor,r=Package.underscore._,t=Package.json.JSON,n=Package.ejson.EJSON,o=Package["id-map"].IdMap,i=Package["ordered-dict"].OrderedDict,a=Package.tracker.Tracker,s=Package.tracker.Deps,c=Package.random.Random,u=Package["geojson-utils"].GeoJSON,d,f,l,h,p,v,_,m,y,g,w,b,$,I,E,O;(function(){d=function(r){var t=this;t.name=r,t._docs=new d._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},f={},l={},d._applyChanges=function(e,t){r.each(t,function(r,t){void 0===r?delete e[t]:e[t]=r})},h=function(e){var r=new Error(e);return r.name="MinimongoError",r},d.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new d.Cursor(this,e,r)},d.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,d._selectorIsId(r)?(n._selectorId=r,n.matcher=new f.Matcher(r)):(n._selectorId=void 0,n.matcher=new f.Matcher(r),(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new f.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=d._compileProjection(n.fields||{}),n._transform=d.wrapTransform(t.transform),"undefined"!=typeof a&&(n.reactive=void 0===t.reactive?!0:t.reactive)},d.Cursor.prototype.rewind=function(){},d.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},d.Cursor.prototype.forEach=function(e,t){var n=this,o=n._getRawObjects({ordered:!0});n.reactive&&n._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),r.each(o,function(r,o){r=n._projectionFn(r),n._transform&&(r=n._transform(r)),e.call(t,r,o,n)})},d.Cursor.prototype.getTransform=function(){return this._transform},d.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},d.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},d.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},d.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;return Mongo.Collection._publishCursor(r,e,t)},d.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},d._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},d._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},d.ObserveHandle=function(){},r.extend(d.Cursor.prototype,{observe:function(e){var r=this;return d._observeFromObserveChanges(r,e)},observeChanges:function(e){var t=this,o=d._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!o&&(t.skip||t.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(t.fields&&(0===t.fields._id||t.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={matcher:t.matcher,sorter:o&&t.sorter,distances:t.matcher.hasGeoQuery()&&o&&new d._IdMap,resultsSnapshot:null,ordered:o,cursor:t,projectionFn:t._projectionFn},s;t.reactive&&(s=t.collection.next_qid++,t.collection.queries[s]=i),i.results=t._getRawObjects({ordered:o,distances:i.distances}),t.collection.paused&&(i.resultsSnapshot=o?[]:new d._IdMap);var c=function(e){return e?function(){var r=this,n=arguments;t.collection.paused||t.collection._observeQueue.queueTask(function(){e.apply(r,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),o&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!t.collection.paused){var u=o?r.bind(r.each,null,i.results):r.bind(i.results.forEach,i.results);u(function(e){var r=n.clone(e);delete r._id,o&&i.addedBefore(e._id,t._projectionFn(r),null),i.added(e._id,t._projectionFn(r))})}var f=new d.ObserveHandle;return r.extend(f,{collection:t.collection,stop:function(){t.reactive&&delete t.collection.queries[s]}}),t.reactive&&a.active&&a.onInvalidate(function(){f.stop()}),t.collection._observeQueue.drain(),f}}),d.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new d._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new d._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},d.Cursor.prototype._depend=function(e,t){var n=this;if(a.active){var o=new a.Dependency;o.depend();var i=r.bind(o.changed,o),s={_suppress_initial:!0,_allow_unordered:t};r.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(s[r]=i)}),n.observeChanges(s)}},d.prototype.insert=function(t,o){var i=this;t=n.clone(t),r.has(t,"_id")||(t._id=d._useOID?new d._ObjectID:c.id());var a=t._id;if(i._docs.has(a))throw h("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,t);var s=[];for(var u in i.queries){var f=i.queries[u],l=f.matcher.documentMatches(t);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(u):d._insertInResults(f,t))}return r.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),o&&e.defer(function(){o(null,a)}),a},d.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=d._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},d.prototype.remove=function(t,o){var i=this;if(i.paused&&!i._savedOriginals&&n.equals(t,{})){var a=i._docs.size();return i._docs.clear(),r.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),o&&e.defer(function(){o(null,a)}),a}var s=new f.Matcher(t),c=[];i._eachPossiblyMatchingDoc(t,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],l=[],h=0;h<c.length;h++){var p=c[h],v=i._docs.get(p);r.each(i.queries,function(e,r){e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):l.push({qid:r,doc:v}))}),i._saveOriginal(p,v),i._docs.remove(p)}return r.each(l,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),d._removeFromResults(r,e.doc))}),r.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,o&&e.defer(function(){o(null,a)}),a},d.prototype.update=function(t,o,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new f.Matcher(t),u={};r.each(s.queries,function(e,r){!e.cursor.skip&&!e.cursor.limit||s.paused||(u[r]=n.clone(e.results))});var l={},h=0;s._eachPossiblyMatchingDoc(t,function(e,r){var t=c.documentMatches(e);return t.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,o,l,t.arrayIndices),++h,!i.multi)?!1:!0}),r.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var p;if(0===h&&i.upsert){var v=d._removeDollarOperators(t);d._modify(v,o,{isInsert:!0}),!v._id&&i.insertedId&&(v._id=i.insertedId),p=s.insert(v),h=1}var _;return i._returnObject?(_={numberAffected:h},void 0!==p&&(_.insertedId=p)):_=h,a&&e.defer(function(){a(null,_)}),_},d.prototype.upsert=function(e,t,n,o){var i=this;return o||"function"!=typeof n||(o=n,n={}),i.update(e,t,r.extend({},n,{upsert:!0,_returnObject:!0}),o)},d.prototype._modifyAndNotify=function(e,r,t,o){var i=this,a={};for(var s in i.queries){var c=i.queries[s];a[s]=c.ordered?c.matcher.documentMatches(e).result:c.results.has(e._id)}var u=n.clone(e);d._modify(e,r,{arrayIndices:o});for(s in i.queries){c=i.queries[s];var f=a[s],l=c.matcher.documentMatches(e),h=l.result;h&&c.distances&&void 0!==l.distance&&c.distances.set(e._id,l.distance),c.cursor.skip||c.cursor.limit?(f||h)&&(t[s]=!0):f&&!h?d._removeFromResults(c,e):!f&&h?d._insertInResults(c,e):f&&h&&d._updateInResults(c,e,u)}},d._insertInResults=function(e,r){var t=n.clone(r);if(delete t._id,e.ordered){if(e.sorter){var o=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[o+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},d._removeFromResults=function(e,r){if(e.ordered){var t=d._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},d._updateInResults=function(e,t,o){if(!n.equals(t._id,o._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=d._makeChangedFields(i(t),i(o));if(!e.ordered)return void(r.isEmpty(a)||(e.changed(t._id,a),e.results.set(t._id,t)));var s=d._findInOrderedResults(e,t);if(r.isEmpty(a)||e.changed(t._id,a),e.sorter){e.results.splice(s,1);var c=d._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,t);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(t._id,u)}}},d.prototype._recomputeResults=function(e,r){var t=this;t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),t.paused||d._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})},d._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},d._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},d._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=d._binarySearch(e,r,t);return r.splice(n,0,t),n},d.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new d._IdMap},d.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},d.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,n.clone(r)))},d.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=n.clone(r.results)}}},d.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];d._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}},d._idStringify=function(e){if(e instanceof d._ObjectID)return e.valueOf();if("string"==typeof e)return""===e?e:"-"===e.substr(0,1)||"~"===e.substr(0,1)||d._looksLikeObjectID(e)||"{"===e.substr(0,1)?"-"+e:e;if(void 0===e)return"-";if("object"==typeof e&&null!==e)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+t.stringify(e)},d._idParse=function(e){return""===e?e:"-"===e?void 0:"-"===e.substr(0,1)?e.substr(1):"~"===e.substr(0,1)?t.parse(e.substr(1)):d._looksLikeObjectID(e)?new d._ObjectID(e):e},d._makeChangedFields=function(e,r){var t={};return d._diffObjects(r,e,{leftOnly:function(e,r){t[e]=void 0},rightOnly:function(e,r){t[e]=r},both:function(e,r,o){n.equals(r,o)||(t[e]=o)}}),t}}).call(this),function(){d.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var t=function(t){if(!r.has(t,"_id"))throw new Error("can only transform documents with _id");var o=t._id,i=a.nonreactive(function(){return e(t)});if(!v(i))throw new Error("transform must return object");if(r.has(i,"_id")){if(!n.equals(i._id,o))throw new Error("transformed document can't have different _id")}else i._id=o;return i};return t.__wrappedTransform__=!0,t}}.call(this),function(){p=function(e){return r.isArray(e)&&!n.isBinary(e)},v=d._isPlainObject=function(e){return e&&3===d._f._type(e)},_=function(e){return p(e)||v(e)},m=function(e,n){if(!v(e))return!1;var o=void 0;return r.each(e,function(r,i){var a="$"===i.substr(0,1);if(void 0===o)o=a;else if(o!==a){if(!n)throw new Error("Inconsistent operator: "+t.stringify(e));o=!1}}),!!o},y=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){f.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},r.extend(f.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(d._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:n.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,C;if("boolean"==typeof r||p(r)||n.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=n.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return r.keys(this._paths)}});var e=function(e,n,o){o=o||{};var i=[];return r.each(e,function(e,a){if("$"===a.substr(0,1)){if(!r.has(s,a))throw new Error("Unrecognized logical operator: "+a);n._isSimple=!1,i.push(s[a](e,n,o.inElemMatch))}else{o.inElemMatch||n._recordPathUsed(a);var c=$(a),u=t(e,n,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),A(i)},t=function(e,r,t){return e instanceof RegExp?(r._isSimple=!1,o(g(e))):m(e)?i(e,r,t):o(w(e))},o=function(e,t){return t=t||{},function(n){var o=n;t.dontExpandLeafArrays||(o=I(n,t.dontIncludeLeafArrays));var i={};return i.result=r.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};g=function(e){return function(t){return t instanceof RegExp?r.isEqual(t,e):"string"!=typeof t?!1:(e.lastIndex=0,e.test(t))}},w=function(e){if(m(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return d._f._equal(e,r)}};var i=function(e,t,n){var i=[];return r.each(e,function(a,s){var c=r.contains(["$lt","$lte","$gt","$gte"],s)&&r.isNumber(a),u="$ne"===s&&!r.isObject(a),d=r.contains(["$in","$nin"],s)&&r.isArray(a)&&!r.any(a,r.isObject);if("$eq"===s||c||d||u||(t._isSimple=!1),r.has(h,s))i.push(h[s](a,e,t,n));else{if(!r.has(b,s))throw new Error("Unrecognized operator: "+s);var f=b[s];i.push(o(f.compileElementSelector(a,e,t),f))}}),M(i)},a=function(t,n,o){if(!p(t)||r.isEmpty(t))throw Error("$and/$or/$nor must be nonempty array");return r.map(t,function(r){if(!v(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,n,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return A(n)},$or:function(e,t,n){var o=a(e,t,n);return 1===o.length?o[0]:function(e){var t=r.any(o,function(r){return r(e).result});return{result:t}}},$nor:function(e,t,n){var o=a(e,t,n);return function(e){var t=r.all(o,function(r){return!r(e).result});return{result:t}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},h={$not:function(e,r,n){return c(t(e,n))},$ne:function(e){return c(o(w(e)))},$nin:function(e){return c(o(b.$in.compileElementSelector(e)))},$exists:function(e){var r=o(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,t){if(!r.has(t,"$regex"))throw Error("$options needs a $regex");return k},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return k},$all:function(e,n,o){if(!p(e))throw Error("$all requires array");if(r.isEmpty(e))return C;var i=[];return r.each(e,function(e){if(m(e))throw Error("no $ expressions in $all");i.push(t(e,o))}),M(i)},$near:function(e,t,n,o){if(!o)throw Error("$near can't be inside another $ operator");n._hasGeoQuery=!0;var i,a,s;if(v(e)&&r.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?u.pointDistance(a,e):u.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=t.$maxDistance,!p(e)&&!v(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=O(e),s=function(e){return p(e)||v(e)?E(a,e):null}}return function(e){e=I(e);var t={result:!1};return r.each(e,function(e){var r=s(e.value);null===r||r>i||void 0!==t.distance&&t.distance<=r||(t.result=!0,t.distance=r,e.arrayIndices?t.arrayIndices=e.arrayIndices:delete t.arrayIndices)}),t}}},E=function(e,t){e=O(e),t=O(t);var n=e[0]-t[0],o=e[1]-t[1];return r.isNaN(n)||r.isNaN(o)?null:Math.sqrt(n*n+o*o)},O=function(e){return r.map(e,r.identity)},j=function(e){return{compileElementSelector:function(r){if(p(r))return function(){return!1};void 0===r&&(r=null);var t=d._f._type(r);return function(n){return void 0===n&&(n=null),d._f._type(n)!==t?!1:e(d._f._cmp(n,r))}}}};b={$lt:j(function(e){return 0>e}),$gt:j(function(e){return e>0}),$lte:j(function(e){return 0>=e}),$gte:j(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!p(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!p(e))throw Error("$in needs an array");var t=[];return r.each(e,function(e){if(e instanceof RegExp)t.push(g(e));else{if(m(e))throw Error("cannot nest $ under $in");t.push(w(e))}}),function(e){return void 0===e&&(e=null),r.any(t,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return p(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&d._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return g(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(r,n,o){if(!v(r))throw Error("$elemMatch need an object");var i,a;return m(r,!0)?(i=t(r,o),a=!1):(i=e(r,o,{inElemMatch:!0}),a=!0),function(e){if(!p(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(a){if(!v(t)&&!p(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(i(n).result)return r}return!1}}}},$=function(e,t){t=t||{};var n=e.split("."),o=n.length?n[0]:"",i=y(o),a=n.length>=2&&y(n[1]),s;n.length>1&&(s=$(n.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,n){if(n||(n=[]),p(e)){if(!(i&&o<e.length))return[];n=n.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:p(e)&&p(u),arrayIndices:n})];if(!_(u))return p(e)?[]:[c({value:void 0,arrayIndices:n})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,n)),!p(u)||a&&t.forSort||r.each(u,function(e,r){v(e)&&f(s(e,n.concat(r)))}),d}},l.makeLookupFunction=$,I=function(e,t){var n=[];return r.each(e,function(e){var o=p(e.value);t&&o&&!e.dontIterate||n.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&r.each(e.value,function(r,t){n.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(t)})})}),n};var C=function(e){return{result:!1}},k=function(e){return{result:!0}},S=function(e){return 0===e.length?k:1===e.length?e[0]:function(t){var n={};return n.result=r.all(e,function(e){var r=e(t);return r.result&&void 0!==r.distance&&void 0===n.distance&&(n.distance=r.distance),r.result&&r.arrayIndices&&(n.arrayIndices=r.arrayIndices),r.result}),n.result||(delete n.distance,delete n.arrayIndices),n}},A=S,M=S;d._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:p(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:n.isBinary(e)?5:e instanceof d._ObjectID?7:3},_equal:function(e,r){return n.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=d._f._type(e),n=d._f._type(r),o=d._f._typeorder(t),i=d._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return d._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=d._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},d._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){f.Sorter=function(n,o){var i=this;o=o||{},i._sortSpecParts=[];var a=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);i._sortSpecParts.push({path:e,lookup:$(e,{forSort:!0}),ascending:r})};if(n instanceof Array)for(var s=0;s<n.length;s++)"string"==typeof n[s]?a(n[s],!0):a(n[s][0],"desc"!==n[s][1]);else{if("object"!=typeof n)throw Error("Bad sort specification: "+t.stringify(n));r.each(n,function(e,r){a(r,e>=0)})}if(i.affectedByModifier){var c={};r.each(i._sortSpecParts,function(e){c[e.path]=1}),i._selectorForAffectedByModifier=new f.Matcher(c)}i._keyComparator=e(r.map(i._sortSpecParts,function(e,r){return i._keyFieldComparator(r)})),i._keyFilter=null,o.matcher&&i._useWithMatcher(o.matcher)},r.extend(f.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return r.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,t){var n=this;if(0===n._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(r.each(n._sortSpecParts,function(t,n){var s=I(t.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[n]={},r.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[n][""]=e.value)}c=!0;var t=i(e.arrayIndices);if(r.has(o[n],t))throw Error("duplicate path: "+t);if(o[n][t]=e.value,a&&!r.has(a,t))throw Error("cannot index parallel arrays")}),a){if(!r.has(o[n],"")&&r.size(a)!==r.size(o[n]))throw Error("cannot index parallel arrays!")}else c&&(a={},r.each(o[n],function(e,r){a[r]=!0}))}),!a){var s=r.map(o,function(e){if(!r.has(e,""))throw Error("no value in sole key case?");return e[""]});return void t(s)}r.each(a,function(e,n){var i=r.map(o,function(e){if(r.has(e,""))return e[""];if(!r.has(e,n))throw Error("missing path?");return e[n]});t(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=d._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var t=this;if(t._keyFilter)throw Error("called _useWithMatcher twice?");if(!r.isEmpty(t._sortSpecParts)){var n=e._selector;if(!(n instanceof Function)){var o={};r.each(t._sortSpecParts,function(e,r){o[e.path]=[]}),r.each(n,function(e,t){var n=o[t];if(n){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void n.push(g(e))}return m(e)?void r.each(e,function(t,o){r.contains(["$lt","$lte","$gt","$gte"],o)&&n.push(b[o].compileElementSelector(t)),"$regex"!==o||e.$options||n.push(b.$regex.compileElementSelector(t,e))}):void n.push(w(e))}}),r.isEmpty(o[t._sortSpecParts[0].path])||(t._keyFilter=function(e){return r.all(t._sortSpecParts,function(t,n){return r.all(o[t.path],function(r){return r(e[n])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){d._compileProjection=function(e){d._checkSupportedProjection(e);var t=r.isUndefined(e._id)?!0:e._id,o=E(e),i=function(e,t){if(r.isArray(e))return r.map(e,function(e){return i(e,t)});var a=o.including?{}:n.clone(e);return r.each(t,function(t,s){r.has(e,s)&&(r.isObject(t)?r.isObject(e[s])&&(a[s]=i(e[s],t)):o.including?a[s]=n.clone(e[s]):delete a[s])}),a};return function(e){var n=i(e,o.tree);return t&&r.has(e,"_id")&&(n._id=e._id),!t&&r.has(n,"_id")&&delete n._id,n}},E=function(e){var t=r.keys(e).sort();t.length>0&&(1!==t.length||"_id"!==t[0])&&(t=r.reject(t,function(e){return"_id"===e}));var n=null;r.each(t,function(r){var t=!!e[r];if(null===n&&(n=t),n!==t)throw h("You cannot currently mix including and excluding fields.")});var o=O(t,function(e){return n},function(e,r,t){var n=t,o=r;throw h("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:n}},O=function(e,t,n,o){return o=o||{},r.each(e,function(e){var i=o,a=e.split("."),s=r.all(a.slice(0,-1),function(t,o){if(r.has(i,t)){if(!r.isObject(i[t])&&(i[t]=n(i[t],a.slice(0,o+1).join("."),e),!r.isObject(i[t])))return!1}else i[t]={};return i=i[t],!0});if(s){var c=r.last(a);i[c]=r.has(i,c)?n(i[c],e,e):t(e)}}),o},d._checkSupportedProjection=function(e){if(!r.isObject(e)||r.isArray(e))throw h("fields option must be an object");r.each(e,function(e,t){if(r.contains(t.split("."),"$"))throw h("Minimongo doesn't support $ operator in projections yet.");if(-1===r.indexOf([1,0,!0,!1],e))throw h("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){d._modify=function(t,a,s){if(s=s||{},!v(a))throw h("Modifier must be an object");var c=m(a),u;if(c)u=n.clone(t),r.each(a,function(t,n){var a=i[n];if(s.isInsert&&"$setOnInsert"===n&&(a=i.$set),!a)throw h("Invalid modifier specified "+n);r.each(t,function(t,i){if(""===i)throw h("An empty update path is not valid.");if("_id"===i)throw h("Mod on _id not allowed");var c=i.split(".");if(!r.all(c,r.identity))throw h("The update path '"+i+"' contains an empty field name, which is not allowed.");var d=r.has(o,n),f="$rename"===n,l=e(u,c,{noCreate:o[n],forbidArray:"$rename"===n,arrayIndices:s.arrayIndices}),p=c.pop();a(l,p,t,i,u)})});else{if(a._id&&!n.equals(t._id,a._id))throw h("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw h("When replacing document, field name may not contain '.'");u=a}r.each(r.keys(t),function(e){"_id"!==e&&delete t[e]}),r.each(u,function(e,r){t[r]=e})};var e=function(e,r,n){n=n||{};for(var o=!1,i=0;i<r.length;i++){var a=i===r.length-1,s=r[i],c=_(e);if(!c){if(n.noCreate)return void 0;var u=h("cannot use the part '"+s+"' to traverse "+e);throw u.setPropertyError=!0,u}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(o)throw h("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw h("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],o=!0}else{if(!y(s)){if(n.noCreate)return void 0;throw h("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(a&&(r[i]=s),n.noCreate&&s>=e.length)return void 0;for(;e.length<s;)e.push(null);if(!a)if(e.length===s)e.push({});else if("object"!=typeof e[s])throw h("can't modify field '"+r[i+1]+"' of list value "+t.stringify(e[s]))}else{if(s.length&&"$"===s.substr(0,1))throw h("can't set field named "+s);if(!(s in e)){if(n.noCreate)return void 0;a||(e[s]={})}}if(a)return e;e=e[s]}},o={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},i={$inc:function(e,r,t){if("number"!=typeof t)throw h("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw h("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,t,o){if(!r.isObject(e)){var i=h("Cannot set property on non-object field");throw i.setPropertyError=!0,i}if(null===e){var i=h("Cannot set property on null");throw i.setPropertyError=!0,i}e[t]=n.clone(o)},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw h("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(n.clone(t));var o=t.$each;if(!(o instanceof Array))throw h("$each must be an array");var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw h("$slice must be a numeric value");if(t.$slice>0)throw h("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw h("$sort requires $slice to be present");a=new f.Sorter(t.$sort).getComparator();for(var s=0;s<o.length;s++)if(3!==d._f._type(o[s]))throw h("$push like modifiers using $sort require all elements to be objects")}for(var c=0;c<o.length;c++)e[r].push(n.clone(o[c]));a&&e[r].sort(a),void 0!==i&&(e[r]=0===i?[]:e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw h("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,t,o){var i=!1;if("object"==typeof o)for(var a in o){
"$each"===a&&(i=!0);break}var s=i?o.$each:[o],c=e[t];if(void 0===c)e[t]=s;else{if(!(c instanceof Array))throw h("Cannot apply $addToSet modifier to non-array");r.each(s,function(e){for(var r=0;r<c.length;r++)if(d._f._equal(e,c[r]))return;c.push(n.clone(e))})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");var o=[];if("object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)d._f._equal(n[i],t)||o.push(n[i]);else for(var a=new f.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw h("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw h("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(d._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw h("$rename source must differ from target");if(null===r)throw h("$rename source field invalid");if("string"!=typeof n)throw h("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw h("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw h("$bit is not supported")}}}.call(this),function(){d._diffQueryChanges=function(e,r,t,n,o){e?d._diffQueryOrderedChanges(r,t,n,o):d._diffQueryUnorderedChanges(r,t,n,o)},d._diffQueryUnorderedChanges=function(e,t,o,i){i=i||{};var a=i.projectionFn||n.clone;if(o.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");t.forEach(function(t,i){var s=e.get(i);if(s){if(o.changed&&!n.equals(s,t)){var c=a(t),u=a(s),f=d._makeChangedFields(c,u);r.isEmpty(f)||o.changed(i,f)}}else if(o.added){var l=a(t);delete l._id,o.added(t._id,l)}}),o.removed&&e.forEach(function(e,r){t.has(r)||o.removed(r)})},d._diffQueryOrderedChanges=function(t,o,i,a){a=a||{};var s=a.projectionFn||n.clone,c={};r.each(o,function(r){c[r._id]&&e._debug("Duplicate _id in new_results"),c[r._id]=!0});var u={};r.each(t,function(r,t){r._id in u&&e._debug("Duplicate _id in old_results"),u[r._id]=t});for(var f=[],l=0,h=o.length,p=new Array(h),v=new Array(h),_=function(e){return u[o[e]._id]},m=0;h>m;m++)if(void 0!==u[o[m]._id]){for(var y=l;y>0&&!(_(p[y-1])<_(m));)y--;v[m]=0===y?-1:p[y-1],p[y]=m,y+1>l&&(l=y+1)}for(var g=0===l?-1:p[l-1];g>=0;)f.push(g),g=v[g];f.reverse(),f.push(o.length),r.each(t,function(e){c[e._id]||i.removed&&i.removed(e._id)});var w=0;r.each(f,function(e){for(var n=o[e]?o[e]._id:null,a,c,f,l,h,p=w;e>p;p++)c=o[p],r.has(u,c._id)?(a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f),i.movedBefore&&i.movedBefore(c._id,n)):(f=s(c),delete f._id,i.addedBefore&&i.addedBefore(c._id,f,n),i.added&&i.added(c._id,f));n&&(c=o[e],a=t[u[c._id]],l=s(c),h=s(a),f=d._makeChangedFields(l,h),r.isEmpty(f)||i.changed&&i.changed(c._id,f)),w=e+1})},d._diffObjects=function(e,t,n){r.each(e,function(e,o){r.has(t,o)?n.both&&n.both(o,e,t[o]):n.leftOnly&&n.leftOnly(o,e)}),n.rightOnly&&r.each(t,function(t,o){r.has(e,o)||n.rightOnly(o,t)})}}.call(this),function(){d._IdMap=function(){var e=this;o.call(e,d._idStringify,d._idParse)},e._inherits(d._IdMap,o)}.call(this),function(){d._CachingChangeObserver=function(e){var t=this;e=e||{};var o=e.callbacks&&d._observeChangesCallbacksAreOrdered(e.callbacks);if(r.has(e,"ordered")){if(t.ordered=e.ordered,e.callbacks&&e.ordered!==o)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");t.ordered=o}var a=e.callbacks||{};t.ordered?(t.docs=new i(d._idStringify),t.applyChange={addedBefore:function(e,r,o){var i=n.clone(r);i._id=e,a.addedBefore&&a.addedBefore.call(t,e,r,o),a.added&&a.added.call(t,e,r),t.docs.putBefore(e,i,o||null)},movedBefore:function(e,r){var n=t.docs.get(e);a.movedBefore&&a.movedBefore.call(t,e,r),t.docs.moveBefore(e,r||null)}}):(t.docs=new d._IdMap,t.applyChange={added:function(e,r){var o=n.clone(r);a.added&&a.added.call(t,e,r),o._id=e,t.docs.set(e,o)}}),t.applyChange.changed=function(e,r){var o=t.docs.get(e);if(!o)throw new Error("Unknown id for changed: "+e);a.changed&&a.changed.call(t,e,n.clone(r)),d._applyChanges(o,r)},t.applyChange.removed=function(e){a.removed&&a.removed.call(t,e),t.docs.remove(e)}},d._observeFromObserveChanges=function(e,t){var o=e.getTransform()||function(e){return e},i=!!t._suppress_initial,a;if(d._observeCallbacksAreOrdered(t)){var s=!t._no_indices;a={addedBefore:function(e,n,a){var c=this;if(!i&&(t.addedAt||t.added)){var u=o(r.extend(n,{_id:e}));if(t.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;t.addedAt(u,d,a)}else t.added(u)}},changed:function(e,r){var i=this;if(t.changedAt||t.changed){var a=n.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=o(n.clone(a));if(d._applyChanges(a,r),a=o(a),t.changedAt){var u=s?i.docs.indexOf(e):-1;t.changedAt(a,c,u)}else t.changed(a,c)}},movedBefore:function(e,r){var i=this;if(t.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?r?i.docs.indexOf(r):i.docs.size():-1;c>a&&--c,t.movedTo(o(n.clone(i.docs.get(e))),a,c,r||null)}},removed:function(e){var r=this;if(t.removedAt||t.removed){var n=o(r.docs.get(e));if(t.removedAt){var i=s?r.docs.indexOf(e):-1;t.removedAt(n,i)}else t.removed(n)}}}}else a={added:function(e,n){if(!i&&t.added){var a=r.extend(n,{_id:e});t.added(o(a))}},changed:function(e,r){var i=this;if(t.changed){var a=i.docs.get(e),s=n.clone(a);d._applyChanges(s,r),t.changed(o(s),o(n.clone(a)))}},removed:function(e){var r=this;t.removed&&t.removed(o(r.docs.get(e)))}};var c=new d._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){d._looksLikeObjectID=function(e){return 24===e.length&&e.match(/^[0-9a-f]*$/)},d._ObjectID=function(e){var r=this;if(e){if(e=e.toLowerCase(),!d._looksLikeObjectID(e))throw new Error("Invalid hexadecimal string for creating an ObjectID");r._str=e}else r._str=c.hexString(24)},d._ObjectID.prototype.toString=function(){var e=this;return'ObjectID("'+e._str+'")'},d._ObjectID.prototype.equals=function(e){var r=this;return e instanceof d._ObjectID&&r.valueOf()===e.valueOf()},d._ObjectID.prototype.clone=function(){var e=this;return new d._ObjectID(e._str)},d._ObjectID.prototype.typeName=function(){return"oid"},d._ObjectID.prototype.getTimestamp=function(){var e=this;return parseInt(e._str.substr(0,8),16)},d._ObjectID.prototype.valueOf=d._ObjectID.prototype.toJSONValue=d._ObjectID.prototype.toHexString=function(){return this._str},d._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof d._ObjectID},d._selectorIsIdPerhapsAsObject=function(e){return d._selectorIsId(e)||e&&"object"==typeof e&&e._id&&d._selectorIsId(e._id)&&1===r.size(e)},d._idsMatchedBySelector=function(e){if(d._selectorIsId(e))return[e];if(!e)return null;if(r.has(e,"_id"))return d._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&r.isArray(e._id.$in)&&!r.isEmpty(e._id.$in)&&r.all(e._id.$in,d._selectorIsId)?e._id.$in:null;if(e.$and&&r.isArray(e.$and))for(var t=0;t<e.$and.length;++t){var n=d._idsMatchedBySelector(e.$and[t]);if(n)return n}return null},n.addType("oid",function(e){return new d._ObjectID(e)})}.call(this),"undefined"==typeof Package&&(Package={}),Package.minimongo={LocalCollection:d,Minimongo:f,MinimongoTest:l}}();

!function(){var e=Package.meteor.Meteor,t=Package.check.check,n=Package.check.Match,r=Package.random.Random,o=Package.ejson.EJSON,i=Package.json.JSON,a=Package.underscore._,s=Package.tracker.Tracker,u=Package.tracker.Deps,c=Package.logging.Log,l=Package.retry.Retry,d=Package.minimongo.LocalCollection,f=Package.minimongo.Minimongo,_,p,h,v,m,g,b,y,w,k,S,C,T;(function(){_={},p={}}).call(this),function(){h=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var a=function(e){var t=this;t._events=e||[],t._listeners={}};a.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},a.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},a.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+i.stringify(e)+" not listed "+i.stringify(t._events)+" in "+t)},a.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+i.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var a=i[0].toLowerCase(),s=r.substring(a.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(s);if(u)var c=u[0]}if(!a||!c)throw new Error("relativeTo must be an absolute url");o={protocol:a,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[/]+$/,"");var l=t.split("/");return("http:"===l[0]&&/:80$/.test(l[2])||"https:"===l[0]&&/:443$/.test(l[2]))&&(l[2]=l[2].replace(/:(80|443)$/,"")),t=l.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","":"\\u00ad","":"\\u0600","":"\\u0601","":"\\u0602","":"\\u0603","":"\\u0604","":"\\u070f","":"\\u17b4","":"\\u17b5","":"\\u200c","":"\\u200d","":"\\u200e","":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","":"\\u202a","":"\\u202b","":"\\u202c","":"\\u202d","":"\\u202e","":"\\u202f","":"\\u2060","":"\\u2061","":"\\u2062","":"\\u2063","":"\\u2064","":"\\u2065","":"\\u2066","":"\\u2067","":"\\u2068","":"\\u2069","":"\\u206a","":"\\u206b","":"\\u206c","":"\\u206d","":"\\u206e","":"\\u206f","\ufeff":"\\ufeff","":"\\ufff0","":"\\ufff1","":"\\ufff2","":"\\ufff3","":"\\ufff4","":"\\ufff5","":"\\ufff6","":"\\ufff7","":"\\ufff8","":"\\ufff9","":"\\ufffa","":"\\ufffb","":"\\ufffc","":"\\ufffd","":"\\ufffe","":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,f,_=i&&i.stringify||function(e){return c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return l[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=_(e);return d.lastIndex=0,d.test(t)?(f||(f=p(d)),t.replace(d,function(e){return f[e]})):t};var h=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<h.length;t++){var n=h[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=h);for(var i=0;i<t.length;i++){var a=t[i];r[a]=e[a]}var s=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&s(e)};return n.websocket!==!1&&s(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?s(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?s(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,b=function(){for(var e in m)m[e](),delete m[e]},y=function(){g||(g=!0,b())};n.attachEvent("unload",y),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(b),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,a,s=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(s(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(a))},c=function(e){o&&(u(),r(e))},l=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),a=n.unload_add(u),{post:l,cleanup:u,loaded:s}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,a,s,c=function(){clearTimeout(i)},l=function(){o&&(c(),n.unload_del(a),s.parentNode.removeChild(s),s=o=null,CollectGarbage())},d=function(e){o&&(l(),r(e))},f=function(e,t){try{s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[u]=t[u];var _=o.createElement("div");return o.body.appendChild(_),s=o.createElement("iframe"),_.appendChild(s),s.src=e,i=setTimeout(function(){d("timeout")},15e3),a=n.unload_add(l),{post:f,cleanup:l,loaded:c}};var w=function(){};w.prototype=new a(["chunk","finish"]),w.prototype._start=function(e,r,o,i){var a=this;try{a.xhr=new XMLHttpRequest}catch(s){}if(!a.xhr)try{a.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),a.unload_ref=n.unload_add(function(){a._cleanup(!0)});try{a.xhr.open(e,r,!0)}catch(u){return a.emit("finish",0,""),void a._cleanup()}if(i&&i.no_credentials||(a.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)a.xhr.setRequestHeader(c,i.headers[c]);a.xhr.onreadystatechange=function(){if(a.xhr){var e=a.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&a.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),a.emit("finish",t,e.responseText),a._cleanup(!1)}}},a.xhr.send(o)},w.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var k=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};k.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var C=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};C.prototype=new a(["chunk","finish"]),C.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var a=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(s){a()}},C.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},C.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=T.CONNECTING,o._ir=q(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4",T.CONNECTING=0,T.OPEN=1,T.CLOSING=2,T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===T.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==T.CONNECTING&&i.readyState!==T.OPEN&&i.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var a=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===T.CONNECTING&&!r){if(i._try_next_protocol(a))return;a=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:a})}i.readyState=T.CLOSED,n.delay(function(){i.dispatchEvent(a)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=i.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=i.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=i.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(T[o]&&T[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(T[o]&&T[o].enabled(r._options)){var i=T[o].roundTrips||1,a=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(a,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var s=n.random_string(8),u=r._base_url+"/"+r._server+"/"+s;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new T[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var a=n.probeProtocols();i._protocols=n.detectProtocols(a,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=T.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var a=t.WebSocket||t.MozWebSocket;o.ws=new a(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var x=function(t,r,o){var i=this;if(!("_send_form"in i)){var a=i._send_form=e.createElement("form"),s=i._send_area=e.createElement("textarea");s.name="d",a.style.display="none",a.style.position="absolute",a.method="POST",a.enctype="application/x-www-form-urlencoded",a.acceptCharset="UTF-8",a.appendChild(s),e.body.appendChild(a)}var a=i._send_form,s=i._send_area,u="a"+n.random_string(8);a.target=u,a.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(l){c=e.createElement("iframe"),c.name=u}c.id=u,a.appendChild(c),c.style.display="none";try{s.value=r}catch(d){n.log("Your browser is seriously broken. Go home! "+d.message)}a.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),s.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},I=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),a,s=function(e){a&&(a.parentNode.removeChild(a),a=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||s(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){s(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&s(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))a=e.createElement("script"),a.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=a.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(l){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){s(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),a&&d.insertBefore(a,d.firstChild),s},D=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(x),r._schedule_recv()};D.prototype=new O,D.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},D.enabled=function(){return!0},D.need_body=!0,D.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),a=e+"?c="+escape(u+"."+i),s=0,c=function(e){switch(s){case 0:delete t[u][i],o(e);break;case 1:o(e),s=2;break;case 2:delete t[u][i]}},l=r(a,c);t[u][i]=l;var d=function(){t[u][i]&&(s=1,t[u][i](n.closeFrame(1e3,"JSONP user aborted read")))};return d},P=function(){};P.prototype=new O,P.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(I(o)),i.poll=new Z(e,r,t+n,o)},P.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var N=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XHRCorsObject)};N.prototype=new P,N.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},N.roundTrips=2,N.need_body=!0;var j=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",oe,n.XDRObject)};j.prototype=new P,j.enabled=function(){return!!t.XDomainRequest},j.roundTrips=2;var U=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRCorsObject)};U.prototype=new P,U.enabled=N.enabled,U.roundTrips=2;var A=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XDRObject)};A.prototype=new P,A.enabled=j.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",i.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var H,L=function(e,r){parent!==t?parent.postMessage(H+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){L("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){L("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,T.bootstrap_iframe=function(){var r;H=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),a=e.data.slice(8,9),s=e.data.slice(9);if(o===H)switch(a){case"s":var u=i.parse(s),c=u[0],l=u[1],d=u[2],f=u[3];if(c!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+c+'", the iframe: "'+T.version+'".'),!n.flatUrl(d)||!n.flatUrl(f))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(f))return void n.log("Can't connect to different domain from within an iframe. ("+i.stringify([t.location.href,d,f])+")");r=new F,r._transport=new F[l](r,d,f);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),L("s")};var X=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};X.prototype=new a(["finish"]),X.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),a=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){a.ontimeout()});a.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,a=i.parse(t);"object"!=typeof a&&(a={}),r.emit("finish",a,n)}else r.emit("finish")},a.ontimeout=function(){a.close(),r.emit("finish")}};var V=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=i.parse(t.substr(1)),o=n[0],a=n[1];r.emit("finish",o,a)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};V.prototype=new a(["finish"]);var W=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};W.prototype=new a(["finish"]);var q=function(e){if(n.isSameOriginUrl(e))return new X(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new X(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new X(e,n.XDRObject):new W;case 3:return new V(e);default:return new W}},G=F["w-iframe-info-receiver"]=function(e,t,r){var o=new X(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+i.stringify([t,n])),e._didClose()}};G.prototype.doCleanup=function(){};var J=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};J.prototype=new B,J.enabled=function(){return"EventSource"in t&&B.enabled()},J.need_body=!0,J.roundTrips=3;var Q=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",ee,n.XHRLocalObject)};Q.prototype=new P;var z=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};z.prototype=new B,z.enabled=function(){return t.XMLHttpRequest&&B.enabled()},z.need_body=!0,z.roundTrips=3;var $=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",oe,n.XHRLocalObject)};$.prototype=new P;var Y=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Y.prototype=new B,Y.enabled=function(){return B.enabled()},Y.need_body=!0,Y.roundTrips=3;var K=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",re,n.XHRLocalObject)};K.prototype=new P;var Z=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};Z.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Z.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var ee=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var a=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:a}))})}};ee.prototype=new r,ee.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var te,ne=function(){if(void 0===te)if("ActiveXObject"in t)try{te=!!new ActiveXObject("htmlfile")}catch(e){}else te=!1;return te},re=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(u+"."+r.id);var i=ne()?n.createHtmlfile:n.createIframe,a;t[u][r.id]={start:function(){a.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){a.cleanup(),r.iframe_close=a=null,delete t[u][r.id],r.dispatchEvent(new o("close",{reason:n}))},a=i(e,function(e){r.iframe_close({},"permanent")})};re.prototype=new r,re.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var oe=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),a=i.indexOf("\n");if(-1===a)break;r+=a+1;var s=i.slice(0,a);n.dispatchEvent(new o("message",{data:s}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return oe.prototype=new r,oe.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return B},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return h})}.call(this),function(){p.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(p.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new _.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT))},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);

return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new h(v(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new _.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},o=function(o,i,a){i||(i="http");var s=o.match(/^ddp(i?)\+sockjs:\/\//),u=o.match(/^http(s?):\/\//),c;if(s){var l=o.substr(s[0].length);c="i"===s[1]?i:i+"s";var d=l.indexOf("/"),f=-1===d?l:l.substr(0,d),_=-1===d?"":l.substr(d);return f=f.replace(/\*/g,function(){return Math.floor(10*r.fraction())}),c+"://"+f+_}if(u){c=u[1]?i+"s":i;var p=o.substr(u[0].length);o=c+"://"+p}return-1!==o.indexOf("://")||t(o,"/")||(o=i+"://"+o),o=e._relativeToSiteRootUrl(o),n(o,"/")?o+a:o+"/"+a};v=function(e){return o(e,"http","sockjs")},m=function(e){var t=o(e,"ws","websocket");return t},p.toSockjsUrl=v,a.extend(p.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof s&&new s.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new l,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new _.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),_.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),_.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){g=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},a.extend(g.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setTimeout(a.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(a.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearTimeout(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._heartbeatIntervalHandle=null,e._sendPing(),e._startHeartbeatTimeoutTimer()},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},pingReceived:function(){var e=this;e._heartbeatIntervalHandle&&(e._clearHeartbeatIntervalTimer(),e._startHeartbeatIntervalTimer())},pongReceived:function(){var e=this;e._heartbeatTimeoutHandle&&(e._clearHeartbeatTimeoutTimer(),e._startHeartbeatIntervalTimer())}})}.call(this),function(){b=["1","pre2","pre1"],p.SUPPORTED_DDP_VERSIONS=b,y=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},a.extend(y.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}}),w=function(t){try{var n=i.parse(t)}catch(r){return e._debug("Discarding message with invalid JSON",t),null}return null===n||"object"!=typeof n?(e._debug("Discarding non-object DDP message",t),null):(a.has(n,"cleared")&&(a.has(n,"fields")||(n.fields={}),a.each(n.cleared,function(e){n.fields[e]=void 0}),delete n.cleared),a.each(["fields","params","result"],function(e){a.has(n,e)&&(n[e]=o._adjustTypesFromJSONValue(n[e]))}),n)},k=function(e){var t=o.clone(e);if(a.has(e,"fields")){var n=[];a.each(e.fields,function(e,r){void 0===e&&(n.push(r),delete t.fields[r])}),a.isEmpty(n)||(t.cleared=n),a.isEmpty(t.fields)&&delete t.fields}if(a.each(["fields","params","result"],function(e){a.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return i.stringify(t)},_._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){function e(){return r.hexString(20)}S=function(t){var n=this;this.seed=[].concat(t.seed||e()),this.sequences={}},S.get=function(e,t){if(t||(t="default"),!e)return r;var n=e.randomStream;return n||(e.randomStream=n=new S({seed:e.randomSeed})),n._sequence(t)},_.randomStream=function(e){var t=_._CurrentInvocation.get();return S.get(t,e)},C=function(e,t){var n=S.get(e,"/rpc/"+t);return n.hexString(20)},a.extend(S.prototype,{_sequence:function(e){var t=this,n=t.sequences[e]||null;if(null===n){for(var o=t.seed.concat(e),i=0;i<o.length;i++)a.isFunction(o[i])&&(o[i]=o[i]());t.sequences[e]=n=r.createWithSeeds.apply(null,o)}return n}})}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),u=Npm.require(t.join("fibers","future"));var c=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:35e3,heartbeatTimeout:15e3,reloadWithOutstanding:!1,supportedDDPVersions:b,retry:!0,respondToPings:!0},n),r.onReconnect=null,r._stream="object"==typeof t?t:new p.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r._subscriptions={},r._userId=null,r._userIdDeps=new s.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=w(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"==o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg?(n.respondToPings&&r._send({msg:"pong",id:o.id}),r._heartbeat&&r._heartbeat.pingReceived()):"pong"===o.msg?r._heartbeat&&r._heartbeat.pongReceived():a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o)},i=function(){var e={msg:"connect"};r._lastSessionId&&(e.session=r._lastSessionId),e.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=e.version,e.support=r._supportedDDPVersions,r._send(e),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},u=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,e._debug)),r._stream.on("reset",e.bindEnvironment(i,e._debug)),r._stream.on("disconnect",e.bindEnvironment(u,e._debug))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",u))},l=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(l.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(c.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),i={};if(n.length){var u=n[n.length-1];a.isFunction(u)?i.onReady=n.pop():u&&a.any([u.onReady,u.onError,u.onStop],a.isFunction)&&(i=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&o.equals(t.params,n)}),l;c?(l=c.id,c.inactive=!1,i.onReady&&(c.ready||(c.readyCallback=i.onReady)),i.onError&&(c.errorCallback=i.onError),i.onStop&&(c.stopCallback=i.onStop)):(l=r.id(),t._subscriptions[l]={id:l,name:e,params:o.clone(n),inactive:!1,ready:!1,readyDeps:new s.Dependency,readyCallback:i.onReady,errorCallback:i.onError,stopCallback:i.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:l}),this.remove(),i.onStop&&i.onStop()}},t._send({msg:"sub",id:l,name:e,params:n}));var d={stop:function(){a.has(t._subscriptions,l)&&t._subscriptions[l].stop()},ready:function(){if(!a.has(t._subscriptions,l))return!1;var e=t._subscriptions[l];return e.readyDeps.depend(),e.ready},subscriptionId:l};return s.active&&s.onInvalidate(function(e){a.has(t._subscriptions,l)&&(t._subscriptions[l].inactive=!0),s.afterFlush(function(){a.has(t._subscriptions,l)&&t._subscriptions[l].inactive&&d.stop()})}),d},_subscribeAndWait:function(e,t,n){var r=this,o=new u,i=!1,a;return t=t||[],t.push({onReady:function(){i=!0,o["return"]()},onError:function(e){i?n&&n.onLateError&&n.onLateError(e):o["throw"](e)}}),a=r.subscribe.apply(r,[e].concat(t)),o.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,r,i){var s=this;i||"function"!=typeof r||(i=r,r={}),r=r||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=o.clone(n);var c=function(){var e;return function(){return void 0===e&&(e=""+s._nextMethodId++),e}}(),d=_._CurrentInvocation.get(),f=d&&d.isSimulation,p=null,h=function(){return null===p&&(p=C(d,t)),p},v=s._methodHandlers[t];if(v){var m=function(e){s.setUserId(e)},g=new y({isSimulation:!0,userId:s.userId(),setUserId:m,randomSeed:function(){return h()}});f||s._saveOriginals();try{var b=_._CurrentInvocation.withValue(g,function(){return e.isServer?e._noYieldsAllowed(function(){return v.apply(g,o.clone(n))}):v.apply(g,o.clone(n))})}catch(w){var k=w}f||s._retrieveAndStoreOriginals(c())}if(f){if(i)return void i(k,b);if(k)throw k;return b}if(k&&!k.expected&&e._debug("Exception while simulating the effect of invoking '"+t+"'",k,k.stack),!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new u;i=S.resolver()}var T={msg:"method",method:t,params:n,id:c()};null!==p&&(T.randomSeed=p);var E=new l({methodId:c(),callback:i,connection:s,onResultReceived:r.onResultReceived,wait:!!r.wait,message:T});return r.wait?s._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(s._outstandingMethodBlocks)||a.last(s._outstandingMethodBlocks).wait)&&s._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(s._outstandingMethodBlocks).methods.push(E)),1===s._outstandingMethodBlocks.length&&E.sendMessage(),S?S.wait():r.returnStubValue?b:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new d._IdMap);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(k(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new g({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new _.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this,n={};if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,n)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,n);(t._resetStores||!a.isEmpty(n))&&(a.each(t._stores,function(e,r){e.beginUpdate(a.has(n,r)?n[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(n,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=d._idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){if(void 0!==o.document)throw new Error("Server sent add for existing id: "+e.id);o.document=e.fields||{},o.document._id=r}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);d._applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,d._idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+i.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+i.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:d._idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.readyCallback&&t.readyCallback(),t.ready=!0,t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+i.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),p.Connection=c,_.connect=function(e,t){var n=new c(e,t);return T.push(n),n},T=[],_._allSubscriptionsReady=function(){return a.all(T,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new l,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=_.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=_.connect}.call(this),"undefined"==typeof Package&&(Package={}),Package.ddp={DDP:_,LivedataTest:p}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.insecure={}}();

!function(){var e=Package.meteor.Meteor,n=Package.random.Random,o=Package.ejson.EJSON,t=Package.json.JSON,r=Package.underscore._,i=Package.minimongo.LocalCollection,c=Package.minimongo.Minimongo,l=Package.logging.Log,a=Package.ddp.DDP,s=Package.tracker.Tracker,d=Package.tracker.Deps,u=Package.check.check,f=Package.check.Match,_,p;(function(){p=function(){var e=this;e.noConnCollections={}};var e=function(e,n){return e in n||(n[e]=new i(e)),n[e]};r.extend(p.prototype,{open:function(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new i}}),p=new p}).call(this),function(){_={},_.Collection=function(o,t){var c=this;if(!(c instanceof _.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(t&&t.methods&&(t={connection:t}),t&&t.manager&&!t.connection&&(t.connection=t.manager),t=r.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},t),t.idGeneration){case"MONGO":c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return new _.ObjectID(e.hexString(24))};break;case"STRING":default:c._makeNewID=function(){var e=o?a.randomStream("/collection/"+o):n;return e.id()}}if(c._transform=i.wrapTransform(t.transform),c._connection=o&&null!==t.connection?t.connection?t.connection:e.isClient?e.connection:e.server:null,t._driver||(t._driver=o&&c._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?MongoInternals.defaultRemoteCollectionDriver():p),c._collection=t._driver.open(o,c._connection),c._name=o,c._driver=t._driver,c._connection&&c._connection.registerStore){var l=c._connection.registerStore(o,{beginUpdate:function(e,n){(e>1||n)&&c._collection.pauseObservers(),n&&c._collection.remove({})},update:function(e){var n=i._idParse(e.id),o=c._collection.findOne(n);if("replace"===e.msg){var t=e.replace;return void(t?o?c._collection.update(n,t):c._collection.insert(t):o&&c._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");c._collection.insert(r.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");c._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!r.isEmpty(e.fields)){var l={};r.each(e.fields,function(e,n){void 0===e?(l.$unset||(l.$unset={}),l.$unset[n]=1):(l.$set||(l.$set={}),l.$set[n]=e)}),c._collection.update(n,l)}}},endUpdate:function(){c._collection.resumeObservers()},saveOriginals:function(){c._collection.saveOriginals()},retrieveOriginals:function(){return c._collection.retrieveOriginals()}});if(!l)throw new Error("There is already a collection named '"+o+"'")}c._defineMutationMethods(),Package.autopublish&&!t._preventAutopublish&&c._connection&&c._connection.publish&&c._connection.publish(null,function(){return c.find()},{is_auto:!0})},r.extend(_.Collection.prototype,{_getFindSelector:function(e){return 0==e.length?{}:e[0]},_getFindOptions:function(e){var n=this;return e.length<2?{transform:n._transform}:(u(e[1],f.Optional(f.ObjectIncluding({fields:f.Optional(f.OneOf(Object,void 0)),sort:f.Optional(f.OneOf(Object,Array,void 0)),limit:f.Optional(f.OneOf(Number,void 0)),skip:f.Optional(f.OneOf(Number,void 0))}))),r.extend({transform:n._transform},e[1]))},find:function(){var e=this,n=r.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))},findOne:function(){var e=this,n=r.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}}),_.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(e,t){n.added(o,e,t)},changed:function(e,t){n.changed(o,e,t)},removed:function(e){n.removed(o,e)}});n.onStop(function(){t.stop()})},_.Collection._rewriteSelector=function(e){if(i._selectorIsId(e)&&(e={_id:e}),!e||"_id"in e&&!e._id)return{_id:n.id()};var o={};return r.each(e,function(e,n){e instanceof RegExp?o[n]=t(e):e&&e.$regex instanceof RegExp?(o[n]=t(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):o[n]=r.contains(["$or","$and","$nor"],n)?r.map(e,function(e){return _.Collection._rewriteSelector(e)}):e}),o};var t=function(e){u(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n},c=function(n,o){if(!i._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+o+" documents by ID.")};r.each(["insert","update","remove"],function(n){_.Collection.prototype[n]=function(){var o=this,t=r.toArray(arguments),i,l,s;if(t.length&&(void 0===t[t.length-1]||t[t.length-1]instanceof Function)&&(i=t.pop()),"insert"===n){if(!t.length)throw new Error("insert requires an argument");if(t[0]=r.extend({},t[0]),"_id"in t[0]){if(l=t[0]._id,!l||!("string"==typeof l||l instanceof _.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var d=!0;if(o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get();u||(d=!1)}d&&(l=t[0]._id=o._makeNewID())}}else if(t[0]=_.Collection._rewriteSelector(t[0]),"update"===n){var f=t[2]=r.clone(t[2])||{};if(f&&"function"!=typeof f&&f.upsert)if(f.insertedId){if(!("string"==typeof f.insertedId||f.insertedId instanceof _.ObjectID))throw new Error("insertedId must be string or ObjectID")}else t[0]._id||(f.insertedId=o._makeNewID())}var p=function(e){return"insert"===n?(!l&&e&&(l=e),l):e},v;if(i&&(v=function(e,n){i(e,!e&&p(n))}),o._connection&&o._connection!==e.server){var u=a._CurrentInvocation.get(),h=u&&u.isSimulation;!e.isClient||v||h||(v=function(o){o&&e._debug(n+" failed: "+(o.reason||o.stack))}),h||"insert"===n||c(t[0],n),s=p(o._connection.apply(o._prefix+n,t,{returnStubValue:!0},v))}else{t.push(v);try{var m=o._collection[n].apply(o._collection,t);s=p(m)}catch(w){if(i)return i(w),null;throw w}}return s}}),_.Collection.prototype.upsert=function(e,n,o,t){var i=this;return t||"function"!=typeof o||(t=o,o={}),i.update(e,n,r.extend({},o,{_returnObject:!0,upsert:!0}),t)},_.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},_.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},_.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},_.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},_.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},_.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},_.ObjectID=i._ObjectID,_.Cursor=i.Cursor,_.Collection.Cursor=_.Cursor,_.Collection.ObjectID=_.ObjectID,function(){var e=function(e,n){var o=["insert","update","remove","fetch","transform"];r.each(r.keys(n),function(n){if(!r.contains(o,n))throw new Error(e+": Invalid key: "+n)});var t=this;if(t._restricted=!0,r.each(["insert","update","remove"],function(o){if(n[o]){if(!(n[o]instanceof Function))throw new Error(e+": Value for `"+o+"` must be a function");n[o].transform=void 0===n.transform?t._transform:i.wrapTransform(n.transform),t._validators[o][e].push(n[o])}}),n.update||n.remove||n.fetch){if(n.fetch&&!(n.fetch instanceof Array))throw new Error(e+": Value for `fetch` must be an array");t._updateFetch(n.fetch)}};_.Collection.prototype.allow=function(n){e.call(this,"allow",n)},_.Collection.prototype.deny=function(n){e.call(this,"deny",n)}}(),_.Collection.prototype._defineMutationMethods=function(){var n=this;if(n._restricted=!1,n._insecure=void 0,n._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},n._name&&(n._prefix="/"+n._name+"/",n._connection)){var o={};r.each(["insert","update","remove"],function(t){o[n._prefix+t]=function(){u(arguments,[f.Any]);var o=r.toArray(arguments);try{var i=null;if("insert"!==t||r.has(o[0],"_id")||(i=n._makeNewID()),this.isSimulation)return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);if("insert"!==t&&c(o[0],t),n._restricted){if(0===n._validators[t].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+t+"'.");var l="_validated"+t.charAt(0).toUpperCase()+t.slice(1);return o.unshift(this.userId),"insert"===t&&o.push(i),n[l].apply(n,o)}if(n._isInsecure())return null!==i&&(o[0]._id=i),n._collection[t].apply(n._collection,o);throw new e.Error(403,"Access denied")}catch(a){throw"MongoError"===a.name||"MinimongoError"===a.name?new e.Error(409,a.toString()):a}}}),(e.isClient||n._connection===e.server)&&n._connection.methods(o)}},_.Collection.prototype._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=r.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},_.Collection.prototype._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure};var l=function(e,n,t){var r=n;return e.transform&&(r=o.clone(n),null!==t&&(r._id=t),r=e.transform(r)),r};_.Collection.prototype._validatedInsert=function(n,o,t){var i=this;if(r.any(i._validators.insert.deny,function(e){return e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");if(r.all(i._validators.insert.allow,function(e){return!e(n,l(e,o,t))}))throw new e.Error(403,"Access denied");null!==t&&(o._id=t),i._collection.insert.call(i._collection,o)};var s=function(e,n){return e.transform?e.transform(n):n};_.Collection.prototype._validatedUpdate=function(n,o,t,c){var l=this;if(u(t,Object),c=r.clone(c)||{},!i._selectorIsIdPerhapsAsObject(o))throw new Error("validated update should be of a single ID");if(c.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var a="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",f=[];if(r.isEmpty(t))throw new e.Error(403,a);r.each(t,function(n,o){if("$"!==o.charAt(0))throw new e.Error(403,a);if(!r.has(d,o))throw new e.Error(403,"Access denied. Operator "+o+" not allowed in a restricted collection.");r.each(r.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(f,e)||f.push(e)})});var _={transform:null};l._validators.fetchAllFields||(_.fields={},r.each(l._validators.fetch,function(e){_.fields[e]=1}));var p=l._collection.findOne(o,_);if(!p)return 0;if(r.any(l._validators.update.deny,function(e){var o=s(e,p);return e(n,o,f,t)}))throw new e.Error(403,"Access denied");if(r.all(l._validators.update.allow,function(e){var o=s(e,p);return!e(n,o,f,t)}))throw new e.Error(403,"Access denied");return c._forbidReplace=!0,l._collection.update.call(l._collection,o,t,c)};var d={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};_.Collection.prototype._validatedRemove=function(n,o){var t=this,i={transform:null};t._validators.fetchAllFields||(i.fields={},r.each(t._validators.fetch,function(e){i.fields[e]=1}));var c=t._collection.findOne(o,i);if(!c)return 0;if(r.any(t._validators.remove.deny,function(e){return e(n,s(e,c))}))throw new e.Error(403,"Access denied");if(r.all(t._validators.remove.allow,function(e){return!e(n,s(e,c))}))throw new e.Error(403,"Access denied");return t._collection.remove.call(t._collection,o)},e.Collection=_.Collection}.call(this),"undefined"==typeof Package&&(Package={}),Package.mongo={Mongo:_}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,a=Package.retry.Retry,r=Package.ddp.DDP,o=Package.mongo.Mongo,i=Package.underscore._,s,c;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";c=new o.Collection("meteor_autoupdate_clientVersions"),s={},s.newClientAvailable=function(){return!!c.findOne({_id:"version",version:{$ne:t}})||!!c.findOne({_id:"version-refreshable",version:{$ne:n}})};var r=!1,u=new a({minCount:0,baseTimeout:3e4}),l=0;s._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),l++,u.retryLater(l,function(){s._retrySubscription()})},onReady:function(){if(Package.reload)var a=function(a){var s=this;if("version-refreshable"===a._id&&a.version!==n){n=a.version;var c=a.assets&&a.assets.allCss||[],u=[];i.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var a=i.once(n);if(t.onload=function(){r=!0,a()},!r)var o=e.setInterval(function(){t.sheet&&(a(),e.clearInterval(o))},50)},d=i.after(c.length,function(){i.each(u,function(e){e.parentNode.removeChild(e)})}),_=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==c.length?i.each(c,function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("class","__meteor-css__"),n.setAttribute("href",e._relativeToSiteRootUrl(t.url)),_(n)}):d()}else"version"===a._id&&a.version!==t&&(o&&o.stop(),Package.reload.Reload._reload())},o=c.find().observe({added:a,changed:a})}})},s._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),Package.autoupdate={Autoupdate:s}}();

!function(){var a=Package.meteor.Meteor,e=Package.reload.Reload,o=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var e=Package.meteor.Meteor;"undefined"==typeof Package&&(Package={}),Package.autopublish={}}();

!function(){var e=Package.meteor.Meteor,t,n;(function(){!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){je.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&je.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ae(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=Ae(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&Ae(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,Q=J.concat,G=J.push,K=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:J.sort,splice:J.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Q.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Q.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],Q=Y.pop,G=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ne){K={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),B=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?ee(D,e)-ee(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?ee(D,e)-ee(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));

for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=Y.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?Y.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],Ae=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},De=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},je=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Pe=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ye={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(he),Ge=Qe.appendChild(he.createElement("div"));Ye.optgroup=Ye.option,Ye.tbody=Ye.tfoot=Ye.colgroup=Ye.caption=Ye.thead,Ye.th=Ye.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Be.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Ye[u]||Ye._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Pe.test(o)&&p.push(t.createTextNode(Pe.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,J.push(i))}}}),ie.fn.extend({text:function(e){return De(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return De(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Be.test(e)||!ne.leadingWhitespace&&Pe.test(e)||Ye[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Je,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),
tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return D(e,n,r?j(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=D)}),ie.fn.extend({css:function(e,t){return De(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ae(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(B,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=B(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return De(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return De(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var Dt=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Dt," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Dt," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Bt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+jt++):o+(Lt.test(o)?"&":"?")+"_="+jt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Jt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!je.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Jt,"\r\n")}}):{name:t.name,value:n.replace(Jt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+jt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return De(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");

return De(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}).call(this),function(){t=n=window.jQuery.noConflict()}.call(this),"undefined"==typeof Package&&(Package={}),Package.jquery={$:t,jQuery:n}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery;(function(){!function(e,t,n,i){e.site=e.fn.site=function(o){var a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u=e.isPlainObject(o)?e.extend(!0,{},e.site.settings,o):e.extend({},e.site.settings),d=u.namespace,m=u.error,f="."+d,g="module-"+d,p=e(n),v=p,h=this,b=v.data(g),y,x;return y={initialize:function(){y.instantiate()},instantiate:function(){y.verbose("Storing instance of site",y),b=y,v.data(g,y)},normalize:function(){y.fix.console(),y.fix.requestAnimationFrame()},fix:{console:function(){y.debug("Normalizing window.console"),(console===i||console.log===i)&&(y.verbose("Console not available, normalizing events"),y.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(y.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(y.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){y.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){y.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(y.debug("RequestAnimationFrame not available, normailizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){y.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){y.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,o,a){o="string"==typeof o?"all"===o?u.modules:[o]:o||u.modules,a=a!==i?a:!0,e.each(o,function(i,o){var r=y.moduleExists(o)?e.fn[o].settings.namespace||!1:!0,s;y.moduleExists(o)&&(y.verbose("Changing default setting",t,n,o),e.fn[o].settings[t]=n,a&&r&&(s=e(":data(module-"+r+")"),s.length>0&&(y.verbose("Modifying existing settings",s),s[o]("setting",t,n))))})},settings:function(t,n,o){n="string"==typeof n?[n]:n||u.modules,o=o!==i?o:!0,e.each(n,function(n,i){var a;y.moduleExists(i)&&(y.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),o&&d&&(a=e(":data(module-"+d+")"),a.length>0&&(y.verbose("Modifying existing settings",a),a[i]("setting",t))))})}},enable:{console:function(){y.console(!0)},debug:function(e,t){e=e||u.modules,y.debug("Enabling debug for modules",e),y.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,y.debug("Enabling verbose debug for modules",e),y.change.setting("verbose",!0,e,t)}},disable:{console:function(){y.console(!1)},debug:function(e,t){e=e||u.modules,y.debug("Disabling debug for modules",e),y.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,y.debug("Disabling verbose debug for modules",e),y.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(b.cache.console===i)return void y.error(m.console);y.debug("Restoring console function"),t.console=b.cache.console}else y.debug("Disabling console function"),b.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){y.verbose("Destroying previous site for",v),v.removeData(g)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(n===i)return u[t];u[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){u.debug&&(u.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,u.name+":"),y.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,u.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;u.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,100)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(y.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=b,r,s,c;return n=n||l,o=h||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(y.error(m.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(x)?x.push(c):x!==i?x=[x,c]:c!==i&&(x=c),s}},c?(b===i&&y.initialize(),y.invoke(s)):(b!==i&&y.destroy(),y.initialize()),x!==i?x:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!0,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","video","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t,o){var a=e(this),r=e.extend(!0,{},e.fn.form.settings,o),s=e.extend({},e.fn.form.settings.defaults,t),c=r.namespace,l=r.metadata,u=r.selector,d=r.className,m=r.error,f="."+c,g="module-"+c,p=a.selector||"",v=(new Date).getTime(),h=[],b=arguments[0],y="string"==typeof b,x=[].slice.call(arguments,1),w;return a.each(function(){var t=e(this),o=e(this).find(u.field),c=e(this).find(u.group),m=e(this).find(u.message),C=e(this).find(u.prompt),T=e(this).find(u.submit),k=e(this).find(u.clear),S=e(this).find(u.reset),A=[],P=!1,E=this,F=t.data(g),R;R={initialize:function(){R.verbose("Initializing form validation",t,s,r),R.bindEvents(),R.set.defaults(),R.instantiate()},instantiate:function(){R.verbose("Storing instance of module",R),F=R,t.data(g,R)},destroy:function(){R.verbose("Destroying previous module",F),R.removeEvents(),t.removeData(g)},refresh:function(){R.verbose("Refreshing selector cache"),o=t.find(u.field)},submit:function(){R.verbose("Submitting form",t),t.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click",function(e){R[n](),e.preventDefault()})},bindEvents:function(){r.keyboardShortcuts&&o.on("keydown"+f,R.event.field.keydown),t.on("submit"+f,R.validate.form),o.on("blur"+f,R.event.field.blur),R.attachEvents(T,"submit"),R.attachEvents(S,"reset"),R.attachEvents(k,"clear"),o.each(function(){var t=e(this).prop("type"),n=R.get.changeEvent(t);e(this).on(n+f,R.event.field.change)})},clear:function(){o.each(function(){var t=e(this),n=t.parent(),i=t.closest(c),o=i.find(u.prompt),a=t.data(l.defaultValue)||"",r=n.is(u.uiCheckbox),s=n.is(u.uiDropdown),m=i.hasClass(d.error);m&&(R.verbose("Resetting error on field",i),i.removeClass(d.error),o.remove()),s?(R.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):r?n.checkbox("uncheck"):(R.verbose("Resetting field value",t,a),t.val(""))})},reset:function(){o.each(function(){var t=e(this),n=t.parent(),i=t.closest(c),o=i.find(u.prompt),a=t.data(l.defaultValue)||"",r=n.is(u.uiCheckbox),s=n.is(u.uiDropdown),m=i.hasClass(d.error);m&&(R.verbose("Resetting error on field",i),i.removeClass(d.error),o.remove()),s?(R.verbose("Resetting dropdown value",n,a),n.dropdown("restore defaults")):r?(R.verbose("Resetting checkbox value",n,a),n.checkbox(a===!0?"check":"uncheck")):(R.verbose("Resetting field value",t,a),t.val(a))})},removeEvents:function(){t.off(f),o.off(f),T.off(f),o.off(f)},event:{field:{keydown:function(t){var n=e(this),i=t.which,o={enter:13,escape:27};i==o.escape&&(R.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==o.enter&&n.is(u.input)&&n.not(u.checkbox).length>0&&(T.addClass(d.pressed),P||(n.one("keyup"+f,R.event.field.keyup),R.submit(),R.debug("Enter pressed on input submitting form")),P=!0)},keyup:function(){P=!1,T.removeClass(d.pressed)},blur:function(){var t=e(this),n=t.closest(c);n.hasClass(d.error)?(R.debug("Revalidating field",t,R.get.validation(t)),R.validate.field(R.get.validation(t))):("blur"==r.on||"change"==r.on)&&R.validate.field(R.get.validation(t))},change:function(){var t=e(this),n=t.closest(c);("change"==r.on||n.hasClass(d.error)&&r.revalidate)&&(clearTimeout(R.timer),R.timer=setTimeout(function(){R.debug("Revalidating field",t,R.get.validation(t)),R.validate.field(R.get.validation(t))},r.delay))}}},get:{changeEvent:function(e){return"checkbox"==e||"radio"==e||"hidden"==e?"change":R.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},field:function(t){return R.verbose("Finding field with identifier",t),o.filter("#"+t).length>0?o.filter("#"+t):o.filter('[name="'+t+'"]').length>0?o.filter('[name="'+t+'"]'):o.filter('[name="'+t+'[]"]').length>0?o.filter('[name="'+t+'[]"]'):o.filter("[data-"+l.validate+'="'+t+'"]').length>0?o.filter("[data-"+l.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(R.get.field(t))}),n},validation:function(t){var n;return e.each(s,function(e,i){R.get.field(i.identifier).get(0)==t.get(0)&&(n=i)}),n||!1},value:function(e){var t=[],n;return t.push(e),n=R.get.values.call(E,t),n[e]},values:function(t){var n=e.isArray(t)?R.get.fields(t):o,i={};return n.each(function(t,n){var o=e(n),a=o.prop("type"),r=o.prop("name"),s=o.val(),c=o.is(u.checkbox),l=o.is(u.radio),d=-1!==r.indexOf("[]"),m=c?o.is(":checked"):!1;if(r)if(d)if(r=r.replace("[]",""),i[r]||(i[r]=[]),c){if(!m)return R.debug("Omitted unchecked checkbox",o),!0;i[r].push(s)}else i[r].push(s);else if(l)m&&(i[r]=s);else if(c){if(!m)return R.debug("Omitted unchecked checkbox",o),!0;i[r]=!0}else i[r]=s}),i}},has:{field:function(e){return R.verbose("Checking for existence of a field with identifier",e),o.filter("#"+e).length>0?!0:o.filter('[name="'+e+'"]').length>0?!0:o.filter("[data-"+l.validate+'="'+e+'"]').length>0?!0:!1}},add:{prompt:function(n,o){var a=R.get.field(n),s=a.closest(c),l=s.children(u.prompt),m=0!==l.length;o="string"==typeof o?[o]:o,R.verbose("Adding field error state",n),s.addClass(d.error),r.inline&&(m||(l=r.templates.prompt(o),l.appendTo(s)),l.html(o[0]),m?R.verbose("Inline errors are disabled, no inline error added",n):r.transition&&e.fn.transition!==i&&t.transition("is supported")?(R.verbose("Displaying error with css transition",r.transition),l.transition(r.transition+" in",r.duration)):(R.verbose("Displaying error with fallback javascript animation"),l.fadeIn(r.duration)))},errors:function(e){R.debug("Adding form error messages",e),m.html(r.templates.error(e))}},remove:{prompt:function(n){var o=R.get.field(n.identifier),a=o.closest(c),s=a.children(u.prompt);a.removeClass(d.error),r.inline&&s.is(":visible")&&(R.verbose("Removing prompt for field",n),r.transition&&e.fn.transition!==i&&t.transition("is supported")?s.transition(r.transition+" out",r.duration,function(){s.remove()}):s.fadeOut(r.duration,function(){s.remove()}))}},set:{success:function(){t.removeClass(d.error).addClass(d.success)},defaults:function(){o.each(function(){var t=e(this),n=t.filter(u.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(l.defaultValue,i)})},error:function(){t.removeClass(d.success).addClass(d.error)},value:function(e,t){var n={};return n[e]=t,R.set.values.call(E,n)},values:function(t){e.isEmptyObject(t)||(e.each(t,function(t,n){var i=R.get.field(t),o=i.parent(),a=e.isArray(n),r=o.is(u.uiCheckbox),s=o.is(u.uiDropdown),c=i.is(u.radio)&&r,l=i.length>0,d;l&&(a&&r?(R.verbose("Selecting multiple",n,i),o.checkbox("uncheck"),e.each(n,function(e,t){d=i.filter('[value="'+t+'"]'),o=d.parent(),d.length>0&&o.checkbox("check")})):c?(R.verbose("Selecting radio value",n,i),i.filter('[value="'+n+'"]').parent(u.uiCheckbox).checkbox("check")):r?(R.verbose("Setting checkbox value",n,o),o.checkbox(n===!0?"check":"uncheck")):s?(R.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(R.verbose("Setting field value",n,i),i.val(n)))}),R.validate.form())}},validate:{form:function(n){var o=!0,a;return P?!1:(A=[],e.each(s,function(e,t){R.validate.field(t)||(o=!1)}),o?(R.debug("Form has no validation errors, submitting"),R.set.success(),r.onSuccess.call(E,n)):(R.debug("Form has errors"),R.set.error(),r.inline||R.add.errors(A),t.data("moduleApi")!==i&&n.stopImmediatePropagation(),r.onFailure.call(E,A)))},field:function(t){var n=R.get.field(t.identifier),o=!0,a=[];return n.prop("disabled")?(R.debug("Field is disabled. Skipping",t.identifier),o=!0):t.optional&&""===e.trim(n.val())?(R.debug("Field is optional and empty. Skipping",t.identifier),o=!0):t.rules!==i&&e.each(t.rules,function(e,n){R.has.field(t.identifier)&&!R.validate.rule(t,n)&&(R.debug("Field is invalid",t.identifier,n.type),a.push(n.prompt),o=!1)}),o?(R.remove.prompt(t,a),r.onValid.call(n),!0):(A=A.concat(a),R.add.prompt(t.identifier,a),r.onInvalid.call(n,a),!1)},rule:function(t,n){var o=R.get.field(t.identifier),a=n.type,s=e.trim(o.val()+""),c=/\[(.*)\]/i,l=c.exec(a),u=!0,d,m;return l!==i&&null!==l?(d=""+l[1],m=a.replace(l[0],""),u=r.rules[m].call(E,s,d)):u=r.rules[a].call(o,s),u}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,R,t);else{if(n===i)return R[t];R[t]=n}},debug:function(){r.debug&&(r.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,r.name+":"),R.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),R.verbose.apply(console,arguments)))},error:function(){R.error=Function.prototype.bind.call(console.error,console,r.name+":"),R.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=v||t,n=t-i,v=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,100)},display:function(){var t=r.name+":",n=0;v=!1,clearTimeout(R.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",p&&(t+=" '"+p+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||x,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(w)?w.push(c):w!==i?w=[w,c]:c!==i&&(w=c),s}},y?(F===i&&R.initialize(),R.invoke(b)):(F!==i&&F.invoke("destroy"),R.initialize())}),w!==i?w:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!0,performance:!0,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:".reset",submit:".submit",uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{method:"The method you called is not defined."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui red pointing prompt label").html(t[0])}},rules:{checked:function(){return e(this).filter(":checked").length>0},contains:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),-1!==e.search(new RegExp(t))},email:function(e){var t=new RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?","i");return t.test(e)},empty:function(e){return!(e===i||""===e)},integer:function(e,t){var n=/^\-?\d+$/,o,a,r;return t===i||""===t||".."===t||(-1==t.indexOf("..")?n.test(t)&&(o=a=t-0):(r=t.split("..",2),n.test(r[0])&&(o=r[0]-0),n.test(r[1])&&(a=r[1]-0))),n.test(e)&&(o===i||e>=o)&&(a===i||a>=e)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},length:function(e,t){return e!==i?e.length>=t:!1},match:function(t,n){var o=e(this),a;return o.find("#"+n).length>0?a=o.find("#"+n).val():o.find('[name="'+n+'"]').length>0?a=o.find('[name="'+n+'"]').val():o.find('[data-validate="'+n+'"]').length>0&&(a=o.find('[data-validate="'+n+'"]').val()),a!==i?t.toString()==a.toString():!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},url:function(e){var t=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return t.test(e)}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.accordion=function(n){var o=e(this),a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},d;return o.each(function(){var u=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),m=u.className,f=u.namespace,g=u.selector,p=u.error,v="."+f,h="module-"+f,b=o.selector||"",y=e(this),x=y.find(g.title),w=y.find(g.content),C=this,T=y.data(h),k,S;S={initialize:function(){S.debug("Initializing",y),S.bind.events(),S.observeChanges(),S.instantiate()},instantiate:function(){T=S,y.data(h,S)},destroy:function(){S.debug("Destroying previous instance",y),y.off(v).removeData(h)},refresh:function(){x=y.find(g.title),w=y.find(g.content)},observeChanges:function(){"MutationObserver"in t&&(k=new MutationObserver(function(e){S.debug("DOM tree modified, updating selector cache"),S.refresh()}),k.observe(C,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",k))},bind:{events:function(){S.debug("Binding delegated events"),y.on("click"+v,g.trigger,S.event.click)}},event:{click:function(){S.toggle.call(this)}},toggle:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=r&&!a,c=!r&&a;S.debug("Toggling visibility of content",n),s||c?u.collapsible?S.close.call(n):S.debug("Cannot close accordion content collapsing is disabled"):S.open.call(n)},open:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=!r&&!a;s&&(S.debug("Opening accordion content",n),u.exclusive&&S.closeOthers.call(n),n.addClass(m.active),o.addClass(m.animating),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?o.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):o.children().stop(!0).animate({opacity:1},u.duration,S.resetOpacity)),o.stop(!0).slideDown(u.duration,u.easing,function(){o.removeClass(m.animating).addClass(m.active),S.reset.display.call(this),u.onOpen.call(this),u.onChange.call(this)}))},close:function(t){var n=t!==i?"number"==typeof t?x.eq(t):e(t).closest(g.title):e(this).closest(g.title),o=n.next(w),a=o.hasClass(m.animating),r=o.hasClass(m.active),s=!r&&a,c=r&&a;!r&&!s||c||(S.debug("Closing accordion content",o),n.removeClass(m.active),o.addClass(m.animating),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?o.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):o.children().stop(!0).animate({opacity:0},u.duration,S.resetOpacity)),o.stop(!0).slideUp(u.duration,u.easing,function(){o.removeClass(m.animating).removeClass(m.active),S.reset.display.call(this),u.onClose.call(this),u.onChange.call(this)}))},closeOthers:function(t){var n=t!==i?x.eq(t):e(this).closest(g.title),o=n.parents(g.content).prev(g.title),a=n.closest(g.accordion),r=g.title+"."+m.active+":visible",s=g.content+"."+m.active+":visible",c,l,d;u.closeNested?(c=a.find(r).not(o),d=c.next(w)):(c=a.find(r).not(o),l=a.find(s).find(r).not(o),c=c.not(l),d=c.next(w)),c.length>0&&(S.debug("Exclusive enabled, closing other content",c),c.removeClass(m.active),u.animateChildren&&(e.fn.transition!==i&&y.transition("is supported")?d.children().transition({animation:"fade out",useFailSafe:!0,debug:u.debug,verbose:u.verbose,duration:u.duration}):d.children().stop().animate({opacity:0},u.duration,S.resetOpacity)),d.stop().slideUp(u.duration,u.easing,function(){e(this).removeClass(m.active),S.reset.display.call(this)}))},reset:{display:function(){S.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){S.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,u,t);else{if(n===i)return u[t];u[t]=n}},internal:function(t,n){return S.debug("Changing internal",t,n),n===i?S[t]:void(e.isPlainObject(t)?e.extend(!0,S,t):S[t]=n)},debug:function(){u.debug&&(u.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,u.name+":"),S.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,u.name+":"),S.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;u.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,100)},display:function(){var t=u.name+":",n=0;a=!1,clearTimeout(S.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=T,r,s,c;return n=n||l,o=C||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(S.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},c?(T===i&&S.initialize(),S.invoke(s)):(T!==i&&T.invoke("destroy"),S.initialize())}),d!==i?d:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!0,performance:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpen:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.extend(!0,{},e.fn.checkbox.settings,n),m=o.className,f=o.namespace,g=o.selector,p=o.error,v="."+f,h="module-"+f,b=e(this),y=e(this).find(g.label).first(),x=e(this).find(g.input),w=b.data(h),C,T=this,k;k={initialize:function(){k.verbose("Initializing checkbox",o),k.create.label(),k.add.events(),k.is.checked()?(k.set.checked(),o.fireOnInit&&o.onChecked.call(x.get())):(k.remove.checked(),o.fireOnInit&&o.onUnchecked.call(x.get())),k.observeChanges(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),w=k,b.data(h,k)},destroy:function(){k.verbose("Destroying module"),k.remove.events(),b.removeData(h)},refresh:function(){b=e(this),y=e(this).find(g.label).first(),x=e(this).find(g.input)},observeChanges:function(){"MutationObserver"in t&&(C=new MutationObserver(function(e){k.debug("DOM tree modified, updating selector cache"),k.refresh()}),C.observe(T,{childList:!0,subtree:!0}),k.debug("Setting up mutation observer",C))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(k[n])?k[n]:k.toggle,i.length>0?(k.debug("Attaching checkbox events to element",t,n),i.on("click"+v,n)):k.error(p.notFound)},event:{keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape&&(k.verbose("Escape key pressed blurring field"),b.blur()),e.ctrlKey||t!=n.enter&&t!=n.space||(k.verbose("Enter key pressed, toggling checkbox"),k.toggle.call(this),e.preventDefault())}},is:{radio:function(){return b.hasClass(m.radio)},checked:function(){return x.prop("checked")!==i&&x.prop("checked")},unchecked:function(){return!k.is.checked()}},can:{change:function(){return!(b.hasClass(m.disabled)||b.hasClass(m.readOnly)||x.prop("disabled"))},uncheck:function(){return"boolean"==typeof o.uncheckable?o.uncheckable:!k.is.radio()}},set:{checked:function(){b.addClass(m.checked)},tab:function(){x.attr("tabindex")===i&&x.attr("tabindex",0)}},create:{label:function(){x.prevAll(g.label).length>0?(x.prev(g.label).detach().insertAfter(x),k.debug("Moving existing label",y)):k.has.label()||(y=e("<label>").insertAfter(x),k.debug("Creating label",y))}},has:{label:function(){return y.length>0}},add:{events:function(){k.verbose("Attaching checkbox events"),b.on("click"+v,k.toggle).on("keydown"+v,g.input,k.event.keydown)}},remove:{checked:function(){b.removeClass(m.checked)},events:function(){k.debug("Removing events"),b.off(v).removeData(h),x.off(v,k.event.keydown),y.off(v)}},enable:function(){k.debug("Enabling checkbox functionality"),b.removeClass(m.disabled),x.prop("disabled",!1),o.onEnabled.call(x.get())},disable:function(){k.debug("Disabling checkbox functionality"),b.addClass(m.disabled),x.prop("disabled","disabled"),o.onDisabled.call(x.get())},check:function(){k.debug("Enabling checkbox",x),x.prop("checked",!0).trigger("change"),k.set.checked(),x.trigger("blur"),o.onChange.call(x.get()),o.onChecked.call(x.get())},uncheck:function(){k.debug("Disabling checkbox"),x.prop("checked",!1).trigger("change"),k.remove.checked(),x.trigger("blur"),o.onChange.call(x.get()),o.onUnchecked.call(x.get())},toggle:function(e){return k.can.change()?(k.verbose("Determining new checkbox state"),void(k.is.unchecked()?k.check():k.is.checked()&&k.can.uncheck()&&k.uncheck())):(console.log(k.can.change()),void k.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(k.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},debug:function(){o.debug&&(o.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,o.name+":"),k.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,o.name+":"),k.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(k.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=w,r,s,c;return n=n||u,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(k.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(w===i&&k.initialize(),k.invoke(c)):(w!==i&&w.invoke("destroy"),k.initialize())}),d!==i?d:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!0,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",disabled:"disabled",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{input:'input[type="checkbox"], input[type="radio"]',label:"label"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.dimmer=function(t){var o=e(this),a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u;return o.each(function(){var d=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),m=d.selector,f=d.namespace,g=d.className,p=d.error,v="."+f,h="module-"+f,b=o.selector||"",y="ontouchstart"in n.documentElement?"touchstart":"click",x=e(this),w,C,T=this,k=x.data(h),S;S={preinitialize:function(){S.is.dimmer()?(C=x.parent(),w=x):(C=x,w=S.has.dimmer()?d.dimmerName?C.children(m.dimmer).filter("."+d.dimmerName):C.children(m.dimmer):S.create());

},initialize:function(){S.debug("Initializing dimmer",d),"hover"==d.on?C.on("mouseenter"+v,S.show).on("mouseleave"+v,S.hide):"click"==d.on&&C.on(y+v,S.toggle),S.is.page()&&(S.debug("Setting as a page dimmer",C),S.set.pageDimmer()),S.is.closable()&&(S.verbose("Adding dimmer close event",w),w.on(y+v,S.event.click)),S.set.dimmable(),S.instantiate()},instantiate:function(){S.verbose("Storing instance of module",S),k=S,x.data(h,k)},destroy:function(){S.verbose("Destroying previous module",w),x.removeData(h),C.off(v),w.off(v)},event:{click:function(t){S.verbose("Determining if event occured on dimmer",t),(0===w.find(t.target).length||e(t.target).is(m.content))&&(S.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);S.debug("Add content to dimmer",n),n.parent()[0]!==w[0]&&n.detach().appendTo(w)},create:function(){var t=e(d.template.dimmer());return d.variation&&(S.debug("Creating dimmer with variation",d.variation),t.addClass(d.variation)),d.dimmerName&&(S.debug("Creating named dimmer",d.dimmerName),t.addClass(d.dimmerName)),t.appendTo(C),t},show:function(t){t=e.isFunction(t)?t:function(){},S.debug("Showing dimmer",w,d),S.is.dimmed()&&!S.is.animating()||!S.is.enabled()?S.debug("Dimmer is already shown or disabled"):(S.animate.show(t),d.onShow.call(T),d.onChange.call(T))},hide:function(t){t=e.isFunction(t)?t:function(){},S.is.dimmed()||S.is.animating()?(S.debug("Hiding dimmer",w),S.animate.hide(t),d.onHide.call(T),d.onChange.call(T)):S.debug("Dimmer is not visible")},toggle:function(){S.verbose("Toggling dimmer visibility",w),S.is.dimmed()?S.hide():S.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},d.useCSS&&e.fn.transition!==i&&w.transition("is supported")?("auto"!==d.opacity&&S.set.opacity(),w.transition({animation:d.transition+" in",queue:!1,duration:S.get.duration(),useFailSafe:!0,onStart:function(){S.set.dimmed()},onComplete:function(){S.set.active(),t()}})):(S.verbose("Showing dimmer animation with javascript"),S.set.dimmed(),"auto"==d.opacity&&(d.opacity=.8),w.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(S.get.duration(),d.opacity,function(){w.removeAttr("style"),S.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},d.useCSS&&e.fn.transition!==i&&w.transition("is supported")?(S.verbose("Hiding dimmer with css"),w.transition({animation:d.transition+" out",queue:!1,duration:S.get.duration(),useFailSafe:!0,onStart:function(){S.remove.dimmed()},onComplete:function(){S.remove.active(),t()}})):(S.verbose("Hiding dimmer with javascript"),S.remove.dimmed(),w.stop().fadeOut(S.get.duration(),function(){S.remove.active(),w.removeAttr("style"),t()}))}},get:{dimmer:function(){return w},duration:function(){return"object"==typeof d.duration?S.is.active()?d.duration.hide:d.duration.show:d.duration}},has:{dimmer:function(){return d.dimmerName?x.children(m.dimmer).filter("."+d.dimmerName).length>0:x.children(m.dimmer).length>0}},is:{active:function(){return w.hasClass(g.active)},animating:function(){return w.is(":animated")||w.hasClass(g.animating)},closable:function(){return"auto"==d.closable?"hover"==d.on?!1:!0:d.closable},dimmer:function(){return x.is(m.dimmer)},dimmable:function(){return x.is(m.dimmable)},dimmed:function(){return C.hasClass(g.dimmed)},disabled:function(){return C.hasClass(g.disabled)},enabled:function(){return!S.is.disabled()},page:function(){return C.is("body")},pageDimmer:function(){return w.hasClass(g.pageDimmer)}},can:{show:function(){return!w.hasClass(g.disabled)}},set:{opacity:function(e){var e=d.opacity||e,t=w.css("background-color"),n=t.split(","),i=n&&4==n.length;i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",S.debug("Setting opacity to",e),w.css("background-color",t)},active:function(){w.addClass(g.active)},dimmable:function(){C.addClass(g.dimmable)},dimmed:function(){C.addClass(g.dimmed)},pageDimmer:function(){w.addClass(g.pageDimmer)},disabled:function(){w.addClass(g.disabled)}},remove:{active:function(){w.removeClass(g.active)},dimmed:function(){C.removeClass(g.dimmed)},disabled:function(){w.removeClass(g.disabled)}},setting:function(t,n){if(S.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},debug:function(){d.debug&&(d.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,d.name+":"),S.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,d.name+":"),S.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,100)},display:function(){var t=d.name+":",n=0;a=!1,clearTimeout(S.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",b&&(t+=" '"+b+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=k,r,s,c;return n=n||l,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(S.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(u)?u.push(c):u!==i?u=[u,c]:c!==i&&(u=c),s}},S.preinitialize(),c?(k===i&&S.initialize(),S.invoke(s)):(k!==i&&k.invoke("destroy"),S.initialize())}),u!==i?u:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!0,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},selector:{dimmable:".dimmable",dimmer:".ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(o){var a=e(this),r=e(n),s=a.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),u=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1),g;return a.each(function(){var p=e.isPlainObject(o)?e.extend(!0,{},e.fn.dropdown.settings,o):e.extend({},e.fn.dropdown.settings),v=p.className,h=p.metadata,b=p.namespace,y=p.selector,x=p.error,w="."+b,C="module-"+b,T=e(this),k=T.find(y.text),S=T.find(y.search),A=T.find(y.input),P=T.prev().find(y.text).length>0?T.prev().find(y.text):T.prev(),E=T.children(y.menu),F=E.find(y.item),R=!1,O=!1,D=this,z=T.data(C),q,j,N,I;I={initialize:function(){I.debug("Initializing dropdown",p),I.is.alreadySetup()?I.setup.reference():(I.setup.layout(),I.save.defaults(),I.set.selected(),I.create.id(),c&&I.bind.touchEvents(),I.bind.mouseEvents(),I.bind.keyboardEvents(),I.observeChanges(),I.instantiate())},instantiate:function(){I.verbose("Storing instance of dropdown",I),z=I,T.data(C,I)},destroy:function(){I.verbose("Destroying previous dropdown for",T),I.remove.tabbable(),T.off(w).removeData(C),E.off(w),r.off(q)},observeChanges:function(){"MutationObserver"in t&&(N=new MutationObserver(function(e){I.is.selectMutation(e)?(I.debug("<select> modified, recreating menu"),I.setup.select()):(I.debug("DOM tree modified, updating selector cache"),I.refresh())}),N.observe(D,{childList:!0,subtree:!0}),I.debug("Setting up mutation observer",N))},create:{id:function(){j=(Math.random().toString(16)+"000000000").substr(2,8),q="."+j,I.verbose("Creating unique id for element",j)}},search:function(){var e;e=S.val(),I.verbose("Searching for query",e),I.filter(e),I.is.searchSelection()&&I.can.show()&&I.show()},setup:{layout:function(){T.is("select")&&I.setup.select(),I.is.search()&&!I.is.searchable()&&(S=e("<input />").addClass(v.search).insertBefore(k)),p.allowTab&&I.set.tabbable()},select:function(){var t=I.get.selectValues();I.debug("Dropdown initialized on a select",t),T.is("select")&&(A=T),A.parent(y.dropdown).length>0?(I.debug("UI dropdown already exists. Creating dropdown menu only"),T=A.closest(y.dropdown),E=T.children(y.menu),0===E.length&&(E=e("<div />").addClass(v.menu).appendTo(T)),E.html(p.templates.menu(t))):(I.debug("Creating entire dropdown from select"),T=e("<div />").attr("class",A.attr("class")).addClass(v.selection).addClass(v.dropdown).html(p.templates.dropdown(t)).insertBefore(A),A.removeAttr("class").prependTo(T)),I.refresh()},reference:function(){var e=a.index(T),t,n;I.debug("Dropdown behavior was called on select, replacing with closest dropdown"),T=T.parent(y.dropdown),I.refresh(),t=a.slice(0,e),n=a.slice(e+1),a=t.add(T).add(n),m&&(z=I,I.invoke(d))}},refresh:function(){I.verbose("Refreshing selector cache"),k=T.find(y.text),S=T.find(y.search),A=T.find(y.input),P=T.prev().find(y.text).length>0?T.prev().find(y.text):T.prev(),E=T.children(y.menu),F=E.find(y.item)},toggle:function(){I.verbose("Toggling menu visibility"),I.is.active()?I.hide():I.show()},show:function(t){t=e.isFunction(t)?t:function(){},I.is.searchSelection()&&I.is.allFiltered()||I.can.show()&&!I.is.active()&&(I.debug("Showing dropdown"),I.animate.show(function(){I.can.click()&&I.bind.intent(),I.set.visible(),t.call(D)}),p.onShow.call(D))},hide:function(t){t=e.isFunction(t)?t:function(){},I.is.active()&&(I.debug("Hiding dropdown"),I.animate.hide(function(){I.remove.visible(),t.call(D)}),p.onHide.call(D))},hideOthers:function(){I.verbose("Finding other dropdowns to hide"),a.not(T).has(y.menu+":visible:not(."+v.animating+")").dropdown("hide")},hideSubMenus:function(){var e=E.find(y.menu);e.transition("hide")},bind:{keyboardEvents:function(){I.debug("Binding keyboard events"),T.on("keydown"+w,I.event.keydown),I.is.searchable()&&T.on(I.get.inputEvent(),y.search,I.event.input)},touchEvents:function(){I.debug("Touch device detected binding additional touch events"),I.is.searchSelection()||T.on("touchstart"+w,I.event.test.toggle),E.on("touchstart"+w,y.item,I.event.item.mouseenter)},mouseEvents:function(){I.verbose("Mouse detected binding mouse events"),I.is.searchSelection()?T.on("mousedown"+w,y.menu,I.event.menu.activate).on("mouseup"+w,y.menu,I.event.menu.deactivate).on("click"+w,y.search,I.show).on("focus"+w,y.search,I.event.searchFocus).on("blur"+w,y.search,I.event.searchBlur).on("click"+w,y.text,I.event.searchTextFocus):("click"==p.on?T.on("click"+w,I.event.test.toggle):"hover"==p.on?T.on("mouseenter"+w,I.delay.show).on("mouseleave"+w,I.delay.hide):T.on(p.on+w,I.toggle),T.on("mousedown"+w,I.event.mousedown).on("mouseup"+w,I.event.mouseup).on("focus"+w,I.event.focus).on("blur"+w,I.event.blur)),E.on("mouseenter"+w,y.item,I.event.item.mouseenter).on("mouseleave"+w,y.item,I.event.item.mouseleave).on("click"+w,y.item,I.event.item.click)},intent:function(){I.verbose("Binding hide intent event to document"),c&&r.on("touchstart"+q,I.event.test.touch).on("touchmove"+q,I.event.test.touch),r.on("click"+q,I.event.test.hide)}},unbind:{intent:function(){I.verbose("Removing hide intent event from document"),c&&r.off("touchstart"+q).off("touchmove"+q),r.off("click"+q)}},filter:function(t){var n=e(),i=I.escape.regExp(t),o=new RegExp("^"+i,"igm"),a=new RegExp(i,"ig"),r;I.verbose("Searching for matching values"),F.each(function(){var t=e(this),i=String(I.get.choiceText(t,!1)),r=String(I.get.choiceValue(t,i));i.match(o)||r.match(o)?n=n.add(t):p.fullTextSearch&&(i.match(a)||r.match(a))&&(n=n.add(t))}),I.debug("Setting filter",t),I.remove.filteredItem(),F.not(n).addClass(v.filtered),I.verbose("Selecting first non-filtered element"),I.remove.selectedItem(),F.not("."+v.filtered).eq(0).addClass(v.selected),I.is.allFiltered()&&(I.debug("All items filtered, hiding dropdown",t),I.is.searchSelection()&&I.hide(),p.onNoResults.call(D,t))},focusSearch:function(){I.is.search()&&S.focus()},forceSelection:function(){var e=F.not(v.filtered).filter("."+v.selected).eq(0),t=F.filter("."+v.active).eq(0),n=e.length>0?e:t,i=n.size()>0;i?(I.event.item.click.call(n),I.remove.filteredItem()):I.hide()},event:{mousedown:function(){R=!0},mouseup:function(){R=!1},focus:function(){!R&&I.is.hidden()&&I.show()},blur:function(e){var t=n.activeElement===this;R||t||I.hide()},searchFocus:function(){R=!0,I.show()},searchBlur:function(e){var t=n.activeElement===this;O||t||(p.forceSelection?I.forceSelection():I.hide())},searchTextFocus:function(e){R=!0,S.focus()},input:function(e){I.is.searchSelection()&&I.set.filtered(),clearTimeout(I.timer),I.timer=setTimeout(I.search,p.delay.search)},keydown:function(e){var t=F.not(v.filtered).filter("."+v.selected).eq(0),n=E.children("."+v.active).eq(0),i=t.length>0?t:n,o=i.length>0?i.siblings(":not(."+v.filtered+")").andSelf():E.children(":not(."+v.filtered+")"),a=i.children(y.menu),r=i.closest(y.menu),s=r[0]!==E[0],c=r.is(":visible"),l=e.which,u={enter:13,escape:27,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},d=a.length>0,m=i.length>0,f=o.size()-1,g,h;if(I.is.visible()){if(l==u.enter&&m&&(d&&!p.allowCategorySelection?(I.verbose("Pressed enter on unselectable category, opening sub menu"),l=u.rightArrow):(I.verbose("Enter key pressed, choosing selected item"),I.event.item.click.call(i,e))),l==u.leftArrow&&s&&(I.verbose("Left key pressed, closing sub-menu"),I.animate.hide(!1,r),i.removeClass(v.selected),r.closest(y.item).addClass(v.selected),e.preventDefault()),l==u.rightArrow&&d&&(I.verbose("Right key pressed, opening sub-menu"),I.animate.show(!1,a),i.removeClass(v.selected),a.find(y.item).eq(0).addClass(v.selected),e.preventDefault()),l==u.upArrow){if(g=m&&c?i.prevAll(y.item+":not(."+v.filtered+")").eq(0):F.eq(0),o.index(g)<0)return void I.verbose("Up key pressed but reached top of current menu");I.verbose("Up key pressed, changing active item"),i.removeClass(v.selected),g.addClass(v.selected),I.set.scrollPosition(g),e.preventDefault()}if(l==u.downArrow){if(g=m&&c?g=i.nextAll(y.item+":not(."+v.filtered+")").eq(0):F.eq(0),0===g.length)return void I.verbose("Down key pressed but reached bottom of current menu");I.verbose("Down key pressed, changing active item"),F.removeClass(v.selected),g.addClass(v.selected),I.set.scrollPosition(g),e.preventDefault()}}else l==u.enter&&(I.verbose("Enter key pressed, showing dropdown"),I.show()),l==u.escape&&(I.verbose("Escape key pressed, closing dropdown"),I.hide()),l==u.downArrow&&(I.verbose("Down key pressed, showing dropdown"),I.show())},test:{toggle:function(e){I.determine.eventInMenu(e,I.toggle)&&e.preventDefault()},touch:function(e){I.determine.eventInMenu(e,function(){"touchstart"==e.type?I.timer=setTimeout(I.hide,p.delay.touch):"touchmove"==e.type&&clearTimeout(I.timer)}),e.stopPropagation()},hide:function(e){I.determine.eventInModule(e,I.hide)}},menu:{activate:function(){O=!0},deactivate:function(){O=!1}},item:{mouseenter:function(t){var n=e(this).children(y.menu),i=e(this).siblings(y.item).children(y.menu);n.length>0&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Showing sub-menu",n),e.each(i,function(){I.animate.hide(!1,e(this))}),I.animate.show(!1,n)},p.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(y.menu);n.length>0&&(clearTimeout(I.itemTimer),I.itemTimer=setTimeout(function(){I.verbose("Hiding sub-menu",n),I.animate.hide(!1,n)},p.delay.hide))},click:function(t){var n=e(this),i=e(t?t.target:""),o=n.find(y.menu),a=I.get.choiceText(n),r=I.get.choiceValue(n,a),s=function(){I.remove.searchTerm(),I.determine.selectAction(a,r)},c=o.length>0,l=o.find(i).length>0;l||c&&!p.allowCategorySelection||s()}},resetStyle:function(){e(this).removeAttr("style")}},determine:{selectAction:function(t,n){I.verbose("Determining action",p.action),e.isFunction(I.action[p.action])?(I.verbose("Triggering preset action",p.action,t,n),I.action[p.action](t,n)):e.isFunction(p.action)?(I.verbose("Triggering user action",p.action,t,n),p.action(t,n)):I.error(x.action,p.action)},eventInModule:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(T).length?(I.verbose("Triggering event",n),n(),!0):(I.verbose("Event occurred in dropdown, canceling callback"),!1)},eventInMenu:function(t,n){return n=e.isFunction(n)?n:function(){},0===e(t.target).closest(E).length?(I.verbose("Triggering event",n),n(),!0):(I.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},select:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},combo:function(e,t){t=t!==i?t:e,I.set.selected(t),I.hide(function(){I.remove.filteredItem()})},hide:function(){I.hide(function(){I.remove.filteredItem()})}},get:{id:function(){return j},text:function(){return k.text()},value:function(){return A.length>0?A.val():T.data(h.value)},choiceText:function(e,t){return t=t!==i?t:p.preserveHTML,e!==i?(e.find(y.menu).length>0&&(I.verbose("Retreiving text of element with sub-menu"),e=e.clone(),e.find(y.menu).remove(),e.find(y.menuIcon).remove()),e.data(h.text)!==i?e.data(h.text):t?e.html().trim():e.text().trim()):void 0},choiceValue:function(e,t){return t=t||I.get.choiceText(e),e.data(h.value)!==i?e.data(h.value):"string"==typeof t?t.toLowerCase().trim():t.trim()},inputEvent:function(){var e=S[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=p.sortSelect?{}:[],T.find("option").each(function(){var n=e(this).html(),o=e(this).attr("value")!==i?e(this).attr("value"):n;""===o?t.placeholder=n:p.sortSelect?t.values[o]={name:n,value:o}:t.values.push({name:n,value:o})}),p.sortSelect?I.debug("Retrieved and sorted values from select",t):I.debug("Retreived values from select",t),t},activeItem:function(){return F.filter("."+v.active)},item:function(t,n){var o=!1;return t=t!==i?t:I.get.value()!==i?I.get.value():I.get.text(),n=""===t||0===t?!0:n||!1,t!==i?F.each(function(){var i=e(this),a=I.get.choiceText(i),r=I.get.choiceValue(i,a);if(n){if(I.verbose("Ambiguous dropdown value using strict type check",i,t),r===t)return o=e(this),!0;if(!o&&a===t)return o=e(this),!0}else{if(r==t)return I.verbose("Found select item by value",r,t),o=e(this),!0;if(!o&&a==t)return I.verbose("Found select item by text",a,t),o=e(this),!0}}):t=I.get.text(),o||!1}},restore:{defaults:function(){I.restore.defaultText(),I.restore.defaultValue()},defaultText:function(){var e=T.data(h.defaultText);I.debug("Restoring default text",e),I.set.text(e),k.addClass(v.placeholder)},defaultValue:function(){var e=T.data(h.defaultValue);e!==i&&(I.debug("Restoring default value",e),e.length?I.set.selected(e):(I.remove.activeItem(),I.remove.selectedItem()))}},save:{defaults:function(){I.save.defaultText(),I.save.placeholderText(),I.save.defaultValue()},defaultValue:function(){T.data(h.defaultValue,I.get.value())},defaultText:function(){T.data(h.defaultText,k.text())},placeholderText:function(){k.hasClass(v.placeholder)&&T.data(h.placeholderText,k.text())}},clear:function(){var e=T.data(h.placeholderText);I.set.text(e),I.set.value(""),I.remove.activeItem(),I.remove.selectedItem(),k.addClass(v.placeholder)},set:{filtered:function(){var e=S.val(),t="string"==typeof e&&e.length>0;t?k.addClass(v.filtered):k.removeClass(v.filtered)},tabbable:function(){I.is.searchable()?(I.debug("Searchable dropdown initialized"),S.val("").attr("tabindex",0),E.attr("tabindex","-1")):(I.debug("Simple selection dropdown initialized"),T.attr("tabindex")||(T.attr("tabindex",0),E.attr("tabindex","-1")))},scrollPosition:function(e,t){var n=5,o,a,r,s,c,l,u,d,m;e=e||I.get.activeItem(),o=e&&e.length>0,t=t!==i?t:!1,e&&o&&(E.hasClass(v.visible)||E.addClass(v.loading),u=E.height(),r=e.height(),l=E.scrollTop(),c=E.offset().top,s=e.offset().top,a=l-c+s,m=a+n>l+u,d=l>a-n,I.debug("Scrolling to active item",a),(d||m||t)&&E.scrollTop(a).removeClass(v.loading))},text:function(e){"combo"==p.action?(I.debug("Changing combo button text",e,P),p.preserveHTML?P.html(e):P.text(e)):"select"!==p.action&&(I.debug("Changing text",e,k),k.removeClass(v.filtered).removeClass(v.placeholder),p.preserveHTML?k.html(e):k.text(e))},value:function(e){I.debug("Adding selected value to hidden input",e,A),A.length>0?A.val(e).trigger("change"):T.data(h.value,e)},active:function(){T.addClass(v.active)},visible:function(){T.addClass(v.visible)},selected:function(e){var t=I.get.item(e),n,i;t&&!t.hasClass(v.active)&&(I.debug("Setting selected menu item to",t),I.remove.activeItem(),I.remove.selectedItem(),t.addClass(v.active).addClass(v.selected),n=I.get.choiceText(t),i=I.get.choiceValue(t,n),I.set.text(n),I.set.value(i),p.onChange.call(D,e,n,t))}},remove:{active:function(){T.removeClass(v.active)},visible:function(){T.removeClass(v.visible)},activeItem:function(){F.removeClass(v.active)},filteredItem:function(){F.removeClass(v.filtered)},searchTerm:function(){S.val("")},selectedItem:function(){F.removeClass(v.selected)},tabbable:function(){I.is.searchable()?(I.debug("Searchable dropdown initialized"),S.attr("tabindex","-1"),E.attr("tabindex","-1")):(I.debug("Simple selection dropdown initialized"),T.attr("tabindex","-1"),E.attr("tabindex","-1"))}},is:{active:function(){return T.hasClass(v.active)},alreadySetup:function(){return T.is("select")&&T.parent(y.dropdown).length>0},animating:function(e){return e?e.is(":animated")||e.transition&&e.transition("is animating"):E.is(":animated")||E.transition&&E.transition("is animating")},allFiltered:function(){return F.filter("."+v.filtered).length===F.length},hidden:function(e){return e?e.is(":hidden"):E.is(":hidden")},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return T.hasClass(v.search)},searchable:function(){return S.length>0},searchSelection:function(){return I.is.searchable()&&S.parent().is(T)},selection:function(){return T.hasClass(v.selection)},upward:function(){return T.hasClass(v.upward)},visible:function(e){return e?e.is(":visible"):E.is(":visible")}},can:{click:function(){return c||"click"==p.on},show:function(){return!T.hasClass(v.disabled)}},animate:{show:function(t,n){var o=n||E,a=n?function(){}:function(){I.hideSubMenus(),I.hideOthers(),I.set.active()};t=e.isFunction(t)?t:function(){},I.set.scrollPosition(I.get.activeItem(),!0),I.verbose("Doing menu show animation",o),(I.is.hidden(o)||I.is.animating(o))&&("auto"==p.transition&&(p.transition=I.is.upward()?"slide up":"slide down",I.verbose("Automatically determining animation based on animation direction",p.transition)),"none"==p.transition?t.call(D):e.fn.transition!==i&&T.transition("is supported")?o.transition({animation:p.transition+" in",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0,onStart:a,onComplete:function(){t.call(D)}}):"slide down"==p.transition?(a(),o.hide().clearQueue().children().clearQueue().css("opacity",0).delay(50).animate({opacity:1},p.duration,"easeOutQuad",I.event.resetStyle).end().slideDown(100,"easeOutQuad",function(){I.event.resetStyle.call(this),t.call(D)})):"fade"==p.transition?(a(),o.hide().clearQueue().fadeIn(p.duration,function(){I.event.resetStyle.call(this),t.call(D)})):I.error(x.transition,p.transition))},hide:function(t,n){var o=n||E,a=n?.9*p.duration:p.duration,r=n?function(){}:function(){I.can.click()&&I.unbind.intent(),I.focusSearch(),I.remove.active()};t=e.isFunction(t)?t:function(){},(I.is.visible(o)||I.is.animating(o))&&(I.verbose("Doing menu hide animation",o),"auto"==p.transition&&(p.transition=I.is.upward()?"slide up":"slide down"),A.trigger("blur"),"none"==p.transition?t.call(D):e.fn.transition!==i&&T.transition("is supported")?o.transition({animation:p.transition+" out",duration:p.duration,debug:p.debug,verbose:p.verbose,queue:!0,onStart:r,onComplete:function(){t.call(D)}}):"slide down"==p.transition?(r(),o.show().clearQueue().children().clearQueue().css("opacity",1).animate({opacity:0},100,"easeOutQuad",I.event.resetStyle).end().delay(50).slideUp(100,"easeOutQuad",function(){I.event.resetStyle.call(this),t.call(D)})):"fade"==p.transition?(r(),o.show().clearQueue().fadeOut(150,function(){I.event.resetStyle.call(this),t.call(D)})):I.error(x.transition))}},delay:{show:function(){I.verbose("Delaying show event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.show,p.delay.show)},hide:function(){I.verbose("Delaying hide event to ensure user intent"),clearTimeout(I.timer),I.timer=setTimeout(I.hide,p.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},setting:function(t,n){if(I.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},debug:function(){p.debug&&(p.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,p.name+":"),I.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,p.name+":"),I.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(I.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var a=z,r,s,c;return n=n||f,o=D||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(I.error(x.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(g)?g.push(c):g!==i?g=[g,c]:c!==i&&(g=c),s}},m?(z===i&&I.initialize(),I.invoke(d)):(z!==i&&z.invoke("destroy"),I.initialize())}),g!==i?g:a},e.fn.dropdown.settings={debug:!1,verbose:!0,performance:!0,on:"click",action:"activate",allowTab:!0,fullTextSearch:!1,preserveHTML:!0,sortSelect:!1,allowCategorySelection:!1,delay:{hide:300,show:200,search:50,touch:50},forceSelection:!0,transition:"auto",duration:250,onNoResults:function(e){},onChange:function(e,t){},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",method:"The method you called is not defined.",transition:"The requested transition was not found"},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholderText",text:"text",value:"value"},selector:{dropdown:".ui.dropdown",input:'> input[type="hidden"], > select',item:".item",menu:".menu",menuIcon:".dropdown.icon",search:"> input.search, .menu > .search > input, .menu > input.search",text:"> .text:not(.icon)"},className:{active:"active",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",loading:"loading",menu:"menu",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={menu:function(t){var n=t.placeholder||!1,i=t.values||{},o="";return e.each(t.values,function(e,t){o+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),o},dropdown:function(t){var n=t.placeholder||!1,i=t.values||{},o="";return o+='<i class="dropdown icon"></i>',o+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',o+='<div class="menu">',e.each(t.values,function(e,t){o+='<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),o+="</div>"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.modal=function(o){var a=e(this),r=e(t),s=e(n),c=e("body"),l=a.selector||"",u=(new Date).getTime(),d=[],m=arguments[0],f="string"==typeof m,g=[].slice.call(arguments,1),p=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},v;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.modal.settings,o):e.extend({},e.fn.modal.settings),h=a.selector,b=a.className,y=a.namespace,x=a.error,w="."+y,C="module-"+y,T=e(this),k=e(a.context),S=T.find(h.close),A,P,E,F,R,O=this,D=T.data(C),z,q,j,N;N={initialize:function(){N.verbose("Initializing dimmer",k),N.create.id(),N.create.dimmer(),N.refreshModals(),N.verbose("Attaching close events",S),N.bind.events(),N.observeChanges(),N.instantiate()},instantiate:function(){N.verbose("Storing instance of modal"),D=N,T.data(C,D)},create:{dimmer:function(){var t={debug:a.debug,dimmerName:"modals",duration:{show:a.duration,hide:a.duration}},n=e.extend(!0,t,a.dimmerSettings);return e.fn.dimmer===i?void N.error(x.dimmer):(N.debug("Creating dimmer with settings",n),F=k.dimmer(n),a.detachable&&(N.verbose("Modal is detachable, moving content into dimmer"),F.dimmer("add content",T)),void(R=F.dimmer("get dimmer")))},id:function(){q=(Math.random().toString(16)+"000000000").substr(2,8),z="."+q,N.verbose("Creating unique id for element",q)}},destroy:function(){N.verbose("Destroying previous modal"),T.removeData(C).off(w),r.off(z),S.off(w),k.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(j=new MutationObserver(function(e){N.debug("DOM tree modified, refreshing"),N.refresh()}),j.observe(O,{childList:!0,subtree:!0}),N.debug("Setting up mutation observer",j))},refresh:function(){N.remove.scrolling(),N.cacheSizes(),N.set.screenHeight(),N.set.type(),N.set.position()},refreshModals:function(){P=T.siblings(h.modal),A=P.add(T)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(N[n])?N[n]:N.toggle,i.length>0?(N.debug("Attaching modal events to element",t,n),i.off(w).on("click"+w,n)):N.error(x.notFound,t)},bind:{events:function(){S.on("click"+w,N.event.close),r.on("resize"+z,N.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{close:function(){N.verbose("Closing element pressed"),e(this).is(h.approve)?a.onApprove.call(O)!==!1?N.hide():N.verbose("Approve callback returned false cancelling hide"):e(this).is(h.deny)?a.onDeny.call(O)!==!1?N.hide():N.verbose("Deny callback returned false cancelling hide"):N.hide()},click:function(t){0===e(t.target).closest(T).length&&(N.debug("Dimmer clicked, hiding all modals"),N.is.active()&&(N.remove.clickaway(),a.allowMultiple?N.hide():N.hideAll()))},debounce:function(e,t){clearTimeout(N.timer),N.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(a.closable?(N.debug("Escape key pressed hiding modal"),
N.hide()):N.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){F.dimmer("is active")&&p(N.refresh)}},toggle:function(){N.is.active()||N.is.animating()?N.hide():N.show()},show:function(t){t=e.isFunction(t)?t:function(){},N.refreshModals(),N.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},N.refreshModals(),N.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},N.is.animating()||!N.is.active()?(N.showDimmer(),N.cacheSizes(),N.set.position(),N.set.screenHeight(),N.set.type(),N.set.clickaway(),!a.allowMultiple&&P.filter("."+b.active).length>0?(N.debug("Other modals visible, queueing show animation"),N.hideOthers(N.showModal)):(a.onShow.call(O),a.transition&&e.fn.transition!==i&&T.transition("is supported")?(N.debug("Showing modal with css animations"),T.transition({debug:a.debug,animation:a.transition+" in",queue:a.queue,duration:a.duration,useFailSafe:!0,onComplete:function(){a.onVisible.apply(O),N.add.keyboardShortcuts(),N.save.focus(),N.set.active(),N.set.autofocus(),t()}})):(N.debug("Showing modal with javascript"),T.fadeIn(a.duration,a.easing,function(){a.onVisible.apply(O),N.add.keyboardShortcuts(),N.save.focus(),N.set.active(),t()})))):N.debug("Modal is already visible")},hideModal:function(t,n){t=e.isFunction(t)?t:function(){},N.debug("Hiding modal"),a.onHide.call(O),(N.is.animating()||N.is.active())&&(a.transition&&e.fn.transition!==i&&T.transition("is supported")?(N.remove.active(),T.transition({debug:a.debug,animation:a.transition+" out",queue:a.queue,duration:a.duration,useFailSafe:!0,onStart:function(){N.othersActive()||n||N.hideDimmer(),N.remove.keyboardShortcuts()},onComplete:function(){a.onHidden.call(O),N.restore.focus(),t()}})):(N.remove.active(),N.othersActive()||N.hideDimmer(),N.remove.keyboardShortcuts(),T.fadeOut(a.duration,a.easing,function(){a.onHidden.call(O),N.restore.focus(),t()})))},showDimmer:function(){F.dimmer("is animating")||!F.dimmer("is active")?(N.debug("Showing dimmer"),F.dimmer("show")):N.debug("Dimmer already visible")},hideDimmer:function(){return F.dimmer("is animating")||F.dimmer("is active")?void F.dimmer("hide",function(){a.transition&&e.fn.transition!==i&&T.transition("is supported")&&(N.remove.clickaway(),N.remove.screenHeight())}):void N.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=A.filter(":visible");t=e.isFunction(t)?t:function(){},n.length>0&&(N.debug("Hiding all visible modals"),N.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=P.filter(":visible");t=e.isFunction(t)?t:function(){},n.length>0&&(N.debug("Hiding other modals",P),n.modal("hide modal",t,!0))},othersActive:function(){return P.filter("."+b.active).length>0},add:{keyboardShortcuts:function(){N.verbose("Adding keyboard shortcuts"),s.on("keyup"+w,N.event.keyboard)}},save:{focus:function(){E=e(n.activeElement).blur()}},restore:{focus:function(){E&&E.length>0&&E.focus()}},remove:{active:function(){T.removeClass(b.active)},clickaway:function(){a.closable&&R.off("click"+z)},screenHeight:function(){N.cache.height>N.cache.pageHeight&&(N.debug("Removing page height"),c.css("height",""))},keyboardShortcuts:function(){N.verbose("Removing keyboard shortcuts"),s.off("keyup"+w)},scrolling:function(){F.removeClass(b.scrolling),T.removeClass(b.scrolling)}},cacheSizes:function(){var o=T.outerHeight();(N.cache===i||0!==o)&&(N.cache={pageHeight:e(n).outerHeight(),height:o+a.offset,contextHeight:"body"==a.context?e(t).height():F.height()}),N.debug("Caching modal and container sizes",N.cache)},can:{fit:function(){return N.cache.height+2*a.padding<N.cache.contextHeight}},is:{active:function(){return T.hasClass(b.active)},animating:function(){return T.transition("is supported")?T.transition("is animating"):T.is(":visible")},scrolling:function(){return F.hasClass(b.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){if(a.autofocus){var e=T.find(":input:visible"),t=e.filter("[autofocus]"),n=t.length>0?t:e;n.first().focus()}},clickaway:function(){a.closable&&R.on("click"+z,N.event.click)},screenHeight:function(){N.can.fit()?c.css("height",""):(N.debug("Modal is taller than page content, resizing page height"),c.css("height",N.cache.height+a.padding/2))},active:function(){T.addClass(b.active)},scrolling:function(){F.addClass(b.scrolling),T.addClass(b.scrolling)},type:function(){N.can.fit()?(N.verbose("Modal fits on screen"),N.othersActive||N.remove.scrolling()):(N.verbose("Modal cannot fit on screen setting to scrolling"),N.set.scrolling())},position:function(){N.verbose("Centering modal on page",N.cache),T.css(N.can.fit()?{top:"",marginTop:-(N.cache.height/2)}:{marginTop:"",top:s.scrollTop()})}},setting:function(t,n){if(N.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,N,t);else{if(n===i)return N[t];N[t]=n}},debug:function(){a.debug&&(a.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,a.name+":"),N.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),N.verbose.apply(console,arguments)))},error:function(){N.error=Function.prototype.bind.call(console.error,console,a.name+":"),N.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,100)},display:function(){var t=a.name+":",n=0;u=!1,clearTimeout(N.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,o){var a=D,r,s,c;return n=n||g,o=O||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(v)?v.push(c):v!==i?v=[v,c]:c!==i&&(v=c),s}},f?(D===i&&N.initialize(),N.invoke(m)):(D!==i&&D.invoke("destroy"),N.initialize())}),v!==i?v:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,easing:"easeOutExpo",offset:0,transition:"scale",padding:50,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",scrolling:"scrolling"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.nag=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),m=o.className,f=o.selector,g=o.error,p=o.namespace,v="."+p,h=p+"-module",b=e(this),y=b.find(f.close),x=e(o.context?o.context:"body"),w=this,C=b.data(h),T,k,S,A,P,E,F,R,O,D=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};O={initialize:function(){O.verbose("Initializing element"),b.data(h,O),y.on("click"+v,O.dismiss),o.detachable&&b.parent()[0]!==x[0]&&b.detach().prependTo(x),o.displayTime>0&&setTimeout(O.hide,o.displayTime),O.show()},destroy:function(){O.verbose("Destroying instance"),b.removeData(h).off(v)},show:function(){O.should.show()&&!b.is(":visible")&&(O.debug("Showing nag",o.animation.show),"fade"==o.animation.show?b.fadeIn(o.duration,o.easing):b.slideDown(o.duration,o.easing))},hide:function(){O.debug("Showing nag",o.animation.hide),"fade"==o.animation.show?b.fadeIn(o.duration,o.easing):b.slideUp(o.duration,o.easing)},onHide:function(){O.debug("Removing nag",o.animation.hide),b.remove(),o.onHide&&o.onHide()},dismiss:function(e){o.storageMethod&&O.storage.set(o.key,o.value),O.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return o.persist?(O.debug("Persistent nag is set, can show nag"),!0):O.storage.get(o.key)!=o.value.toString()?(O.debug("Stored value is not set, can show nag",O.storage.get(o.key)),!0):(O.debug("Stored value is set, cannot show nag",O.storage.get(o.key)),!1)}},get:{storageOptions:function(){var e={};return o.expires&&(e.expires=o.expires),o.domain&&(e.domain=o.domain),o.path&&(e.path=o.path),e}},clear:function(){O.storage.remove(o.key)},storage:{set:function(n,a){var r=O.get.storageOptions();if("localstorage"==o.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,a),O.debug("Value stored using local storage",n,a);else{if(e.cookie===i)return void O.error(g.noCookieStorage);e.cookie(n,a,r),O.debug("Value stored using cookie",n,a,r)}},get:function(n,a){var r;return"localstorage"==o.storageMethod&&t.localStorage!==i?r=t.localStorage.getItem(n):e.cookie!==i?r=e.cookie(n):O.error(g.noCookieStorage),("undefined"==r||"null"==r||r===i||null===r)&&(r=i),r},remove:function(n){var a=O.get.storageOptions();"local"==o.storageMethod&&t.store!==i?t.localStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,a):O.error(g.noStorage)}},setting:function(t,n){if(O.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,O,t);else{if(n===i)return O[t];O[t]=n}},debug:function(){o.debug&&(o.performance?O.performance.log(arguments):(O.debug=Function.prototype.bind.call(console.info,console,o.name+":"),O.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?O.performance.log(arguments):(O.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),O.verbose.apply(console,arguments)))},error:function(){O.error=Function.prototype.bind.call(console.error,console,o.name+":"),O.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(O.performance.timer),O.performance.timer=setTimeout(O.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(O.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=C,r,s,c;return n=n||u,o=w||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(O.error(g.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(C===i&&O.initialize(),O.invoke(c)):(C!==i&&C.invoke("destroy"),O.initialize())}),d!==i?d:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!0,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(o){var a=e(this),r=e(n),s=a.selector||"",c="ontouchstart"in n.documentElement,l=(new Date).getTime(),u=[],d=arguments[0],m="string"==typeof d,f=[].slice.call(arguments,1),g;return a.each(function(){var n=e.isPlainObject(o)?e.extend(!0,{},e.fn.popup.settings,o):e.extend({},e.fn.popup.settings),a=n.selector,p=n.className,v=n.error,h=n.metadata,b=n.namespace,y="."+n.namespace,x="module-"+b,w=e(this),C=e(n.context),T=n.target?e(n.target):w,k=e(t),S=e("body"),A,P,E=0,F=!1,R=this,O=w.data(x),D,z,q;q={initialize:function(){q.debug("Initializing",w),q.createID(),q.bind.events(),!q.exists()&&n.preserve&&q.create(),q.instantiate()},instantiate:function(){q.verbose("Storing instance",q),O=q,w.data(x,O)},refresh:function(){n.popup?A=e(n.popup).eq(0):n.inline&&(A=T.next(a.popup).eq(0)),n.popup?(A.addClass(p.loading),P=q.get.offsetParent(),A.removeClass(p.loading),n.movePopup&&q.has.popup()&&q.get.offsetParent(A)[0]!==P[0]&&(q.debug("Moving popup to the same offset parent as activating element"),A.detach().appendTo(P))):P=n.inline?q.get.offsetParent(T):q.has.popup()?q.get.offsetParent(A):S,P.is("html")&&(q.debug("Setting page as offset parent"),P=S)},reposition:function(){q.refresh(),q.set.position()},destroy:function(){q.debug("Destroying previous module"),A&&!n.preserve&&q.removePopup(),clearTimeout(q.hideTimer),clearTimeout(q.showTimer),k.off(D),w.off(y).removeData(x)},event:{start:function(t){var i=e.isPlainObject(n.delay)?n.delay.show:n.delay;clearTimeout(q.hideTimer),q.showTimer=setTimeout(function(){!q.is.hidden()||q.is.active()&&q.is.dropdown()||q.show()},i)},end:function(){var t=e.isPlainObject(n.delay)?n.delay.hide:n.delay;clearTimeout(q.showTimer),q.hideTimer=setTimeout(function(){q.is.visible()&&q.hide()},t)},resize:function(){q.is.visible()&&q.set.position()}},create:function(){var t=w.data(h.html)||n.html,i=w.data(h.variation)||n.variation,o=w.data(h.title)||n.title,r=w.data(h.content)||w.attr("title")||n.content;t||r||o?(q.debug("Creating pop-up html"),t||(t=n.templates.popup({title:o,content:r})),A=e("<div/>").addClass(p.popup).addClass(i).data(h.activator,w).html(t),i&&A.addClass(i),n.inline?(q.verbose("Inserting popup element inline",A),A.insertAfter(w)):(q.verbose("Appending popup element to body",A),A.appendTo(C)),q.refresh(),n.hoverable&&q.bind.popup(),n.onCreate.call(A,R)):0!==T.next(a.popup).length?(q.verbose("Pre-existing popup found"),n.inline=!0,n.popup=T.next(a.popup).data(h.activator,w),q.refresh(),n.hoverable&&q.bind.popup()):n.popup?(n.popup.data(h.activator,w),q.verbose("Used popup specified in settings"),q.refresh(),n.hoverable&&q.bind.popup()):q.debug("No content specified skipping display",R)},createID:function(){z=(Math.random().toString(16)+"000000000").substr(2,8),D="."+z,q.verbose("Creating unique id for element",z)},toggle:function(){q.debug("Toggling pop-up"),q.is.hidden()?(q.debug("Popup is hidden, showing pop-up"),q.unbind.close(),q.show()):(q.debug("Popup is visible, hiding pop-up"),q.hide())},show:function(t){t=e.isFunction(t)?t:function(){},q.debug("Showing pop-up",n.transition),q.exists()?n.preserve||n.popup||q.refresh():q.create(),A&&q.set.position()&&(q.save.conditions(),n.exclusive&&q.hideAll(),q.animate.show(t))},hide:function(t){t=e.isFunction(t)?t:function(){},q.remove.visible(),q.unbind.close(),q.is.visible()&&(q.restore.conditions(),q.animate.hide(t))},hideAll:function(){e(a.popup).filter("."+p.visible).each(function(){e(this).data(h.activator).popup("hide")})},hideGracefully:function(t){t&&0===e(t.target).closest(a.popup).length?(q.debug("Click occurred outside popup hiding popup"),q.hide()):q.debug("Click was inside popup, keeping popup open")},exists:function(){return A?n.inline||n.popup?q.has.popup():A.closest(C).length>=1?!0:!1:!1},removePopup:function(){q.debug("Removing popup",A),q.has.popup()&&!n.popup&&(A.remove(),A=i),n.onRemove.call(A,R)},save:{conditions:function(){q.cache={title:w.attr("title")},q.cache.title&&w.removeAttr("title"),q.verbose("Saving original attributes",q.cache.title)}},restore:{conditions:function(){return q.cache&&q.cache.title&&(w.attr("title",q.cache.title),q.verbose("Restoring original attributes",q.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},n.transition&&e.fn.transition!==i&&w.transition("is supported")?(q.set.visible(),A.transition({animation:n.transition+" in",queue:!1,debug:n.debug,verbose:n.verbose,duration:n.duration,onComplete:function(){q.bind.close(),t.call(A,R),n.onVisible.call(A,R)}})):(q.set.visible(),A.stop().fadeIn(n.duration,n.easing,function(){q.bind.close(),t.call(A,R),n.onVisible.call(A,R)})),n.onShow.call(A,R)},hide:function(t){t=e.isFunction(t)?t:function(){},q.debug("Hiding pop-up"),n.transition&&e.fn.transition!==i&&w.transition("is supported")?A.transition({animation:n.transition+" out",queue:!1,duration:n.duration,debug:n.debug,verbose:n.verbose,onComplete:function(){q.reset(),t.call(A,R),n.onHidden.call(A,R)}}):A.stop().fadeOut(n.duration,n.easing,function(){q.reset(),t.call(A,R),n.onHidden.call(A,R)}),n.onHide.call(A,R)}},get:{id:function(){return z},startEvent:function(){return"hover"==n.on?c?"touchstart mouseenter":"mouseenter":"focus"==n.on?"focus":!1},scrollEvent:function(){return c?"touchmove scroll":"scroll"},endEvent:function(){return"hover"==n.on?"mouseleave":"focus"==n.on?"blur":!1},offsetParent:function(t){var n=t!==i?t[0]:w[0],o=n.parentNode,a=e(o);if(o)for(var r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");o&&!c&&s&&r;)o=o.parentNode,a=e(o),r="none"===a.css("transform"),s="static"===a.css("position"),c=a.is("html");return a&&a.length>0?a:e()},offstagePosition:function(n){var i={top:e(t).scrollTop(),bottom:e(t).scrollTop()+e(t).height(),left:0,right:e(t).width()},o={width:A.width(),height:A.height(),offset:A.offset()},a={},r=[];return n=n||!1,o.offset&&n&&(q.verbose("Checking if outside viewable area",o.offset),a={top:o.offset.top<i.top,bottom:o.offset.top+o.height>i.bottom,right:o.offset.left+o.width>i.right,left:o.offset.left<i.left}),e.each(a,function(e,t){t&&r.push(e)}),r.length>0?r.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),i=t[0],o=t[1],a={top:"bottom",bottom:"top",left:"right",right:"left"},r={left:"center",center:"right",right:"left"},s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},c="top"==i||"bottom"==i,l=!1,u=!1,d=!1;return F||(q.verbose("All available positions available"),F=q.get.positions()),q.debug("Recording last position tried",e),F[e]=!0,"opposite"===n.prefer&&(d=[a[i],o],d=d.join(" "),l=F[d]===!0,q.debug("Trying opposite strategy",d)),"adjacent"===n.prefer&&c&&(d=[i,r[o]],d=d.join(" "),u=F[d]===!0,q.debug("Trying adjacent strategy",d)),(u||l)&&(q.debug("Using backup position",d),d=s[e]),d}},set:{position:function(o,a){var r=e(t).width(),s=e(t).height(),c=T.outerWidth(),l=T.outerHeight(),u=A.outerWidth(),d=A.outerHeight(),m=P.outerWidth(),f=P.outerHeight(),g=n.distanceAway,b=T[0],y=n.inline?parseInt(t.getComputedStyle(b).getPropertyValue("margin-top"),10):0,x=n.inline?parseInt(t.getComputedStyle(b).getPropertyValue(q.is.rtl()?"margin-right":"margin-left"),10):0,C=n.inline||n.popup?T.position():T.offset(),k,S,F;switch(o=o||w.data(h.position)||n.position,a=a||w.data(h.offset)||n.offset,E==n.maxSearchDepth&&n.lastResort&&(q.debug("Using last resort position to display",n.lastResort),o=n.lastResort),n.inline&&(q.debug("Adding targets margin to calculation"),"left center"==o||"right center"==o?(a+=y,g+=-x):"top left"==o||"top center"==o||"top right"==o?(a+=x,g-=y):(a+=x,g+=y)),q.debug("Calculating popup positioning",o),k=o,q.is.rtl()&&(k=k.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),q.debug("RTL: Popup positioning updated",k)),k){case"top left":S={top:"auto",bottom:f-C.top+g,left:C.left+a,right:"auto"};break;case"top center":S={bottom:f-C.top+g,left:C.left+c/2-u/2+a,top:"auto",right:"auto"};break;case"top right":S={bottom:f-C.top+g,right:m-C.left-c-a,top:"auto",left:"auto"};break;case"left center":S={top:C.top+l/2-d/2+a,right:m-C.left+g,left:"auto",bottom:"auto"};break;case"right center":S={top:C.top+l/2-d/2+a,left:C.left+c+g,bottom:"auto",right:"auto"};break;case"bottom left":S={top:C.top+l+g,left:C.left+a,bottom:"auto",right:"auto"};break;case"bottom center":S={top:C.top+l+g,left:C.left+c/2-u/2+a,bottom:"auto",right:"auto"};break;case"bottom right":S={top:C.top+l+g,right:m-C.left-c-a,left:"auto",bottom:"auto"}}if(S===i&&q.error(v.invalidPosition,o),q.debug("Calculated popup positioning values",S),A.css(S).removeClass(p.position).addClass(o).addClass(p.loading),F=q.get.offstagePosition(o)){if(q.debug("Popup cant fit into viewport",F),E<n.maxSearchDepth)return E++,o=q.get.nextPosition(o),q.debug("Trying new position",o),A?q.set.position(o):!1;if(!n.lastResort)return q.debug("Popup could not find a position in view",A),q.remove.attempts(),q.remove.loading(),q.reset(),!1}return q.debug("Position is on stage",o),q.remove.attempts(),q.set.fluidWidth(),q.remove.loading(),!0},fluidWidth:function(){n.setFluidWidth&&A.hasClass(p.fluid)&&A.css("width",P.width())},visible:function(){w.addClass(p.visible)}},remove:{loading:function(){A.removeClass(p.loading)},visible:function(){w.removeClass(p.visible)},attempts:function(){q.verbose("Resetting all searched positions"),E=0,F=!1}},bind:{events:function(){q.debug("Binding popup events to module"),"click"==n.on?w.on("click"+y,q.toggle):q.get.startEvent()&&w.on(q.get.startEvent()+y,q.event.start).on(q.get.endEvent()+y,q.event.end),n.target&&q.debug("Target set to element",T),k.on("resize"+D,q.event.resize)},popup:function(){q.verbose("Allowing hover events on popup to prevent closing"),A&&q.has.popup()&&A.on("mouseenter"+y,q.event.start).on("mouseleave"+y,q.event.end)},close:function(){(n.hideOnScroll===!0||"auto"==n.hideOnScroll&&"click"!=n.on)&&(r.one(q.get.scrollEvent()+D,q.hideGracefully),C.one(q.get.scrollEvent()+D,q.hideGracefully)),"click"==n.on&&n.closable&&(q.verbose("Binding popup close event to document"),r.on("click"+D,function(e){q.verbose("Pop-up clickaway intent detected"),q.hideGracefully.call(R,e)}))}},unbind:{close:function(){(n.hideOnScroll===!0||"auto"==n.hideOnScroll&&"click"!=n.on)&&(r.off("scroll"+D,q.hide),C.off("scroll"+D,q.hide)),"click"==n.on&&n.closable&&(q.verbose("Removing close event from document"),r.off("click"+D))}},has:{popup:function(){return A&&A.length>0}},is:{active:function(){return w.hasClass(p.active)},animating:function(){return A&&A.is(":animated")||A.hasClass(p.animating)},visible:function(){return A&&A.is(":visible")},dropdown:function(){return w.hasClass(p.dropdown)},hidden:function(){return!q.is.visible()},rtl:function(){return"rtl"==w.css("direction")}},reset:function(){q.remove.visible(),n.preserve?e.fn.transition!==i&&A.transition("remove transition"):q.removePopup()},setting:function(t,o){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,q,t);else{if(n===i)return q[t];q[t]=n}},debug:function(){n.debug&&(n.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,n.name+":"),q.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),q.verbose.apply(console,arguments)))},error:function(){q.error=Function.prototype.bind.call(console.error,console,n.name+":"),q.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;n.performance&&(t=(new Date).getTime(),o=l||t,i=t-o,l=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":i})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,100)},display:function(){var t=n.name+":",o=0;l=!1,clearTimeout(q.performance.timer),e.each(u,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,o){var a=O,r,s,c;return n=n||f,o=R||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(g)?g.push(c):g!==i?g=[g,c]:c!==i&&(g=c),s}},m?(O===i&&q.initialize(),q.invoke(d)):(O!==i&&O.invoke("destroy"),q.initialize())}),g!==i?g:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!0,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},variation:"",content:!1,html:!1,title:!1,on:"hover",closable:!0,hideOnScroll:"auto",exclusive:!0,context:"body",position:"top left",prefer:"opposite",lastResort:!1,delay:{show:30,hide:0},setFluidWidth:!0,movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,duration:200,easing:"easeOutQuint",transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined."},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},popup:function(t){var n="",o=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=o(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=o(t.content),n+='<div class="content">'+t.content+"</div>")),n}}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.progress=function(t){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),m=o.className,f=o.metadata,g=o.namespace,p=o.selector,v=o.error,h="."+g,b="module-"+g,y=e(this),x=e(this).find(p.bar),w=e(this).find(p.progress),C=e(this).find(p.label),T=this,k=y.data(b),S=!1,A,P;P={initialize:function(){P.debug("Initializing progress bar",o),A=P.get.transitionEnd(),P.read.metadata(),P.set.duration(),P.set.initials(),P.instantiate()},instantiate:function(){P.verbose("Storing instance of progress",P),k=P,y.data(b,P)},destroy:function(){P.verbose("Destroying previous progress for",y),clearInterval(k.interval),P.remove.state(),y.removeData(b),k=i},reset:function(){P.set.percent(0)},complete:function(){(P.percent===i||P.percent<100)&&P.set.percent(100)},read:{metadata:function(){y.data(f.percent)&&(P.verbose("Current percent value set from metadata"),P.percent=y.data(f.percent)),y.data(f.total)&&(P.verbose("Total value set from metadata"),P.total=y.data(f.total)),y.data(f.value)&&(P.verbose("Current value set from metadata"),P.value=y.data(f.value))},currentValue:function(){return P.value!==i?P.value:!1}},increment:function(e){var t=P.total||!1,n,i,o;t?(i=P.value||0,e=e||1,o=i+e,n=P.total,P.debug("Incrementing value by",e,i,n),o>n&&(P.debug("Value cannot increment above total",n),o=n),P.set.progress(o)):(i=P.percent||0,e=e||P.get.randomValue(),o=i+e,n=100,P.debug("Incrementing percentage by",e,i),o>n&&(P.debug("Value cannot increment above 100 percent"),o=n),P.set.progress(o))},decrement:function(e){var t=P.total||!1,n=0,i,o;t?(i=P.value||0,e=e||1,o=i-e,P.debug("Decrementing value by",e,i)):(i=P.percent||0,e=e||P.get.randomValue(),o=i-e,P.debug("Decrementing percentage by",e,i)),n>o&&(P.debug("Value cannot decrement below 0"),o=0),P.set.progress(o)},get:{text:function(e){var t=P.value||0,n=P.total||0,i=P.is.visible()&&S?P.get.displayPercent():P.percent||0,o=P.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),P.debug("Adding variables to progress bar text",e),e},randomValue:function(){return P.debug("Generating random increment percentage"),Math.floor(Math.random()*o.random.max+o.random.min)},transitionEnd:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]},displayPercent:function(){var e=x.width(),t=y.width(),n=parseInt(x.css("min-width"),10),i=e>n?e/t*100:P.percent;return 0===o.precision?Math.round(i):Math.round(10*i*o.precision)/(10*o.precision)},percent:function(){return P.percent||0},value:function(){return P.value||!1},total:function(){return P.total||!1}},is:{success:function(){return y.hasClass(m.success)},warning:function(){return y.hasClass(m.warning)},error:function(){return y.hasClass(m.error)},active:function(){return y.hasClass(m.active)},visible:function(){return y.is(":visible")}},remove:{state:function(){P.verbose("Removing stored state"),delete P.total,delete P.percent,delete P.value},active:function(){P.verbose("Removing active state"),y.removeClass(m.active)},success:function(){P.verbose("Removing success state"),y.removeClass(m.success)},warning:function(){P.verbose("Removing warning state"),y.removeClass(m.warning)},error:function(){P.verbose("Removing error state"),y.removeClass(m.error)}},set:{barWidth:function(e){e>100?P.error(v.tooHigh,e):0>e?P.error(v.tooLow,e):(x.css("width",e+"%"),y.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||o.duration,e="number"==typeof e?e+"ms":e,P.verbose("Setting progress bar transition duration",e),x.css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},initials:function(){o.total!==!1&&(P.verbose("Current total set in settings",o.total),P.total=o.total),o.value!==!1&&(P.verbose("Current value set in settings",o.value),P.value=o.value),o.percent!==!1&&(P.verbose("Current percent set in settings",o.percent),P.percent=o.percent),P.percent!==i?P.set.percent(P.percent):P.value!==i&&P.set.progress(P.value)},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e>0&&1>e&&(P.verbose("Module percentage passed as decimal, converting"),e=100*e),e=0===o.precision?Math.round(e):Math.round(10*e*o.precision)/(10*o.precision),P.percent=e,P.total?P.value=Math.round(e/100*P.total*10*o.precision)/(10*o.precision):o.limitValues&&(P.value=P.value>100?100:P.value<0?0:P.value),
P.set.barWidth(e),P.is.visible()&&P.set.labelInterval(),P.set.labels(),o.onChange.call(T,e,P.value,P.total)},labelInterval:function(){var e=function(){P.verbose("Bar finished animating, removing continuous label updates"),clearInterval(P.interval),S=!1,P.set.labels()};clearInterval(P.interval),x.one(A+h,e),P.timer=setTimeout(e,o.duration+100),S=!0,P.interval=setInterval(P.set.labels,o.framerate)},labels:function(){P.verbose("Setting both bar progress and outer label text"),P.set.barLabel(),P.set.state()},label:function(e){e=e||"",e&&(e=P.get.text(e),P.debug("Setting label to text",e),C.text(e))},state:function(e){e=e!==i?e:P.percent,100===e?!o.autoSuccess||P.is.warning()||P.is.error()?(P.verbose("Reached 100% removing active state"),P.remove.active()):(P.set.success(),P.debug("Automatically triggering success at 100%")):e>0?(P.verbose("Adjusting active progress bar label",e),P.set.active()):(P.remove.active(),P.set.label(o.text.active))},barLabel:function(e){e!==i?w.text(P.get.text(e)):"ratio"==o.label&&P.total?(P.debug("Adding ratio to bar label"),w.text(P.get.text(o.text.ratio))):"percent"==o.label&&(P.debug("Adding percentage to bar label"),w.text(P.get.text(o.text.percent)))},active:function(e){e=e||o.text.active,P.debug("Setting active state"),o.showActivity&&!P.is.active()&&y.addClass(m.active),P.remove.warning(),P.remove.error(),P.remove.success(),e&&P.set.label(e),o.onActive.call(T,P.value,P.total)},success:function(e){e=e||o.text.success,P.debug("Setting success state"),y.addClass(m.success),P.remove.active(),P.remove.warning(),P.remove.error(),P.complete(),e&&P.set.label(e),o.onSuccess.call(T,P.total)},warning:function(e){e=e||o.text.warning,P.debug("Setting warning state"),y.addClass(m.warning),P.remove.active(),P.remove.success(),P.remove.error(),P.complete(),e&&P.set.label(e),o.onWarning.call(T,P.value,P.total)},error:function(e){e=e||o.text.error,P.debug("Setting error state"),y.addClass(m.error),P.remove.active(),P.remove.success(),P.remove.warning(),P.complete(),e&&P.set.label(e),o.onError.call(T,P.value,P.total)},total:function(e){P.total=e},progress:function(e){var t="string"==typeof e?""!==e.replace(/[^\d.]/g,"")?+e.replace(/[^\d.]/g,""):!1:e,n;t===!1&&P.error(v.nonNumeric,e),P.total?(P.value=t,n=t/P.total*100,P.debug("Calculating percent complete from total",n),P.set.percent(n)):(n=t,P.debug("Setting value to exact percentage value",n),P.set.percent(n))}},setting:function(t,n){if(P.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,P,t);else{if(n===i)return P[t];P[t]=n}},debug:function(){o.debug&&(o.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,o.name+":"),P.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),P.verbose.apply(console,arguments)))},error:function(){P.error=Function.prototype.bind.call(console.error,console,o.name+":"),P.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,100)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(P.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=k,r,s,c;return n=n||u,o=T||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(P.error(v.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(k===i&&P.initialize(),P.invoke(c)):(k!==i&&k.invoke("destroy"),P.initialize())}),d!==i?d:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!0,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:1,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.rating=function(t){var n=e(this),o=n.selector||"",a=(new Date).getTime(),r=[],s=arguments[0],c="string"==typeof s,l=[].slice.call(arguments,1),u;return n.each(function(){var d=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),m=d.namespace,f=d.className,g=d.metadata,p=d.selector,v=d.error,h="."+m,b="module-"+m,y=this,x=e(this).data(b),w=e(this),C=w.find(p.icon),T;T={initialize:function(){T.verbose("Initializing rating module",d),0===C.length&&T.setup.layout(),d.interactive?T.enable():T.disable(),d.initialRating&&(T.debug("Setting initial rating"),T.setRating(d.initialRating)),w.data(g.rating)&&(T.debug("Rating found in metadata"),T.setRating(w.data(g.rating))),T.instantiate()},instantiate:function(){T.verbose("Instantiating module",d),x=T,w.data(b,T)},destroy:function(){T.verbose("Destroying previous instance",x),w.removeData(b),C.off(h)},refresh:function(){C=w.find(p.icon)},setup:{layout:function(){var t=w.data(g.maxRating)||d.maxRating;T.debug("Generating icon html dynamically"),w.html(e.fn.rating.settings.templates.icon(t)),T.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(f.selected),w.addClass(f.selected),t.addClass(f.selected).prevAll().addClass(f.selected)},mouseleave:function(){w.removeClass(f.selected),C.removeClass(f.selected)},click:function(){var t=e(this),n=T.getRating(),i=C.index(t)+1,o="auto"==d.clearable?1===C.length:d.clearable;o&&n==i?T.clearRating():T.setRating(i)}},clearRating:function(){T.debug("Clearing current rating"),T.setRating(0)},getRating:function(){var e=C.filter("."+f.active).length;return T.verbose("Current rating retrieved",e),e},enable:function(){T.debug("Setting rating to interactive mode"),C.on("mouseenter"+h,T.event.mouseenter).on("mouseleave"+h,T.event.mouseleave).on("click"+h,T.event.click),w.removeClass(f.disabled)},disable:function(){T.debug("Setting rating to read-only mode"),C.off(h),w.addClass(f.disabled)},setRating:function(e){var t=e-1>=0?e-1:0,n=C.eq(t);w.removeClass(f.selected),C.removeClass(f.selected).removeClass(f.active),e>0&&(T.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(f.active)),d.onRate.call(y,e)},setting:function(t,n){if(T.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},debug:function(){d.debug&&(d.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,d.name+":"),T.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,d.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=d.name+":",s=0;a=!1,clearTimeout(T.performance.timer),e.each(r,function(e,t){s+=t["Execution Time"]}),t+=" "+s+"ms",o&&(t+=" '"+o+"'"),n.length>1&&(t+=" ("+n.length+")"),(console.group!==i||console.table!==i)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a=x,r,s,c;return n=n||l,o=y||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(u)?u.push(c):u!==i?u=[u,c]:c!==i&&(u=c),s}},c?(x===i&&T.initialize(),T.invoke(s)):(x!==i&&x.invoke("destroy"),T.initialize())}),u!==i?u:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!0,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";e>=t;)n+='<i class="icon"></i>',t++;return n}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.search=function(o){var a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return e(this).each(function(){var f=e.extend(!0,{},e.fn.search.settings,o),g=f.className,p=f.metadata,v=f.regExp,h=f.selector,b=f.error,y=f.namespace,x="."+y,w=y+"-module",C=e(this),T=C.find(h.prompt),k=C.find(h.searchButton),S=C.find(h.results),A=C.find(h.result),P=C.find(h.category),E=this,F=C.data(w),R;R={initialize:function(){R.verbose("Initializing module");var e=T[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";f.automatic&&T.on(t+x,R.throttle).attr("autocomplete","off"),T.on("focus"+x,R.event.focus).on("blur"+x,R.event.blur).on("keydown"+x,R.handleKeyboard),k.on("click"+x,R.query),S.on("mousedown"+x,R.event.result.mousedown).on("mouseup"+x,R.event.result.mouseup).on("click"+x,h.result,R.event.result.click),R.instantiate()},instantiate:function(){R.verbose("Storing instance of module",R),F=R,C.data(w,R)},destroy:function(){R.verbose("Destroying instance"),C.removeData(w),T.off(x),k.off(x),S.off(x)},event:{focus:function(){R.set.focus(),clearTimeout(R.timer),R.throttle(),R.has.minimumCharacters()&&R.showResults()},blur:function(e){var t=n.activeElement===this;t||R.resultsClicked||(R.cancel.query(),R.remove.focus(),R.timer=setTimeout(R.hideResults,f.hideDelay))},result:{mousedown:function(){R.resultsClicked=!0},mouseup:function(){R.resultsClicked=!1},click:function(n){R.debug("Search result selected");var i=e(this),o=i.find(h.title).eq(0),a=i.find("a[href]").eq(0),r=a.attr("href")||!1,s=a.attr("target")||!1,c=o.html(),l=o.length>0?o.text():!1,u=R.get.results(),d=R.get.result(l,u),m;return e.isFunction(f.onSelect)&&f.onSelect.call(E,d,u)===!1?void R.debug("Custom onSelect callback cancelled default select action"):(R.hideResults(),l&&R.set.value(l),void(r&&(R.verbose("Opening search link found in result",a),"_blank"==s||n.ctrlKey?t.open(r):t.location.href=r)))}}},handleKeyboard:function(e){var t=C.find(h.result),n=C.find(h.category),i=t.index(t.filter("."+g.active)),o=t.length,a=e.which,r={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},s;if(a==r.escape&&(R.verbose("Escape key pressed, blurring search field"),T.trigger("blur")),R.is.visible())if(a==r.enter){if(R.verbose("Enter key pressed, selecting active result"),t.filter("."+g.active).length>0)return R.event.result.click.call(t.filter("."+g.active),e),e.preventDefault(),!1}else a==r.upArrow?(R.verbose("Up key pressed, changing active result"),s=0>i-1?i:i-1,n.removeClass(g.active),t.removeClass(g.active).eq(s).addClass(g.active).closest(n).addClass(g.active),e.preventDefault()):a==r.downArrow&&(R.verbose("Down key pressed, changing active result"),s=i+1>=o?i:i+1,n.removeClass(g.active),t.removeClass(g.active).eq(s).addClass(g.active).closest(n).addClass(g.active),e.preventDefault());else a==r.enter&&(R.verbose("Enter key pressed, executing query"),R.query(),R.set.buttonPressed(),T.one("keyup",R.remove.buttonFocus))},setup:{api:function(){var e={on:!1,action:"search",onFailure:R.error},t;R.verbose("First request, initializing API"),C.api(e)}},can:{useAPI:function(){return e.fn.api!==i},transition:function(){return f.transition&&e.fn.transition!==i&&C.transition("is supported")}},is:{empty:function(){return""===S.html()},visible:function(){return S.filter(":visible").length>0},focused:function(){return T.filter(":focus").length>0}},get:{value:function(){return T.val()},results:function(){var e=C.data(p.results);return e},result:function(t,n){var i=!1;return t=t||R.get.value(),n=n||R.get.results(),"category"===f.type?(R.debug("Finding result that matches",t),e.each(n,function(n,o){return e.isArray(o.results)&&(i=R.search.object(t,o.results)[0],i&&i.length>0)?!0:void 0})):(R.debug("Finding result in results object",t),i=R.search.object(t,n)[0]),i}},set:{focus:function(){C.addClass(g.focus)},loading:function(){C.addClass(g.loading)},value:function(e){R.verbose("Setting search input value",e),T.val(e),R.query()},buttonPressed:function(){k.addClass(g.pressed)}},remove:{loading:function(){C.removeClass(g.loading)},focus:function(){C.removeClass(g.focus)},buttonPressed:function(){k.removeClass(g.pressed)}},query:function(){var t=R.get.value(),n=R.read.cache(t);n?(R.debug("Reading result for "+t+" from cache"),R.save.results(n.results),R.addResults(n.html)):(R.debug("Querying for "+t),e.isPlainObject(f.source)||e.isArray(f.source)?R.search.local(t):R.can.useAPI()?f.apiSettings?(R.debug("Searching with specified API settings",f.apiSettings),R.search.remote(t)):e.api.settings.api.search!==i?(R.debug("Searching with default search API endpoint"),R.search.remote(t)):R.error(b.noEndpoint):R.error(b.source),f.onSearchQuery.call(E,t))},search:{local:function(e){var t=R.search.object(e,f.content),n;R.set.loading(),R.save.results(t),R.debug("Returned local search results",t),n=R.generateResults({results:t}),R.remove.loading(),R.write.cache(e,{html:n,results:t}),R.addResults(n)},remote:function(t){var n={onSuccess:function(e){R.parse.response.call(E,e,t)},urlData:{query:t}};C.api("get request")||R.setup.api(),e.extend(!0,n,f.apiSettings),R.debug("Executing search",n),R.cancel.query(),C.api("setting",n).api("query")},object:function(t,n){var o=[],a=[],r=e.isArray(f.searchFields)?f.searchFields:[f.searchFields],s=t.replace(v.escape,"\\$&"),c=new RegExp(v.exact+s,"i");return n=n||f.source,n===i?(R.error(b.source),[]):(e.each(r,function(i,r){e.each(n,function(n,i){var s="string"==typeof i[r],l=-1==e.inArray(i,o)&&-1==e.inArray(i,a);s&&l&&(i[r].match(c)?o.push(i):f.searchFullText&&R.fuzzySearch(t,i[r])&&a.push(i))})}),e.merge(o,a))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;i>o;o++){for(var r=e.charCodeAt(o);n>a;)if(t.charCodeAt(a++)===r)continue e;return!1}return!0},parse:{response:function(e,t){var n=R.generateResults(e);R.verbose("Parsing server response",e),e!==i&&t!==i&&e.results!==i&&(R.write.cache(t,{html:n,results:e.results}),R.save.results(e.results),R.addResults(n))}},throttle:function(){clearTimeout(R.timer),R.has.minimumCharacters()?R.timer=setTimeout(R.query,f.searchDelay):R.hideResults()},cancel:{query:function(){R.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){var e=R.get.value(),t=e.length;return t>=f.minCharacters}},read:{cache:function(e){var t=C.data(p.cache);return f.cache?(R.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i?t[e]:!1):!1}},save:{results:function(e){R.verbose("Saving current search results to metadata",e),C.data(p.results,e)}},write:{cache:function(e,t){var n=C.data(p.cache)!==i?C.data(p.cache):{};f.cache&&(R.verbose("Writing generated html to cache",e,t),n[e]=t,C.data(p.cache,n))}},addResults:function(t){return e.isFunction(f.onResultsAdd)&&f.onResultsAdd.call(S,t)===!1?(R.debug("onResultsAdd callback cancelled default action"),!1):(S.html(t),void R.showResults())},showResults:function(){R.is.visible()||!R.is.focused()||R.is.empty()||(R.can.transition()?(R.debug("Showing results with css animations"),S.transition({animation:f.transition+" in",duration:f.duration,queue:!0})):(R.debug("Showing results with javascript"),S.stop().fadeIn(f.duration,f.easing)),f.onResultsOpen.call(S))},hideResults:function(){R.is.visible()&&(R.can.transition()?(R.debug("Hiding results with css animations"),S.transition({animation:f.transition+" out",duration:f.duration,queue:!0})):(R.debug("Hiding results with javascript"),S.stop().fadeOut(f.duration,f.easing)),f.onResultsClose.call(S))},generateResults:function(t){R.debug("Generating html from response",t);var n=f.templates[f.type],i=e.isPlainObject(t.results)&&!e.isEmptyObject(t.results),o=e.isArray(t.results)&&t.results.length>0,a="";return i||o?(f.maxResults>0&&(i?"standard"==f.type&&R.error(b.maxResults):t.results=t.results.slice(0,f.maxResults)),e.isFunction(n)?a=n(t):R.error(b.noTemplate,!1)):a=R.displayMessage(b.noResults,"empty"),f.onResults.call(E,t),a},displayMessage:function(e,t){return t=t||"standard",R.debug("Displaying message",e,t),R.addResults(f.templates.message(e,t)),f.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,R,t);else{if(n===i)return R[t];R[t]=n}},debug:function(){f.debug&&(f.performance?R.performance.log(arguments):(R.debug=Function.prototype.bind.call(console.info,console,f.name+":"),R.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?R.performance.log(arguments):(R.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),R.verbose.apply(console,arguments)))},error:function(){R.error=Function.prototype.bind.call(console.error,console,f.name+":"),R.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(R.performance.timer),R.performance.timer=setTimeout(R.performance.display,100)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(R.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||d,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},u?(F===i&&R.initialize(),R.invoke(l)):(F!==i&&F.invoke("destroy"),R.initialize())}),m!==i?m:this},e.fn.search.settings={name:"Search Module",namespace:"search",debug:!1,verbose:!0,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:"true",hideDelay:0,searchDelay:100,maxResults:7,cache:!0,transition:"scale",duration:300,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,exact:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=function(e){return i[e]};return n.test(e)?e.replace(t,o):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t){var n="",o=e.fn.search.settings.templates.escape;return t.results!==i?(e.each(t.results,function(t,a){a.results!==i&&a.results.length>0&&(n+='<div class="category"><div class="name">'+a.name+"</div>",e.each(a.results,function(e,t){n+='<div class="result">',t.url&&(n+='<a href="'+t.url+'"></a>'),t.image!==i&&(t.image=o(t.image),n+='<div class="image"> <img src="'+t.image+'" alt=""></div>'),n+='<div class="content">',t.price!==i&&(t.price=o(t.price),n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(t.title=o(t.title),n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div></div>"}),n+="</div>")}),t.action&&(n+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),n):!1},standard:function(t){var n="";return t.results!==i?(e.each(t.results,function(e,t){n+=t.url?'<a class="result" href="'+t.url+'">':'<a class="result">',t.image!==i&&(n+='<div class="image"> <img src="'+t.image+'"></div>'),n+='<div class="content">',t.price!==i&&(n+='<div class="price">'+t.price+"</div>"),t.title!==i&&(n+='<div class="title">'+t.title+"</div>"),t.description!==i&&(n+='<div class="description">'+t.description+"</div>"),n+="</div>",n+="</a>"}),t.action&&(n+='<a href="'+t.action.url+'" class="action">'+t.action.text+"</a>"),n):!1}}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.shape=function(o){var a=e(this),r=e("body"),s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},f;return a.each(function(){var t=a.selector||"",r=e.extend(!0,{},e.fn.shape.settings,o),g=r.namespace,p=r.selector,v=r.error,h=r.className,b="."+g,y="module-"+g,x=e(this),w=x.find(p.sides),C=x.find(p.side),T=!1,k,S,A=this,P=x.data(y),E;E={initialize:function(){E.verbose("Initializing module for",A),E.set.defaultSide(),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,x.data(y,P)},destroy:function(){E.verbose("Destroying previous module for",A),x.removeData(y).off(b)},refresh:function(){E.verbose("Refreshing selector cache for",A),x=e(A),w=e(this).find(p.shape),C=e(this).find(p.side)},repaint:function(){E.verbose("Forcing repaint event");var e=w.get(0)||n.createElement("div"),t=e.offsetWidth},animate:function(e,t){E.verbose("Animating box with properties",e),t=t||function(e){E.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),E.reset(),E.set.active()},r.beforeChange.call(S.get()),E.get.transitionEvent()?(E.verbose("Starting CSS animation"),x.addClass(h.animating),w.css(e).one(E.get.transitionEvent(),t),E.set.duration(r.duration),m(function(){x.addClass(h.animating),k.addClass(h.hidden)})):t()},queue:function(e){E.debug("Queueing animation of",e),w.one(E.get.transitionEvent(),function(){E.debug("Executing queued animation"),setTimeout(function(){x.shape(e)},0)})},reset:function(){E.verbose("Animating states reset"),x.removeClass(h.animating).attr("style","").removeAttr("style"),w.attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style").removeClass(h.hidden),S.removeClass(h.animating).attr("style","").removeAttr("style")},is:{complete:function(){return C.filter("."+h.active)[0]==S[0]},animating:function(){return x.hasClass(h.animating)}},set:{defaultSide:function(){k=x.find("."+r.className.active),S=k.next(p.side).length>0?k.next(p.side):x.find(p.side).first(),T=!1,E.verbose("Active side set to",k),E.verbose("Next side set to",S)},duration:function(e){e=e||r.duration,e="number"==typeof e?e+"ms":e,E.verbose("Setting animation duration",e),w.add(C).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},stageSize:function(){var e=x.clone().addClass(h.loading),t=e.find("."+r.className.active),n=T?e.find(p.side).eq(T):t.next(p.side).length>0?t.next(p.side):e.find(p.side).first(),i={};t.removeClass(h.active),n.addClass(h.active),e.insertAfter(x),i={width:n.outerWidth(),height:n.outerHeight()},e.remove(),x.css(i),E.verbose("Resizing stage to fit new content",i)},nextSide:function(e){T=e,S=C.filter(e),T=C.index(S),0===S.length&&(E.set.defaultSide(),E.error(v.side)),E.verbose("Next side manually set to",S)},active:function(){E.verbose("Setting new side to active",S),C.removeClass(h.active),S.addClass(h.active),r.onChange.call(S.get()),E.set.defaultSide()}},flip:{up:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip up"):(E.debug("Flipping up",S),E.set.stageSize(),E.stage.above(),E.animate(E.get.transform.up()))):void E.debug("Side already visible",S)},down:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip down"):(E.debug("Flipping down",S),E.set.stageSize(),E.stage.below(),E.animate(E.get.transform.down()))):void E.debug("Side already visible",S)},left:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip left"):(E.debug("Flipping left",S),E.set.stageSize(),E.stage.left(),E.animate(E.get.transform.left()))):void E.debug("Side already visible",S)},right:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip right"):(E.debug("Flipping right",S),E.set.stageSize(),E.stage.right(),E.animate(E.get.transform.right()))):void E.debug("Side already visible",S)},over:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip over"):(E.debug("Flipping over",S),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.over()))):void E.debug("Side already visible",S)},back:function(){return!E.is.complete()||E.is.animating()||r.allowRepeats?void(E.is.animating()?E.queue("flip back"):(E.debug("Flipping back",S),E.set.stageSize(),E.stage.behind(),E.animate(E.get.transform.back()))):void E.debug("Side already visible",S)}},get:{transform:{up:function(){var e={y:-((k.outerHeight()-S.outerHeight())/2),z:-(k.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((k.outerHeight()-S.outerHeight())/2),z:-(k.outerHeight()/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2),z:-(k.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2),z:-(k.outerWidth()/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((k.outerWidth()-S.outerWidth())/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]},nextSide:function(){return k.next(p.side).length>0?k.next(p.side):x.find(p.side).first()}},stage:{above:function(){var e={origin:(k.outerHeight()-S.outerHeight())/2,depth:{active:S.outerHeight()/2,next:k.outerHeight()/2}};E.verbose("Setting the initial animation position as above",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(k.outerHeight()-S.outerHeight())/2,depth:{active:S.outerHeight()/2,next:k.outerHeight()/2}};E.verbose("Setting the initial animation position as below",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as left",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-90deg) translateZ("+e.depth.next+"px)"})},right:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as left",S,e),k.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(90deg) translateZ("+e.depth.next+"px)"})},behind:function(){var e={origin:(k.outerWidth()-S.outerWidth())/2,depth:{active:S.outerWidth()/2,next:k.outerWidth()/2}};E.verbose("Setting the initial animation position as behind",S,e),k.css({transform:"rotateY(0deg)"}),S.addClass(h.animating).css({display:"block",left:e.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(E.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,r,t);else{if(n===i)return r[t];r[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){r.debug&&(r.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,r.name+":"),E.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,r.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;r.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100);

},display:function(){var n=r.name+":",o=0;s=!1,clearTimeout(E.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",t&&(n+=" '"+t+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||d,o=A||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s}},u?(P===i&&E.initialize(),E.invoke(l)):(P!==i&&P.invoke("destroy"),E.initialize())}),f!==i?f:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!0,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:700,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.sidebar=function(o){var a=e(this),r=e(t),s=e(n),c=e("html"),l=e("head"),u=a.selector||"",d=(new Date).getTime(),m=[],f=arguments[0],g="string"==typeof f,p=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},h;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.sidebar.settings,o):e.extend({},e.fn.sidebar.settings),b=a.selector,y=a.className,x=a.namespace,w=a.regExp,C=a.error,T="."+x,k="module-"+x,S=e(this),A=e(a.context),P=S.children(b.sidebar),E=A.children(b.fixed),F=A.children(b.pusher),R,O=this,D=S.data(k),z,q,j,N,I;I={initialize:function(){I.debug("Initializing sidebar",o),I.create.id(),N=I.get.transitionEvent(),("auto"==a.useLegacy&&I.is.legacy()||a.useLegacy===!0)&&(a.transition="overlay",a.useLegacy=!0),I.is.ios()&&I.set.ios(),a.delaySetup?v(I.setup.layout):I.setup.layout(),I.instantiate()},instantiate:function(){I.verbose("Storing instance of module",I),D=I,S.data(k,I)},create:{id:function(){q=(Math.random().toString(16)+"000000000").substr(2,8),z="."+q,I.verbose("Creating unique id for element",q)}},destroy:function(){I.verbose("Destroying previous module for",S),I.remove.direction(),S.off(T).removeData(k),A.off(z),r.off(z),s.off(z)},event:{clickaway:function(e){var t=F.find(e.target).length>0||F.is(e.target),n=A.is(e.target);t&&(I.verbose("User clicked on dimmed page"),I.hide()),n&&(I.verbose("User clicked on dimmable context (scaled out page)"),I.hide())},touch:function(e){},containScroll:function(e){O.scrollTop<=0&&(O.scrollTop=1),O.scrollTop+O.offsetHeight>=O.scrollHeight&&(O.scrollTop=O.scrollHeight-O.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(b.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){I.verbose("Adding clickaway events to context",A),a.closable&&A.on("click"+z,I.event.clickaway).on("touchend"+z,I.event.clickaway)},scrollLock:function(){a.scrollLock&&(I.debug("Disabling page scroll"),r.on("DOMMouseScroll"+z,I.event.scroll)),I.verbose("Adding events to contain sidebar scroll"),s.on("touchmove"+z,I.event.touch),S.on("scroll"+T,I.event.containScroll)}},unbind:{clickaway:function(){I.verbose("Removing clickaway events from context",A),A.off(z)},scrollLock:function(){I.verbose("Removing scroll lock from page"),s.off(z),r.off(z),S.off("scroll"+T)}},add:{bodyCSS:function(){var t=S.outerWidth(),n=S.outerHeight(),i=I.get.direction(),o={left:t,right:-t,top:n,bottom:-n},a;I.is.rtl()&&(I.verbose("RTL detected, flipping widths"),o.left=-t,o.right=t),a='<style title="'+x+'">',"left"===i||"right"===i?(I.debug("Adding CSS rules for animation distance",t),a+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d("+o[i]+"px, 0, 0);           transform: translate3d("+o[i]+"px, 0, 0); }"):("top"===i||"bottom"==i)&&(a+=" .ui.visible."+i+".sidebar ~ .fixed, .ui.visible."+i+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+o[i]+"px, 0);           transform: translate3d(0, "+o[i]+"px, 0); }"),I.is.ie()&&("left"===i||"right"===i?(I.debug("Adding CSS rules for animation distance",t),a+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+o[i]+"px, 0, 0);           transform: translate3d("+o[i]+"px, 0, 0); }"):("top"===i||"bottom"==i)&&(a+=" body.pushable > .ui.visible."+i+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+o[i]+"px, 0);           transform: translate3d(0, "+o[i]+"px, 0); }"),a+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),a+="</style>",l.append(a),R=e("style[title="+x+"]"),I.debug("Adding sizing css to head",R)}},refresh:function(){I.verbose("Refreshing selector cache"),A=e(a.context),P=A.children(b.sidebar),F=A.children(b.pusher),E=A.children(b.fixed)},refreshSidebars:function(){I.verbose("Refreshing other sidebars"),P=A.children(b.sidebar)},repaint:function(){I.verbose("Forcing repaint event"),O.style.display="none",O.offsetHeight,O.scrollTop=O.scrollTop,O.style.display=""},setup:{layout:function(){0===A.children(b.pusher).length&&(I.debug("Adding wrapper element for sidebar"),I.error(C.pusher),F=e('<div class="pusher" />'),A.children().not(b.omitted).not(P).wrapAll(F),I.refresh()),(0===S.nextAll(b.pusher).length||S.nextAll(b.pusher)[0]!==F[0])&&(I.debug("Moved sidebar to correct parent element"),I.error(C.movedSidebar,O),S.detach().prependTo(A),I.refresh()),I.set.pushable(),I.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(I[n])?I[n]:I.toggle,i.length>0?(I.debug("Attaching sidebar events to element",t,n),i.on("click"+T,n)):I.error(C.notFound,t)},show:function(t){var n=a.useLegacy===!0?I.legacyPushPage:I.pushPage;if(t=e.isFunction(t)?t:function(){},I.is.hidden()){if(I.refreshSidebars(),a.overlay&&(I.error(C.overlay),a.transition="overlay"),I.refresh(),I.othersActive())if(I.debug("Other sidebars currently visible"),a.exclusive){if("overlay"!=a.transition)return void I.hideOthers(I.show);I.hideOthers()}else a.transition="overlay";n(function(){t.call(O),a.onShow.call(O)}),a.onChange.call(O),a.onVisible.call(O)}else I.debug("Sidebar is already visible")},hide:function(t){var n=a.useLegacy===!0?I.legacyPullPage:I.pullPage;t=e.isFunction(t)?t:function(){},(I.is.visible()||I.is.animating())&&(I.debug("Hiding sidebar",t),I.refreshSidebars(),n(function(){t.call(O),a.onHidden.call(O)}),a.onChange.call(O),a.onHide.call(O))},othersAnimating:function(){return P.not(S).filter("."+y.animating).length>0},othersVisible:function(){return P.not(S).filter("."+y.visible).length>0},othersActive:function(){return I.othersVisible()||I.othersAnimating()},hideOthers:function(e){var t=P.not(S).filter("."+y.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){I.verbose("Determining toggled direction"),I.is.hidden()?I.show():I.hide()},pushPage:function(t){var n=I.get.transition(),i="safe"==n?A:"overlay"===n||I.othersActive()?S:F,o,r;t=e.isFunction(t)?t:function(){},"scale down"==a.transition&&I.scrollToTop(),I.set.transition(n),I.repaint(),o=function(){I.bind.clickaway(),I.add.bodyCSS(),I.set.animating(),I.set.visible(),I.othersVisible()||a.dimPage&&F.addClass(y.dimmed)},r=function(e){e.target==i[0]&&(i.off(N+z,r),I.remove.animating(),I.bind.scrollLock(),t.call(O))},i.off(N+z),i.on(N+z,r),v(o)},pullPage:function(t){var n=I.get.transition(),i="safe"==n?A:"overlay"==n||I.othersActive()?S:F,o,r;t=e.isFunction(t)?t:function(){},I.verbose("Removing context push state",I.get.direction()),I.set.transition(n),I.unbind.clickaway(),I.unbind.scrollLock(),o=function(){I.set.animating(),I.remove.visible(),a.dimPage&&!I.othersVisible()&&F.removeClass(y.dimmed)},r=function(e){e.target==i[0]&&(i.off(N+z,r),I.remove.animating(),I.remove.transition(),I.remove.bodyCSS(),("scale down"==n||a.returnScroll&&I.is.mobile())&&I.scrollBack(),t.call(O))},i.off(N+z),i.on(N+z,r),v(o)},legacyPushPage:function(t){var n=S.width(),i=I.get.direction(),o={};n=n||S.width(),t=e.isFunction(t)?t:function(){},o[i]=n,I.debug("Using javascript to push context",o),I.set.visible(),I.set.transition(),I.set.animating(),a.dimPage&&F.addClass(y.dimmed),A.css("position","relative").animate(o,a.duration,a.easing,function(){I.remove.animating(),I.bind.clickaway(),t.call(O)})},legacyPullPage:function(t){var n=0,i=I.get.direction(),o={};n=n||S.width(),t=e.isFunction(t)?t:function(){},o[i]="0px",I.debug("Using javascript to pull context",o),I.unbind.clickaway(),I.set.animating(),I.remove.visible(),a.dimPage&&!I.othersActive()&&F.removeClass(y.dimmed),A.css("position","relative").animate(o,a.duration,a.easing,function(){I.remove.animating(),t.call(O)})},scrollToTop:function(){I.verbose("Scrolling to top of page to avoid animation issues"),j=e(t).scrollTop(),S.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){I.verbose("Scrolling back to original page position"),t.scrollTo(0,j)},set:{ios:function(){c.addClass(y.ios)},pushed:function(){A.addClass(y.pushed)},pushable:function(){A.addClass(y.pushable)},active:function(){S.addClass(y.active)},animating:function(){S.addClass(y.animating)},transition:function(e){e=e||I.get.transition(),S.addClass(e)},direction:function(e){e=e||I.get.direction(),S.addClass(y[e])},visible:function(){S.addClass(y.visible)},overlay:function(){S.addClass(y.overlay)}},remove:{bodyCSS:function(){I.debug("Removing body css styles",R),R&&R.length>0&&R.remove()},pushed:function(){A.removeClass(y.pushed)},pushable:function(){A.removeClass(y.pushable)},active:function(){S.removeClass(y.active)},animating:function(){S.removeClass(y.animating)},transition:function(e){e=e||I.get.transition(),S.removeClass(e)},direction:function(e){e=e||I.get.direction(),S.removeClass(y[e])},visible:function(){S.removeClass(y.visible)},overlay:function(){S.removeClass(y.overlay)}},get:{direction:function(){return S.hasClass(y.top)?y.top:S.hasClass(y.right)?y.right:S.hasClass(y.bottom)?y.bottom:y.left},transition:function(){var e=I.get.direction(),t;return t=I.is.mobile()?"auto"==a.mobileTransition?a.defaultTransition.mobile[e]:a.mobileTransition:"auto"==a.transition?a.defaultTransition.computer[e]:a.transition,I.verbose("Determined transition",t),t},transitionEvent:function(){var e=n.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},o;for(o in t)if(e.style[o]!==i)return t[o]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},legacy:function(){var e=n.createElement("div"),o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},a;n.body.insertBefore(e,null);for(var r in o)e.style[r]!==i&&(e.style[r]="translate3d(1px,1px,1px)",a=t.getComputedStyle(e).getPropertyValue(o[r]));return n.body.removeChild(e),!(a!==i&&a.length>0&&"none"!==a)},ios:function(){var e=navigator.userAgent,t=e.match(w.ios);return t?(I.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(w.mobile);return t?(I.verbose("Browser was found to be mobile",e),!0):(I.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!I.is.visible()},visible:function(){return S.hasClass(y.visible)},open:function(){return I.is.visible()},closed:function(){return I.is.hidden()},vertical:function(){return S.hasClass(y.top)},animating:function(){return A.hasClass(y.animating)},rtl:function(){return"rtl"==S.css("direction")}},setting:function(t,n){if(I.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,I,t);else{if(n===i)return I[t];I[t]=n}},debug:function(){a.debug&&(a.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,a.name+":"),I.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,a.name+":"),I.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,100)},display:function(){var t=a.name+":",n=0;d=!1,clearTimeout(I.performance.timer),e.each(m,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,n,o){var a=D,r,s,c;return n=n||p,o=O||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(I.error(C.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(h)?h.push(c):h!==i?h=[h,c]:c!==i&&(h=c),s}},g?(D===i&&I.initialize(),I.invoke(f)):(D!==i&&I.invoke("destroy"),I.initialize())}),h!==i?h:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!0,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,useLegacy:"auto",duration:500,easing:"easeInOutQuint",onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}},e.extend(e.easing,{easeInOutQuint:function(e,t,n,i,o){return(t/=o/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n}})}(n,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var o=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),m=o.className,f=o.namespace,g=o.error,p="."+f,v="module-"+f,h=e(this),b=e(t),y=h.offsetParent(),x=e(o.scrollContext),w,C=h.selector||"",T=h.data(v),k=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},S=this,A,P;P={initialize:function(){P.determineContext(),P.verbose("Initializing sticky",o,y),P.save.positions(),P.checkErrors(),P.bind.events(),o.observeChanges&&P.observeChanges(),P.instantiate()},instantiate:function(){P.verbose("Storing instance of module",P),T=P,h.data(v,P)},destroy:function(){P.verbose("Destroying previous instance"),P.reset(),A&&A.disconnect(),b.off("load"+p,P.event.load).off("resize"+p,P.event.resize),x.off("scrollchange"+p,P.event.scrollchange),h.removeData(v)},observeChanges:function(){var e=w[0];"MutationObserver"in t&&(A=new MutationObserver(function(e){clearTimeout(P.timer),P.timer=setTimeout(function(){P.verbose("DOM tree modified, updating sticky menu"),P.refresh()},100)}),A.observe(S,{childList:!0,subtree:!0}),A.observe(e,{childList:!0,subtree:!0}),P.debug("Setting up mutation observer",A))},determineContext:function(){return w=o.context?e(o.context):y,0===w.length?void P.error(g.invalidContext,o.context,h):void 0},checkErrors:function(){return P.is.hidden()&&P.error(g.visible,h),P.cache.element.height>P.cache.context.height?(P.reset(),void P.error(g.elementSize,h)):void 0},bind:{events:function(){b.on("load"+p,P.event.load).on("resize"+p,P.event.resize),x.off("scroll"+p).on("scroll"+p,P.event.scroll).on("scrollchange"+p,P.event.scrollchange)}},event:{load:function(){P.verbose("Page contents finished loading"),k(P.refresh)},resize:function(){P.verbose("Window resized"),k(P.refresh)},scroll:function(){k(function(){x.trigger("scrollchange"+p,x.scrollTop())})},scrollchange:function(e,t){P.stick(t),o.onScroll.call(S)}},refresh:function(e){P.reset(),e&&(y=h.offsetParent()),P.save.positions(),P.stick(),o.onReposition.call(S)},supports:{sticky:function(){var t=e("<div/>"),n=t.get();return t.addClass(m.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){P.lastScroll=e},positions:function(){var e={height:b.height()},t={margin:{top:parseInt(h.css("margin-top"),10),bottom:parseInt(h.css("margin-bottom"),10)},offset:h.offset(),width:h.outerWidth(),height:h.outerHeight()},n={offset:w.offset(),height:w.outerHeight(),bottomPadding:parseInt(w.css("padding-bottom"),10)};P.cache={fits:t.height<e.height,window:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottomPadding:n.bottomPadding,bottom:n.offset.top+n.height-n.bottomPadding}},P.set.containerSize(),P.set.size(),P.stick(),P.debug("Caching element positions",P.cache)}},get:{direction:function(e){var t="down";return e=e||x.scrollTop(),P.lastScroll!==i&&(P.lastScroll<e?t="down":P.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||x.scrollTop(),P.lastScroll?e-P.lastScroll:0},currentElementScroll:function(){return P.is.top()?Math.abs(parseInt(h.css("top"),10))||0:Math.abs(parseInt(h.css("bottom"),10))||0},elementScroll:function(e){e=e||x.scrollTop();var t=P.cache.element,n=P.cache.window,i=P.get.scrollChange(e),a=t.height-n.height+o.offset,r=P.get.currentElementScroll(),s=r+i,r;return r=P.cache.fits||0>s?0:s>a?a:s}},remove:{offset:function(){h.css("margin-top","")}},set:{offset:function(){P.verbose("Setting offset on element",o.offset),h.css("margin-top",o.offset)},containerSize:function(){var e=y.get(0).tagName;"HTML"===e||"body"==e?y=h.offsetParent():Math.abs(y.height()-P.cache.context.height)>5&&(P.debug("Context has padding, specifying exact height for container",P.cache.context.height),y.css({height:P.cache.context.height}))},scroll:function(e){P.debug("Setting scroll on element",e),P.is.top()&&h.css("bottom","").css("top",-e),P.is.bottom()&&h.css("top","").css("bottom",e)},size:function(){0!==P.cache.element.height&&0!==P.cache.element.width&&h.css({width:P.cache.element.width,height:P.cache.element.height})}},is:{top:function(){return h.hasClass(m.top)},bottom:function(){return h.hasClass(m.bottom)},initialPosition:function(){return!P.is.fixed()&&!P.is.bound()},hidden:function(){return!h.is(":visible")},bound:function(){return h.hasClass(m.bound)},fixed:function(){return h.hasClass(m.fixed)}},stick:function(e){var t=e||x.scrollTop(),n=P.cache,i=n.fits,a=n.element,r=n.window,s=n.context,c=P.is.bottom()&&o.pushing?o.bottomOffset:o.offset,e={top:t+c,bottom:t+c+r.height},l=P.get.direction(e.top),u=i?0:P.get.elementScroll(e.top),d=!i,m=0!==a.height;P.save.lastScroll(e.top),m&&(P.is.initialPosition()?e.top>=s.bottom?(P.debug("Element bottom of container"),P.bindBottom()):e.top>=a.top&&(P.debug("Element passed, fixing element to page"),P.fixTop()):P.is.fixed()?P.is.top()?e.top<a.top?(P.debug("Fixed element reached top of container"),P.setInitialPosition()):a.height+e.top-u>s.bottom?(P.debug("Fixed element reached bottom of container"),P.bindBottom()):d&&P.set.scroll(u):P.is.bottom()&&(e.bottom-a.height<a.top?(P.debug("Bottom fixed rail has reached top of container"),P.setInitialPosition()):e.bottom>s.bottom?(P.debug("Bottom fixed rail has reached bottom of container"),P.bindBottom()):d&&P.set.scroll(u)):P.is.bottom()&&(o.pushing?P.is.bound()&&e.bottom<s.bottom&&(P.debug("Fixing bottom attached element to bottom of browser."),P.fixBottom()):P.is.bound()&&e.top<s.bottom-a.height&&(P.debug("Fixing bottom attached element to top of browser."),P.fixTop())))},bindTop:function(){P.debug("Binding element to top of parent container"),P.remove.offset(),h.css("left","").css("top","").css("margin-bottom","").removeClass(m.fixed).removeClass(m.bottom).addClass(m.bound).addClass(m.top),o.onTop.call(S),o.onUnstick.call(S)},bindBottom:function(){P.debug("Binding element to bottom of parent container"),P.remove.offset(),h.css("left","").css("top","").css("margin-bottom",P.cache.context.bottomPadding).removeClass(m.fixed).removeClass(m.top).addClass(m.bound).addClass(m.bottom),o.onBottom.call(S),o.onUnstick.call(S)},setInitialPosition:function(){P.unfix(),P.unbind()},fixTop:function(){P.debug("Fixing element to top of page"),P.set.offset(),h.css("left",P.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.bottom).addClass(m.fixed).addClass(m.top),o.onStick.call(S)},fixBottom:function(){P.debug("Sticking element to bottom of page"),P.set.offset(),h.css("left",P.cache.element.left).css("bottom","").removeClass(m.bound).removeClass(m.top).addClass(m.fixed).addClass(m.bottom),o.onStick.call(S)},unbind:function(){P.debug("Removing absolute position on element"),P.remove.offset(),h.removeClass(m.bound).removeClass(m.top).removeClass(m.bottom)},unfix:function(){P.debug("Removing fixed position on element"),P.remove.offset(),h.removeClass(m.fixed).removeClass(m.top).removeClass(m.bottom),o.onUnstick.call(S)},reset:function(){P.debug("Reseting elements position"),P.unbind(),P.unfix(),P.resetCSS(),P.remove.offset()},resetCSS:function(){h.css({width:"",height:""}),y.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,P,t);else{if(n===i)return P[t];P[t]=n}},debug:function(){o.debug&&(o.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,o.name+":"),P.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),P.verbose.apply(console,arguments)))},error:function(){P.error=Function.prototype.bind.call(console.error,console,o.name+":"),P.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;o.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,0)},display:function(){var t=o.name+":",n=0;r=!1,clearTimeout(P.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=T,r,s,c;return n=n||u,o=S||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(T===i&&P.initialize(),P.invoke(c)):(T!==i&&T.invoke("destroy"),P.initialize())}),d!==i?d:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!1,performance:!1,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,observeChanges:!0,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.tab=function(n){var o=e(e.isFunction(this)?t:this),a=e.isPlainObject(n)?e.extend(!0,{},e.fn.tab.settings,n):e.extend({},e.fn.tab.settings),r=o.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m,f;return o.each(function(){var n=a.className,g=a.metadata,p=a.selector,v=a.error,h="."+a.namespace,b="module-"+a.namespace,y=e(this),x={},w=!0,C=0,T,k,S,A,P,E=this,F=y.data(b);m={initialize:function(){m.debug("Initializing tab menu item",y),m.determineTabs(),m.debug("Determining tabs",a.context,k),a.auto&&m.set.auto(),e.isWindow(E)||(m.debug("Attaching tab activation events to element",y),y.on("click"+h,m.event.click)),m.instantiate()},determineTabs:function(){var t;"parent"===a.context?(y.closest(p.ui).length>0?(t=y.closest(p.ui),m.verbose("Using closest UI element for determining parent",t)):t=y,T=t.parent(),m.verbose("Determined parent element for creating context",T)):a.context?(T=e(a.context),m.verbose("Using selector for tab context",a.context,T)):T=e("body"),a.childrenOnly?(k=T.children(p.tabs),m.debug("Searching tab context children for tabs",T,k)):(k=T.find(p.tabs),m.debug("Searching tab context for tabs",T,k))},initializeHistory:function(){if(a.history){if(m.debug("Initializing page state"),e.address===i)return m.error(v.state),!1;if("state"==a.historyType){if(m.debug("Using HTML5 to manage state"),a.path===!1)return m.error(v.path),!1;e.address.history(!0).state(a.path)}e.address.bind("change",m.event.history.change)}},instantiate:function(){m.verbose("Storing instance of module",m),F=m,y.data(b,m)},destroy:function(){m.debug("Destroying tabs",y),y.removeData(b).off(h)},event:{click:function(t){var n=e(this).data(g.tab);n!==i?(a.history?(m.verbose("Updating page state",t),e.address.value(n)):(m.verbose("Changing tab",t),m.changeTab(n)),t.preventDefault()):m.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||m.get.initialPath(),o=a.templates.determineTitle(n)||!1;m.performance.display(),m.debug("History change event",n,t),P=t,n!==i&&m.changeTab(n),o&&e.address.title(o)}}},refresh:function(){S&&(m.debug("Refreshing tab",S),m.changeTab(S))},cache:{read:function(e){return e!==i?x[e]:!1},add:function(e,t){e=e||S,m.debug("Adding cached content for",e),x[e]=t},remove:function(e){e=e||S,m.debug("Removing cached content for",e),delete x[e]}},set:{auto:function(){var t="string"==typeof a.path?a.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";m.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(a.apiSettings)?a.apiSettings.url=t:a.apiSettings={url:t}},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&a.ignoreFirstLoad&&w,r=a.auto||e.isPlainObject(a.apiSettings),s=r&&!o?m.utilities.pathToArray(n):m.get.defaultPathArray(n);n=m.utilities.arrayToPath(s),e.each(s,function(t,i){var c=s.slice(0,t+1),l=m.utilities.arrayToPath(c),u=m.is.tab(l),d=t+1==s.length,f=m.get.tabElement(l),g,p,h,b;if(m.verbose("Looking for tab",i),u){if(m.verbose("Tab was found",i),S=l,A=m.utilities.filterArray(s,c),d?b=!0:(p=s.slice(0,t+2),h=m.utilities.arrayToPath(p),b=!m.is.tab(h),b&&m.verbose("Tab parameters found",p)),b&&r)return o?(m.debug("Ignoring remote content on first tab load",l),w=!1,m.cache.add(n,f.html()),m.activate.all(l),a.onTabInit.call(f,l,A,P),a.onTabLoad.call(f,l,A,P)):(m.activate.navigation(l),m.content.fetch(l,n)),!1;m.debug("Opened local tab",l),m.activate.all(l),m.cache.read(l)||(m.cache.add(l,!0),m.debug("First time tab loaded calling tab init"),a.onTabInit.call(f,l,A,P)),a.onTabLoad.call(f,l,A,P)}else{if(-1!=n.search("/")||""===n)return m.error(v.missingTab,y,T,l),!1;if(g=e("#"+n+', a[name="'+n+'"]'),l=g.closest("[data-tab]").data("tab"),f=m.get.tabElement(l),g&&g.length>0&&l)return m.debug("No tab found, but deep anchor link present, opening parent tab"),m.activate.all(l),m.cache.read(l)||(m.cache.add(l,!0),m.debug("First time tab loaded calling tab init"),a.onTabInit.call(f,l,A,P)),!1}})},content:{fetch:function(t,o){var r=m.get.tabElement(t),s={dataType:"html",on:"now",onSuccess:function(e){m.cache.add(o,e),m.content.update(t,e),t==S?(m.debug("Content loaded",t),m.activate.tab(t)):m.debug("Content loaded in background",t),a.onTabInit.call(r,t,A,P),a.onTabLoad.call(r,t,A,P)},urlData:{tab:o}},c=r.api("get request")||!1,l=c&&"pending"===c.state(),u,d;o=o||t,d=m.cache.read(o),m.activate.tab(t),a.cache&&d?(m.debug("Showing existing content",o),m.content.update(t,d),a.onTabLoad.call(r,t,A,P)):l?(m.debug("Content is already loading",o),r.addClass(n.loading)):e.api!==i?(u=e.extend(!0,{headers:{"X-Remote":!0}},a.apiSettings,s),m.debug("Retrieving remote content",o,u),r.api(u)):m.error(v.api)},update:function(e,t){m.debug("Updating html for",e);var n=m.get.tabElement(e);n.html(t)}},activate:{all:function(e){m.activate.tab(e),m.activate.navigation(e)},tab:function(e){var t=m.get.tabElement(e);m.verbose("Showing tab content for",t),t.addClass(n.active).siblings(k).removeClass(n.active+" "+n.loading)},navigation:function(e){var t=m.get.navElement(e);m.verbose("Activating tab navigation for",t,e),t.addClass(n.active).siblings(o).removeClass(n.active+" "+n.loading)}},deactivate:{all:function(){m.deactivate.navigation(),m.deactivate.tabs()},navigation:function(){o.removeClass(n.active)},tabs:function(){k.removeClass(n.active+" "+n.loading)}},is:{tab:function(e){return e!==i?m.get.tabElement(e).length>0:!1}},get:{initialPath:function(){return o.eq(0).data(g.tab)||k.eq(0).data(g.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return m.utilities.pathToArray(m.get.defaultPath(e))},defaultPath:function(e){var t=o.filter("[data-"+g.tab+'^="'+e+'/"]').eq(0),n=t.data(g.tab)||!1;if(n){if(m.debug("Found default tab",n),C<a.maxDepth)return C++,m.get.defaultPath(n);m.error(v.recursion)}else m.debug("No default tabs found for",e,k);return C=0,e},navElement:function(e){return e=e||S,o.filter("[data-"+g.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||S,i=m.utilities.pathToArray(e),o=m.utilities.last(i),t=k.filter("[data-"+g.tab+'="'+o+'"]'),n=k.filter("[data-"+g.tab+'="'+e+'"]'),
t.length>0?t:n},tab:function(){return S}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=S),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(m.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},debug:function(){a.debug&&(a.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,a.name+":"),m.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,a.name+":"),m.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:E,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,100)},display:function(){var t=a.name+":",n=0;s=!1,clearTimeout(m.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=F,r,s,c;return n=n||d,o=E||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(m.error(v.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s}},u?(F===i&&m.initialize(),m.invoke(l)):(F!==i&&F.invoke("destroy"),m.initialize())}),m&&!u&&m.initializeHistory(),f!==i?f:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!0,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,onTabInit:function(e,t,n){},onTabLoad:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found for this context.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments,l=c[0],u=[].slice.call(arguments,1),d="string"==typeof l,m=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},f;return o.each(function(t){var m=e(this),g=this,p,v,h,b,y,x,w,C,T,k,S,A;A={initialize:function(){p=A.get.settings.apply(g,c),b=p.className,h=p.error,y=p.metadata,S="."+p.namespace,k="module-"+p.namespace,v=m.data(k)||A,w=A.get.animationEndEvent(),C=A.get.animationName(),x=A.get.animationStartEvent(),d&&(d=A.invoke(l)),d===!1&&(A.verbose("Converted arguments into settings object",p),p.interval?A.delay(p.animate):A.animate(),A.instantiate())},instantiate:function(){A.verbose("Storing instance of module",A),v=A,m.data(k,v)},destroy:function(){A.verbose("Destroying previous module for",g),m.removeData(k)},refresh:function(){A.verbose("Refreshing display type on next animation"),delete A.displayType},forceRepaint:function(){A.verbose("Forcing element repaint");var e=m.parent(),t=m.next();0===t.length?m.detach().appendTo(e):m.detach().insertBefore(t)},repaint:function(){A.verbose("Repainting element");var e=g.offsetWidth},delay:function(e){var n=p.reverse===!0,a="auto"==p.reverse&&A.get.direction()==b.outward,r;e=typeof e!==i?e:p.interval,r=n||a?(o.length-t)*p.interval:t*p.interval,A.debug("Delaying animation by",r),setTimeout(A.animate,r)},animate:function(e){if(p=e||p,!A.is.supported())return A.error(h.support),!1;if(A.debug("Preparing animation",p.animation),A.is.animating()){if(p.queue)return!p.allowRepeats&&A.has.direction()&&A.is.occurring()&&A.queuing!==!0?A.debug("Animation is currently occurring, preventing queueing same animation",p.animation):A.queue(p.animation),!1;if(!p.allowRepeats&&A.is.occurring())return A.debug("Animation is already occurring, will not execute repeated animation",p.animation),!1;A.debug("New animation started, completing previous early",p.animation),A.complete()}A.can.animate()?A.set.animating(p.animation):A.error(h.noAnimation,p.animation,g)},reset:function(){A.debug("Resetting animation to beginning conditions"),A.remove.animationCallbacks(),A.restore.conditions(),A.remove.animating()},queue:function(e){A.debug("Queueing animation of",e),A.queuing=!0,m.one(w+".queue"+S,function(){A.queuing=!1,A.repaint(),A.animate.apply(this,p)})},complete:function(e){A.debug("Animation complete",p.animation),A.remove.completeCallback(),A.remove.failSafe(),A.is.looping()||(A.is.outward()?(A.verbose("Animation is outward, hiding element"),A.restore.conditions(),A.hide(),p.onHide.call(this)):A.is.inward()?(A.verbose("Animation is outward, showing element"),A.restore.conditions(),A.show(),p.onShow.call(this)):A.restore.conditions(),A.remove.animation(),A.remove.animating()),p.onComplete.call(this)},has:{direction:function(t){var n=!1;return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===b.inward||t===b.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=m.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){e=e||p.animation,A.is.animating()||A.save.conditions(),A.remove.direction(),A.remove.completeCallback(),A.can.transition()&&!A.has.direction()&&A.set.direction(),A.remove.hidden(),A.set.display(),m.addClass(b.animating+" "+b.transition+" "+e).addClass(e).one(w+".complete"+S,A.complete),p.useFailSafe&&A.add.failSafe(),A.set.duration(p.duration),p.onStart.call(this),A.debug("Starting tween",e,m.attr("class"))},duration:function(e,t){t=t||p.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(A.verbose("Setting animation duration",t),m.css({"-webkit-animation-duration":t,"-moz-animation-duration":t,"-ms-animation-duration":t,"-o-animation-duration":t,"animation-duration":t}))},display:function(){var e=A.get.style(),t=A.get.displayType(),n=e+"display: "+t+" !important;";m.css("display",""),A.refresh(),m.css("display")!==t&&(A.verbose("Setting inline visibility to",t),m.attr("style",n))},direction:function(){m.is(":visible")&&!A.is.hidden()?(A.debug("Automatically determining the direction of animation","Outward"),m.removeClass(b.inward).addClass(b.outward)):(A.debug("Automatically determining the direction of animation","Inward"),m.removeClass(b.outward).addClass(b.inward))},looping:function(){A.debug("Transition set to loop"),m.addClass(b.looping)},hidden:function(){A.is.hidden()||m.addClass(b.transition).addClass(b.hidden),"none"!==m.css("display")&&(A.verbose("Overriding default display to hide element"),m.css("display","none"))},visible:function(){m.addClass(b.transition).addClass(b.visible)}},save:{displayType:function(e){m.data(y.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,A.verbose("Saving existence of transition",t,n)},conditions:function(){var e=m.attr("class")||!1,t=m.attr("style")||"";m.removeClass(p.animation),A.remove.direction(),A.cache={className:m.attr("class"),style:A.get.style()},A.verbose("Saving original attributes",A.cache)}},restore:{conditions:function(){return A.cache===i?!1:(A.cache.className?m.attr("class",A.cache.className):m.removeAttr("class"),A.cache.style?(A.verbose("Restoring original style attribute",A.cache.style),m.attr("style",A.cache.style)):(A.verbose("Clearing style attribute"),m.removeAttr("style")),void A.verbose("Restoring original attributes",A.cache))}},add:{failSafe:function(){var e=A.get.duration();A.timer=setTimeout(function(){m.trigger(w)},e+p.failSafeDelay),A.verbose("Adding fail safe timer",A.timer)}},remove:{animating:function(){m.removeClass(b.animating)},animation:function(){m.css({"-webkit-animation":"","-moz-animation":"","-ms-animation":"","-o-animation":"",animation:""})},animationCallbacks:function(){A.remove.queueCallback(),A.remove.completeCallback()},queueCallback:function(){m.off(".queue"+S)},completeCallback:function(){m.off(".complete"+S)},display:function(){m.css("display","")},direction:function(){m.removeClass(b.inward).removeClass(b.outward)},failSafe:function(){A.verbose("Removing fail safe timer",A.timer),A.timer&&clearTimeout(A.timer)},hidden:function(){m.removeClass(b.hidden)},visible:function(){m.removeClass(b.visible)},looping:function(){A.debug("Transitions are no longer looping"),A.is.looping()&&(A.reset(),m.removeClass(b.looping))},transition:function(){m.removeClass(b.visible).removeClass(b.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t});return e.fn.transition.settings},direction:function(t){return t=t||p.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){return t===b.inward?b.inward:t===b.outward?b.outward:void 0})),A.can.transition()?m.is(":visible")&&!A.is.hidden()?b.outward:b.inward:"static"},duration:function(e){return e=e||p.duration,e===!1&&(e=m.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return p.displayType?p.displayType:(m.data(y.displayType)===i&&A.can.transition(!0),m.data(y.displayType))},style:function(){var e=m.attr("style")||"";return e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationName:function(){var e=n.createElement("div"),t={animation:"animationName",OAnimation:"oAnimationName",MozAnimation:"mozAnimationName",WebkitAnimation:"webkitAnimationName"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1},animationStartEvent:function(){var e=n.createElement("div"),t={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1},animationEndEvent:function(){var e=n.createElement("div"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"},o;for(o in t)if(e.style[o]!==i)return t[o];return!1}},can:{transition:function(t){var n=m.attr("class"),o=m.prop("tagName"),a=p.animation,r=A.get.transitionExists(a),s,c,l,u,d;if(r===i||t){if(A.verbose("Determining whether animation exists"),s=e("<"+o+" />").addClass(n).insertAfter(m),c=s.addClass(a).removeClass(b.inward).removeClass(b.outward).addClass(b.animating).addClass(b.transition).css(C),l=s.addClass(b.inward).css(C),d=s.attr("class",n).removeAttr("style").removeClass(b.hidden).removeClass(b.visible).show().css("display"),A.verbose("Determining final display state",d),A.save.displayType(d),s.remove(),c!=l)A.debug("Direction exists for animation",a),u=!0;else{if("none"==c||!c)return void A.debug("No animation defined in css",a);A.debug("Static animation found",a,d),u=!1}A.save.transitionExists(a,u)}return r!==i?r:u},animate:function(){return A.can.transition()!==i}},is:{animating:function(){return m.hasClass(b.animating)},inward:function(){return m.hasClass(b.inward)},outward:function(){return m.hasClass(b.outward)},looping:function(){return m.hasClass(b.looping)},occurring:function(e){return e=e||p.animation,e="."+e.replace(" ","."),m.filter(e).length>0},visible:function(){return m.is(":visible")},hidden:function(){return"hidden"===m.css("visibility")},supported:function(){return C!==!1&&w!==!1}},hide:function(){A.verbose("Hiding element"),A.is.animating()&&A.reset(),A.remove.display(),A.remove.visible(),A.set.hidden(),A.repaint()},show:function(e){A.verbose("Showing element",e),A.remove.hidden(),A.set.visible(),A.set.display(),A.repaint()},toggle:function(){A.is.visible()?A.hide():A.show()},stop:function(){A.debug("Stopping current animation"),m.trigger(w)},stopAll:function(){A.debug("Stopping all animation"),A.remove.queueCallback(),m.trigger(w)},clear:{queue:function(){A.debug("Clearing animation queue"),A.remove.queueCallback()}},enable:function(){A.verbose("Starting animation"),m.removeClass(b.disabled)},disable:function(){A.debug("Stopping animation"),m.addClass(b.disabled)},setting:function(t,n){if(A.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,A,t);else{if(n===i)return A[t];A[t]=n}},debug:function(){p.debug&&(p.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,p.name+":"),A.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),A.verbose.apply(console,arguments)))},error:function(){A.error=Function.prototype.bind.call(console.error,console,p.name+":"),A.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":n})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,100)},display:function(){var t=p.name+":",n=0;r=!1,clearTimeout(A.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=v,r,s,c;return n=n||u,o=g||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):!1;a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(f)?f.push(c):f!==i?f=[f,c]:c!==i&&(f=c),s!==i?s:!1}},A.initialize()}),f!==i?f:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!0,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.video=function(n){var o=e(this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},m;return o.each(function(){var d=e.isPlainObject(n)?e.extend(!0,{},e.fn.video.settings,n):e.extend({},e.fn.video.settings),f=d.selector,g=d.className,p=d.error,v=d.metadata,h=d.namespace,b=d.templates,y="."+h,x="module-"+h,w=e(t),C=e(this),T=C.find(f.placeholder),k=C.find(f.playButton),S=C.find(f.embed),A=this,P=C.data(x),E;E={initialize:function(){E.debug("Initializing video"),E.create(),T.on("click"+y,E.play),k.on("click"+y,E.play),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,C.data(x,E)},create:function(){var e=C.data(v.image),t=b.video(e);C.html(t),E.refresh(),e||E.play(),E.debug("Creating html for video element",t)},destroy:function(){E.verbose("Destroying previous instance of video"),E.reset(),C.removeData(x).off(y),T.off(y),k.off(y)},refresh:function(){E.verbose("Refreshing selector cache"),T=C.find(f.placeholder),k=C.find(f.playButton),S=C.find(f.embed)},change:function(e,t,n){E.debug("Changing video to ",e,t,n),C.data(v.source,e).data(v.id,t).data(v.url,n),d.onChange()},reset:function(){E.debug("Clearing video embed and showing placeholder"),C.removeClass(g.active),S.html(" "),T.show(),d.onReset()},play:function(){E.debug("Playing video");var e=C.data(v.source)||!1,t=C.data(v.url)||!1,n=C.data(v.id)||!1;S.html(E.generate.html(e,n,t)),C.addClass(g.active),d.onPlay()},get:{source:function(e){return"string"!=typeof e?!1:-1!==e.search("youtube.com")?"youtube":-1!==e.search("vimeo.com")?"vimeo":!1},id:function(e){return e.match(d.regExp.youtube)?e.match(d.regExp.youtube)[1]:e.match(d.regExp.vimeo)?e.match(d.regExp.vimeo)[2]:!1}},generate:{html:function(e,t,n){E.debug("Generating embed html");var i;return e=e||d.source,t=t||d.id,e&&t||n?(e&&t||(e=E.get.source(n),t=E.get.id(n)),"vimeo"==e?i='<iframe src="//player.vimeo.com/video/'+t+"?="+E.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>':"youtube"==e&&(i='<iframe src="//www.youtube.com/embed/'+t+"?="+E.generate.url(e)+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):E.error(p.noVideo),i},url:function(e){var t=d.api?1:0,n="auto"===d.autoplay?C.data("image")!==i:d.autoplay,o=d.hd?1:0,a=d.showUI?1:0,r=d.showUI?0:1,s="";return"vimeo"==e&&(s="api="+t+"&amp;title="+a+"&amp;byline="+a+"&amp;portrait="+a+"&amp;autoplay="+n,d.color&&(s+="&amp;color="+d.color)),"ustream"==e?(s="autoplay="+n,d.color&&(s+="&amp;color="+d.color)):"youtube"==e&&(s="enablejsapi="+t+"&amp;autoplay="+n+"&amp;autohide="+r+"&amp;hq="+o+"&amp;modestbranding=1",d.color&&(s+="&amp;color="+d.color)),s}},setting:function(t,n){if(E.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){d.debug&&(d.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,d.name+":"),E.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,d.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;d.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100)},display:function(){var t=d.name+":",n=0;r=!1,clearTimeout(E.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||u,o=A||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(E.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},l?(P===i&&E.initialize(),E.invoke(c)):(P!==i&&P.invoke("destroy"),E.initialize())}),m!==i?m:this},e.fn.video.settings={name:"Video",namespace:"video",debug:!1,verbose:!0,performance:!0,metadata:{id:"id",image:"image",source:"source",url:"url"},source:!1,url:!1,id:!1,aspectRatio:16/9,onPlay:function(){},onReset:function(){},onChange:function(){},onPause:function(){},onStop:function(){},width:"auto",height:"auto",autoplay:"auto",color:"#442359",hd:!0,showUI:!1,api:!0,regExp:{youtube:/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,vimeo:/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/},error:{noVideo:"No video specified",method:"The method you called is not defined"},className:{active:"active"},selector:{embed:".embed",placeholder:".placeholder",playButton:".play"}},e.fn.video.settings.templates={video:function(e){var t="";return e&&(t+='<i class="video play icon"></i><img class="placeholder" src="'+e+'">'),t+='<div class="embed"></div>'}}}(n,window,document),function(e,t,n,i){"use strict";e.api=e.fn.api=function(n){var o=e(e.isFunction(this)?t:this),a=o.selector||"",r=(new Date).getTime(),s=[],c=arguments[0],l="string"==typeof c,u=[].slice.call(arguments,1),d;return o.each(function(){var t=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),o=t.namespace,m=t.metadata,f=t.selector,g=t.error,p=t.className,v="."+o,h="module-"+o,b=e(this),y=b.closest(f.form),x=t.stateContext?e(t.stateContext):b,w,C,T,k,S=this,A=x.get(),P=b.data(h),E;E={initialize:function(){var e=E.get.event();l||(e?(E.debug("Attaching API events to element",e),b.on(e+v,E.event.trigger)):"now"==t.on&&(E.debug("Querying API now",e),E.query())),E.instantiate()},instantiate:function(){E.verbose("Storing instance of module",E),P=E,b.data(h,P)},destroy:function(){E.verbose("Destroying previous module for",S),b.removeData(h).off(v)},query:function(){if(E.is.disabled())return void E.debug("Element is disabled API request aborted");if(E.is.loading()&&0===t.throttle)return void E.debug("Cancelling request, previous request is still pending");if(t.defaultData&&e.extend(!0,t.urlData,E.get.defaultData()),(t.serializeForm!==!1||x.is("form"))&&("json"==t.serializeForm?e.extend(!0,t.data,E.get.formData()):t.data=E.get.formData()),C=E.get.settings(),C===!1)return E.cancelled=!0,void E.error(g.beforeSend);if(E.cancelled=!1,t.url?(E.debug("Using specified url",T),T=E.add.urlData(t.url)):(T=E.add.urlData(E.get.templateURL()),E.debug("Added URL Data to url",T)),!T){if(!E.is.form())return void E.error(g.missingURL,t.action);T=b.attr("action")||"",E.debug("No url or action specified, defaulting to form action",T)}E.set.loading(),w=e.extend(!0,{},t,{type:t.method||t.type,data:k,url:t.base+T,beforeSend:t.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),E.debug("Querying URL",w.url),E.debug("Sending data",k,w.method),E.verbose("Using AJAX settings",w),E.is.loading()?E.timer=setTimeout(function(){E.request=E.create.request(),E.xhr=E.create.xhr(),t.onRequest.call(A,E.request,E.xhr)},t.throttle):(E.request=E.create.request(),E.xhr=E.create.xhr(),t.onRequest.call(A,E.request,E.xhr))},is:{disabled:function(){return b.filter(t.filter).length>0},form:function(){return b.is("form")},input:function(){return b.is("input")},loading:function(){return E.request&&"pending"==E.request.state()}},was:{cancelled:function(){return E.cancelled||!1},succesful:function(){return E.request&&"resolved"==E.request.state()},failure:function(){return E.request&&"rejected"==E.request.state()},complete:function(){return E.request&&("resolved"==E.request.state()||"rejected"==E.request.state())}},add:{urlData:function(n,o){var a,r;return n&&(a=n.match(t.regExp.required),r=n.match(t.regExp.optional),o=o||t.urlData,a&&(E.debug("Looking for required URL variables",a),e.each(a,function(t,a){var r=-1!==a.indexOf("$")?a.substr(2,a.length-3):a.substr(1,a.length-2),s=e.isPlainObject(o)&&o[r]!==i?o[r]:b.data(r)!==i?b.data(r):x.data(r)!==i?x.data(r):o[r];return s===i?(E.error(g.requiredParameter,r,n),n=!1,!1):(E.verbose("Found required variable",r,s),void(n=n.replace(a,s)))})),r&&(E.debug("Looking for optional URL variables",a),e.each(r,function(t,a){var r=-1!==a.indexOf("$")?a.substr(3,a.length-4):a.substr(2,a.length-3),s=e.isPlainObject(o)&&o[r]!==i?o[r]:b.data(r)!==i?b.data(r):x.data(r)!==i?x.data(r):o[r];s!==i?(E.verbose("Optional variable Found",r,s),n=n.replace(a,s)):(E.verbose("Optional variable not found",r),n=-1!==n.indexOf("/"+a)?n.replace("/"+a,""):n.replace(a,""))}))),n}},event:{trigger:function(e){E.query(),("submit"==e.type||"click"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(e){var n=this,i=(new Date).getTime()-r,o=t.loadingDuration-i;o=o>0?o:0,setTimeout(function(){E.request.resolveWith(n,[e])},o)},fail:function(e,n,i){var o=this,a=(new Date).getTime()-r,s=t.loadingDuration-a;s=s>0?s:0,setTimeout(function(){"abort"!==n?E.request.rejectWith(o,[e,n,i]):E.reset()},s)}},request:{complete:function(e){E.remove.loading(),t.onComplete.call(A,e,b)},done:function(n){E.debug("API Response Received",n),"json"==t.dataType&&e.isFunction(t.successTest)?(E.debug("Checking JSON returned success",t.successTest,n),t.successTest(n)?t.onSuccess.call(A,n,b):(E.debug("JSON test specified by user and response failed",n),t.onFailure.call(A,n,b))):t.onSuccess.call(A,n,b)},error:function(n,o,a){var r=t.error[o]!==i?t.error[o]:a,s;if(n!==i)if(n.readyState!==i&&4==n.readyState){if(200!=n.status&&a!==i&&""!==a)E.error(g.statusMessage+a,w.url);else if("error"==o&&"json"==t.dataType)try{s=e.parseJSON(n.responseText),s&&s.error!==i&&(r=s.error)}catch(c){E.error(g.JSONParse)}E.remove.loading(),E.set.error(),t.errorDuration&&setTimeout(E.remove.error,t.errorDuration),E.debug("API Request error:",r),t.onError.call(A,r,b)}else t.onAbort.call(A,r,b),E.debug("Request Aborted (Most likely caused by page change or CORS Policy)",o,a)}}},create:{request:function(){return e.Deferred().always(E.event.request.complete).done(E.event.request.done).fail(E.event.request.error)},xhr:function(){return e.ajax(w).always(E.event.xhr.always).done(E.event.xhr.done).fail(E.event.xhr.fail)}},set:{error:function(){E.verbose("Adding error state to element",x),x.addClass(p.error)},loading:function(){E.verbose("Adding loading state to element",x),x.addClass(p.loading)}},remove:{error:function(){E.verbose("Removing error state from element",x),x.removeClass(p.error)},loading:function(){E.verbose("Removing loading state from element",x),x.removeClass(p.loading)}},get:{request:function(){return E.request||!1},xhr:function(){return E.xhr||!1},settings:function(){var e;return e=t.beforeSend.call(b,t),e&&(e.success!==i&&(E.debug("Legacy success callback detected",e),E.error(g.legacyParameters,e.success),e.onSuccess=e.success),e.failure!==i&&(E.debug("Legacy failure callback detected",e),E.error(g.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==i&&(E.debug("Legacy complete callback detected",e),E.error(g.legacyParameters,e.complete),e.onComplete=e.complete)),e===i&&E.error(g.noReturnedValue),e!==i?e:t},defaultData:function(){var t={};return e.isWindow(S)||(E.is.input()?t.value=b.val():E.is.form()&&(t.text=b.text())),t},event:function(){return e.isWindow(S)||"now"==t.on?(E.debug("API called without element, no events attached"),!1):"auto"==t.on?b.is("input")?S.oninput!==i?"input":S.onpropertychange!==i?"propertychange":"keyup":b.is("form")?"submit":"click":t.on},formData:function(){var e;return b.serializeObject!==i?e=y.serializeObject():(E.error(g.missingSerialize),e=y.serialize()),E.debug("Retrieved form data",e),e},templateURL:function(e){var n;return e=e||b.data(m.action)||t.action||!1,e&&(E.debug("Looking up url for action",e,t.api),t.api[e]!==i?(n=t.api[e],E.debug("Found template url",n)):E.is.form()||E.error(g.missingAction,t.action,t.api)),n}},abort:function(){var e=E.get.xhr();e&&"resolved"!==e.state()&&(E.debug("Cancelling API request"),e.abort(),E.request.rejectWith(t.apiSettings))},reset:function(){E.remove.error(),E.remove.loading()},setting:function(n,o){if(E.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,t,n);else{if(o===i)return t[n];t[n]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,E,t);else{if(n===i)return E[t];E[t]=n}},debug:function(){t.debug&&(t.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,t.name+":"),E.debug.apply(console,arguments)))},verbose:function(){t.verbose&&t.debug&&(t.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,t.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,t.name+":"),E.error.apply(console,arguments)},performance:{log:function(e){var n,i,o;t.performance&&(n=(new Date).getTime(),o=r||n,i=n-o,r=n,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":i})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,100)},display:function(){var n=t.name+":",o=0;r=!1,clearTimeout(E.performance.timer),e.each(s,function(e,t){o+=t["Execution Time"]}),n+=" "+o+"ms",a&&(n+=" '"+a+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(n),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a=P,r,s,c;return n=n||u,o=S||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(E.error(g.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(d)?d.push(c):d!==i?d=[d,c]:c!==i&&(d=c),s}},l?(P===i&&E.initialize(),E.invoke(c)):(P!==i&&P.invoke("destroy"),E.initialize())}),d!==i?d:this},e.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,on:"auto",filter:".disabled",stateContext:!1,loadingDuration:0,errorDuration:2e3,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,method:"get",data:{},dataType:"json",beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",
missingSerialize:"Required dependency jquery-serialize-object missing, using basic serialize",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{form:"form"},metadata:{action:"action"}},e.api.settings.api={}}(n,window,document),function(e,t,n,i){"use strict";e.fn.state=function(t){var o=e(this),a=o.selector||"",r="ontouchstart"in n.documentElement,s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return o.each(function(){var n=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),r=n.error,f=n.metadata,g=n.className,p=n.namespace,v=n.states,h=n.text,b="."+p,y=p+"-module",x=e(this),w=this,C=x.data(y),T;T={initialize:function(){T.verbose("Initializing module"),n.automatic&&T.add.defaults(),n.context&&""!==a?e(n.context).on(a,"mouseenter"+b,T.change.text).on(a,"mouseleave"+b,T.reset.text).on(a,"click"+b,T.toggle.state):x.on("mouseenter"+b,T.change.text).on("mouseleave"+b,T.reset.text).on("click"+b,T.toggle.state),T.instantiate()},instantiate:function(){T.verbose("Storing instance of module",T),C=T,x.data(y,T)},destroy:function(){T.verbose("Destroying previous module",C),x.off(b).removeData(y)},refresh:function(){T.verbose("Refreshing selector cache"),x=e(w)},add:{defaults:function(){var o=t&&e.isPlainObject(t.states)?t.states:{};e.each(n.defaults,function(t,a){T.is[t]!==i&&T.is[t]()&&(T.verbose("Adding default states",t,w),e.extend(n.states,a,o))})}},is:{active:function(){return x.hasClass(g.active)},loading:function(){return x.hasClass(g.loading)},inactive:function(){return!x.hasClass(g.active)},state:function(e){return g[e]===i?!1:x.hasClass(g[e])},enabled:function(){return!x.is(n.filter.active)},disabled:function(){return x.is(n.filter.active)},textEnabled:function(){return!x.is(n.filter.text)},button:function(){return x.is(".button:not(a, .submit)")},input:function(){return x.is("input")},progress:function(){return x.is(".ui.progress")}},allow:function(e){T.debug("Now allowing state",e),v[e]=!0},disallow:function(e){T.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){x.removeClass(g.disabled)},disable:function(){x.addClass(g.disabled)},setState:function(e){T.allows(e)&&x.addClass(g[e])},removeState:function(e){T.allows(e)&&x.removeClass(g[e])},toggle:{state:function(){var t,o;if(T.allows("active")&&T.is.enabled()){if(T.refresh(),e.fn.api!==i)if(t=x.api("get request"),o=x.api("was cancelled"))T.debug("API Request cancelled by beforesend"),n.activateTest=function(){return!1},n.deactivateTest=function(){return!1};else if(t)return void T.listenTo(t);T.change.state()}}},listenTo:function(t){T.debug("API request detected, waiting for state signal",t),t&&(h.loading&&T.update.text(h.loading),e.when(t).then(function(){"resolved"==t.state()?(T.debug("API request succeeded"),n.activateTest=function(){return!0},n.deactivateTest=function(){return!0}):(T.debug("API request failed"),n.activateTest=function(){return!1},n.deactivateTest=function(){return!1}),T.change.state()}))},change:{state:function(){T.debug("Determining state change direction"),T.is.inactive()?T.activate():T.deactivate(),n.sync&&T.sync(),n.onChange.call(w)},text:function(){T.is.textEnabled()&&(T.is.disabled()?(T.verbose("Changing text to disabled text",h.hover),T.update.text(h.disabled)):T.is.active()?h.hover?(T.verbose("Changing text to hover text",h.hover),T.update.text(h.hover)):h.deactivate&&(T.verbose("Changing text to deactivating text",h.deactivate),T.update.text(h.deactivate)):h.hover?(T.verbose("Changing text to hover text",h.hover),T.update.text(h.hover)):h.activate&&(T.verbose("Changing text to activating text",h.activate),T.update.text(h.activate)))}},activate:function(){n.activateTest.call(w)&&(T.debug("Setting state to active"),x.addClass(g.active),T.update.text(h.active),n.onActivate.call(w))},deactivate:function(){n.deactivateTest.call(w)&&(T.debug("Setting state to inactive"),x.removeClass(g.active),T.update.text(h.inactive),n.onDeactivate.call(w))},sync:function(){T.verbose("Syncing other buttons to current state"),o.not(x).state(T.is.active()?"activate":"deactivate")},get:{text:function(){return n.selector.text?x.find(n.selector.text).text():x.html()},textFor:function(e){return h[e]||!1}},flash:{text:function(e,t,i){var o=T.get.text();T.debug("Flashing text message",e,t),e=e||n.text.flash,t=t||n.flashDuration,i=i||function(){},T.update.text(e),setTimeout(function(){T.update.text(o),i.call(w)},t)}},reset:{text:function(){var e=h.active||x.data(f.storedText),t=h.inactive||x.data(f.storedText);T.is.textEnabled()&&(T.is.active()&&e?(T.verbose("Resetting active text",e),T.update.text(e)):t&&(T.verbose("Resetting inactive text",e),T.update.text(t)))}},update:{text:function(e){var t=T.get.text();e&&e!==t?(T.debug("Updating text",e),n.selector.text?x.data(f.storedText,e).find(n.selector.text).text(e):x.data(f.storedText,e).html(e)):T.debug("Text is already set, ignoring update",e)}},setting:function(t,o){if(T.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,n,t);else{if(o===i)return n[t];n[t]=o}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===i)return T[t];T[t]=n}},debug:function(){n.debug&&(n.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,n.name+":"),T.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),T.verbose.apply(console,arguments)))},error:function(){T.error=Function.prototype.bind.call(console.error,console,n.name+":"),T.error.apply(console,arguments)},performance:{log:function(e){var t,i,o;n.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":i})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,100)},display:function(){var t=n.name+":",o=0;s=!1,clearTimeout(T.performance.timer),e.each(c,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=C,s,c,l;return n=n||d,o=w||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,o){var l=n!=s?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[l])&&n!=s)a=a[l];else{if(a[l]!==i)return c=a[l],!1;if(!e.isPlainObject(a[o])||n==s)return a[o]!==i?(c=a[o],!1):(T.error(r.method,t),!1);a=a[o]}})),e.isFunction(c)?l=c.apply(o,n):c!==i&&(l=c),e.isArray(m)?m.push(l):m!==i?m=[m,l]:l!==i&&(m=l),c}},u?(C===i&&T.initialize(),T.invoke(l)):(C!==i&&C.invoke("destroy"),T.initialize())}),m!==i?m:this},e.fn.state.settings={name:"State",debug:!1,verbose:!0,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(n,window,document),function(e,t,n,i){"use strict";e.fn.visibility=function(o){var a=e(this),r=a.selector||"",s=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),m;return a.each(function(){var a=e.isPlainObject(o)?e.extend(!0,{},e.fn.visibility.settings,o):e.extend({},e.fn.visibility.settings),f=a.className,g=a.namespace,p=a.error,v="."+g,h="module-"+g,b=e(t),y=e(this),x=e(a.context),w=y.selector||"",C=y.data(h),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},k=this,S,A;A={initialize:function(){A.debug("Initializing",a),A.setup.cache(),A.save.position(),A.should.trackChanges()&&(A.bind.events(),"image"==a.type&&A.setup.image(),"fixed"==a.type&&A.setup.fixed(),a.observeChanges&&A.observeChanges(),A.is.visible()||A.error(p.visible,y)),a.initialCheck&&A.checkVisibility(),A.instantiate()},instantiate:function(){A.debug("Storing instance",A),y.data(h,A),C=A},destroy:function(){A.verbose("Destroying previous module"),S&&S.disconnect(),b.off("load"+v,A.event.load).off("resize"+v,A.event.resize),x.off("scrollchange"+v,A.event.scrollchange),y.off(v).removeData(h)},observeChanges:function(){var e=x[0];"MutationObserver"in t&&(S=new MutationObserver(function(e){A.verbose("DOM tree modified, updating visibility calculations"),A.timer=setTimeout(function(){A.verbose("DOM tree modified, updating sticky menu"),A.refresh()},100)}),S.observe(k,{childList:!0,subtree:!0}),A.debug("Setting up mutation observer",S))},bind:{events:function(){A.verbose("Binding visibility events to scroll and resize"),b.on("load"+v,A.event.load).on("resize"+v,A.event.resize),x.off("scroll"+v).on("scroll"+v,A.event.scroll).on("scrollchange"+v,A.event.scrollchange)},imageLoad:function(){var t=y.find("img"),i=t.length,o=i,a=0,r=[],s=[],c=n.createElement("img"),l=function(){a++,a>=i&&(A.debug("Images finished loading inside element, refreshing position"),A.refresh())};if(i>0)for(t.each(function(){r.push(e(this).attr("src"))});o--;)c=n.createElement("img"),c.onload=l,c.onerror=l,c.src=r[o],s.push(c)}},event:{resize:function(){A.debug("Window resized"),T(A.refresh)},load:function(){A.debug("Page finished loading"),T(A.refresh)},scroll:function(){a.throttle?(clearTimeout(A.timer),A.timer=setTimeout(function(){x.trigger("scrollchange"+v,[x.scrollTop()])},a.throttle)):T(function(){x.trigger("scrollchange"+v,[x.scrollTop()])})},scrollchange:function(e,t){A.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,r=[],s=n.createElement("img"),c=function(){a++,a>=t.length&&e.isFunction(i)&&i()};o--;)s=n.createElement("img"),s.onload=c,s.onerror=c,s.src=t[o],r.push(s)},should:{trackChanges:function(){return u?(A.debug("One time query, no need to bind events"),!1):(A.debug("Callbacks being attached"),!0)}},setup:{cache:function(){A.cache={occurred:{},screen:{},element:{}}},image:function(){var e=y.data("src");e&&(A.verbose("Lazy loading image",e),a.observeChanges=!1,A.topVisible(function(){A.debug("Image top visible",k),A.precache(e,function(){A.set.image(e),a.onTopVisible=!1})}))},fixed:function(){A.verbose("Setting up fixed on element pass"),a.once=!1,a.onTopPassed=function(){y.addClass(f.fixed).css({top:a.offset+"px"}),a.transition&&e.fn.transition!==i&&y.transition(a.transition,a.duration)},a.onTopPassedReverse=function(){y.removeClass(f.fixed).css({position:"",top:""})}}},set:{image:function(t){var n=A.cache.screen.bottom<A.cache.element.top;y.attr("src",t),n?(A.verbose("Image outside browser, no show animation"),y.show()):a.transition?e.fn.transition!==i?y.transition(a.transition,a.duration):y.fadeIn(a.duration):y.show()}},is:{visible:function(){return A.cache&&A.cache.element?A.cache.element.width>0:!1}},refresh:function(){A.debug("Refreshing constants (width/height)"),A.reset(),A.save.position(),A.checkVisibility(),a.onRefresh.call(k)},reset:function(){A.verbose("Reseting all cached values"),e.isPlainObject(A.cache)&&(A.cache.screen={},A.cache.element={})},checkVisibility:function(e){A.verbose("Checking visibility of element",A.cache.element),A.is.visible()&&(A.save.scroll(e),A.save.calculations(),A.passed(),A.passingReverse(),A.topVisibleReverse(),A.bottomVisibleReverse(),A.topPassedReverse(),A.bottomPassedReverse(),A.passing(),A.topVisible(),A.bottomVisible(),A.topPassed(),A.bottomPassed(),a.onUpdate&&a.onUpdate.call(k,A.get.elementCalculations()))},passed:function(t,n){var o=A.get.elementCalculations(),r;if(t!==i&&n!==i)a.onPassed[t]=n;else{if(t!==i)return A.get.pixelsPassed(t)>o.pixelsPassed;o.passing&&e.each(a.onPassed,function(e,t){o.bottomVisible||o.pixelsPassed>A.get.pixelsPassed(e)?A.execute(t,e):a.once||A.remove.occurred(t)})}},passing:function(e){var t=A.get.elementCalculations(),n=e||a.onPassing,o="passing";return e&&(A.debug("Adding callback for passing",e),a.onPassing=e),t.passing?A.execute(n,o):a.once||A.remove.occurred(o),e!==i?t.passing:void 0},topVisible:function(e){var t=A.get.elementCalculations(),n=e||a.onTopVisible,o="topVisible";return e&&(A.debug("Adding callback for top visible",e),a.onTopVisible=e),t.topVisible?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomVisible,o="bottomVisible";return e&&(A.debug("Adding callback for bottom visible",e),a.onBottomVisible=e),t.bottomVisible?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=A.get.elementCalculations(),n=e||a.onTopPassed,o="topPassed";return e&&(A.debug("Adding callback for top passed",e),a.onTopPassed=e),t.topPassed?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomPassed,o="bottomPassed";return e&&(A.debug("Adding callback for bottom passed",e),a.onBottomPassed=e),t.bottomPassed?A.execute(n,o):a.once||A.remove.occurred(o),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onPassingReverse,o="passingReverse";return e&&(A.debug("Adding callback for passing reverse",e),a.onPassingReverse=e),t.passing?a.once||A.remove.occurred(o):A.get.occurred("passing")&&A.execute(n,o),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onTopVisibleReverse,o="topVisibleReverse";return e&&(A.debug("Adding callback for top visible reverse",e),a.onTopVisibleReverse=e),t.topVisible?a.once||A.remove.occurred(o):A.get.occurred("topVisible")&&A.execute(n,o),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomVisibleReverse,o="bottomVisibleReverse";return e&&(A.debug("Adding callback for bottom visible reverse",e),a.onBottomVisibleReverse=e),t.bottomVisible?a.once||A.remove.occurred(o):A.get.occurred("bottomVisible")&&A.execute(n,o),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onTopPassedReverse,o="topPassedReverse";return e&&(A.debug("Adding callback for top passed reverse",e),a.onTopPassedReverse=e),t.topPassed?a.once||A.remove.occurred(o):A.get.occurred("topPassed")&&A.execute(n,o),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=A.get.elementCalculations(),n=e||a.onBottomPassedReverse,o="bottomPassedReverse";return e&&(A.debug("Adding callback for bottom passed reverse",e),a.onBottomPassedReverse=e),t.bottomPassed?a.once||A.remove.occurred(o):A.get.occurred("bottomPassed")&&A.execute(n,o),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=A.get.elementCalculations(),i=A.get.screenCalculations();e=e||!1,e&&(a.continuous?(A.debug("Callback being called continuously",t,n),e.call(k,n,i)):A.get.occurred(t)||(A.debug("Conditions met",t,n),e.call(k,n,i))),A.save.occurred(t)},remove:{occurred:function(e){e?A.cache.occurred[e]!==i&&A.cache.occurred[e]===!0&&(A.debug("Callback can now be called again",e),A.cache.occurred[e]=!1):A.cache.occurred={}}},save:{calculations:function(){A.verbose("Saving all calculations necessary to determine positioning"),A.save.direction(),A.save.screenCalculations(),A.save.elementCalculations()},occurred:function(e){e&&(A.cache.occurred[e]===i||A.cache.occurred[e]!==!0)&&(A.verbose("Saving callback occurred",e),A.cache.occurred[e]=!0)},scroll:function(e){e=e+a.offset||x.scrollTop()+a.offset,A.cache.scroll=e},direction:function(){var e=A.get.scroll(),t=A.get.lastScroll(),n;return n=e>t&&t?"down":t>e&&t?"up":"static",A.cache.direction=n,A.cache.direction},elementPosition:function(){var e=A.cache.element,t=A.get.screenSize();return A.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=y.offset(),e.width=y.outerWidth(),e.height=y.outerHeight(),A.cache.element=e,e},elementCalculations:function(){var e=A.get.screenCalculations(),t=A.get.elementPosition();return a.includeMargin?(t.margin={},t.margin.top=parseInt(y.css("margin-top"),10),t.margin.bottom=parseInt(y.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.visible=t.topVisible||t.bottomVisible,t.passing=t.topPassed&&!t.bottomPassed,t.hidden=!t.topVisible&&!t.bottomVisible,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),A.cache.element=t,A.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=A.get.scroll();return A.save.direction(),A.cache.screen.top=e,A.cache.screen.bottom=e+A.cache.screen.height,A.cache.screen},screenSize:function(){A.verbose("Saving window position"),A.cache.screen={height:x.height()}},position:function(){A.save.screenSize(),A.save.elementPosition()}},get:{pixelsPassed:function(e){var t=A.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return A.cache.occurred!==i?A.cache.occurred[e]||!1:!1},direction:function(){return A.cache.direction===i&&A.save.direction(),A.cache.direction},elementPosition:function(){return A.cache.element===i&&A.save.elementPosition(),A.cache.element},elementCalculations:function(){return A.cache.element===i&&A.save.elementCalculations(),A.cache.element},screenCalculations:function(){return A.cache.screen===i&&A.save.screenCalculations(),A.cache.screen},screenSize:function(){return A.cache.screen===i&&A.save.screenSize(),A.cache.screen},scroll:function(){return A.cache.scroll===i&&A.save.scroll(),A.cache.scroll},lastScroll:function(){return A.cache.screen===i?(A.debug("First scroll event, no last scroll could be found"),!1):A.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,a,t);else{if(n===i)return a[t];a[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,A,t);else{if(n===i)return A[t];A[t]=n}},debug:function(){a.debug&&(a.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,a.name+":"),A.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),A.verbose.apply(console,arguments)))},error:function(){A.error=Function.prototype.bind.call(console.error,console,a.name+":"),A.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;a.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var t=a.name+":",n=0;s=!1,clearTimeout(A.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,o){var a=C,r,s,c;return n=n||d,o=k||o,"string"==typeof t&&a!==i&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(n,o){var c=n!=r?o+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(a[c])&&n!=r)a=a[c];else{if(a[c]!==i)return s=a[c],!1;if(!e.isPlainObject(a[o])||n==r)return a[o]!==i?(s=a[o],!1):(A.error(p.method,t),!1);a=a[o]}})),e.isFunction(s)?c=s.apply(o,n):s!==i&&(c=s),e.isArray(m)?m.push(c):m!==i?m=[m,c]:c!==i&&(m=c),s}},u?(C===i&&A.initialize(),A.invoke(l)):(C!==i&&C.invoke("destroy"),A.initialize())}),m!==i?m:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,initialCheck:!0,throttle:!1,type:!1,transition:!1,duration:1e3,onPassed:{},onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},className:{fixed:"fixed"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(n,window,document)}).call(this),"undefined"==typeof Package&&(Package={}),Package["semantic:ui-css"]={}}();

!function(){var e=Package.meteor.Meteor,t;(function(){function n(e){var t=e.getMeteorState&&e.getMeteorState();if(t)return e._meteorFirstRun?(e._meteorFirstRun=!1,e._meteorCalledSetState=!0,void e.setState(t)):void Tracker.afterFlush(function(){e._meteorCalledSetState=!0,e.setState(t)})}function a(e,t){for(var n=t.parentNode,a=[],r=[],o=a,i=n.firstChild;i;){i===t?o=r:o.push(i);var c=i.nextSibling;n.removeChild(i),i=c}var s=React.render(e,n),m=n.firstChild;return a.length>0&&a.forEach(function(e){n.insertBefore(e,m)}),r.length>0&&r.forEach(function(e){n.appendChild(e)}),s}var r={componentWillMount:function(){var t=this;t._meteorStateDep=new Tracker.Dependency,t._meteorFirstRun=!0,e.isClient?Tracker.autorun(function(e){t._meteorComputation=e,t._meteorStateDep.depend(),t.startMeteorSubscriptions&&t.startMeteorSubscriptions(),n(t)}):n(t)},componentWillUpdate:function(e,t){return this._meteorCalledSetState?void(this._meteorCalledSetState=!1):void(this._meteorStateDep&&this._meteorStateDep.changed())},componentWillUnmount:function(){this._meteorComputation&&(this._meteorComputation.stop(),this._meteorComputation=null)}};t={Mixin:r,createClass:function o(t){t.mixins=t.mixins||[],t.mixins.push(r);var n=React.createClass(t);if(e.isClient&&"function"==typeof Template&&"string"==typeof t.templateName){var o=new Template(t.templateName,function(){return new HTML.SPAN});o.onRendered(function(){a(React.createElement(n,this.data||{}),this.find("span"))}),Template[t.templateName]=o}return n}}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactjs:react"]={ReactMeteor:t}}();

!function(){var e=Package.meteor.Meteor,a,t;"undefined"==typeof Package&&(Package={}),Package["metric-stuff"]={ComputeFunctionAnalyser:a,ComputeFunctionHelpers:t}}();

!function(){var e=Package.meteor.Meteor,n=Package.mongo.Mongo,t=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.underscore._,i=Package.ejson.EJSON,c=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s;(function(){var t={},o=Package.tracker&&Package.tracker.Tracker||Package.deps.Deps,c=e.isServer&&new e.EnvironmentVariable,a=new e.EnvironmentVariable,l=function(e){return a.withValue(!0,e)};if(s={defaults:{before:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}},after:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}},all:{insert:{},update:{},remove:{},find:{},findOne:{},all:{}}}},s.getUserId=function(){var n;if(e.isClient&&o.nonreactive(function(){n=e.userId&&e.userId()}),e.isServer){try{n=e.userId&&e.userId()}catch(t){}n||(n=c.get())}return n},s.extendCollectionInstance=function(n,o){var c=e.isClient?n:n._collection;r.each(["before","after"],function(o){r.each(t,function(t,r){e._ensure(n,o,r),e._ensure(n,"_hookAspects",r),n._hookAspects[r][o]=[],n[o][r]=function(e,t){var i=n._hookAspects[r][o].push({aspect:e,options:s.initOptions(t,o,r)});return{replace:function(e,t){n._hookAspects[r][o].splice(i-1,1,{aspect:e,options:s.initOptions(t,o,r)})},remove:function(){n._hookAspects[r][o].splice(i-1,1)}}}})}),n.hookOptions=i.clone(s.defaults),r.each(t,function(t,i){var u=c[i];e._ensure(n,"direct",i),n.direct[i]=function(){var e=arguments;return l(function(){return o.prototype[i].apply(n,e)})},c[i]=function(){return a.get()===!0?u.apply(c,arguments):t.call(this,s.getUserId(),u,n,n._hookAspects[i]||{},function(e){return r.isFunction(n._transform)?function(t){return n._transform(t||e)}:function(n){return n||e}},r.toArray(arguments),!1)}})},s.defineAdvice=function(e,n){t[e]=n},s.initOptions=function(e,n,t){return s.extendOptions(s.defaults,e,n,t)},s.extendOptions=function(e,n,t,o){return n=r.extend(n||{},e.all.all),n=r.extend(n,e[t].all),n=r.extend(n,e.all[o]),n=r.extend(n,e[t][o])},s.getDocs=function(e,n,t){var o=this,r={transform:null,reactive:!1};return t&&(t.multi||(r.limit=1)),e.find(n,r)},s.reassignPrototype=function(t,o){var r="function"==typeof Object.setPrototypeOf;o||(o="undefined"!=typeof n?n.Collection:e.Collection),r?Object.setPrototypeOf(t,o.prototype):t.__proto__&&(t.__proto__=o.prototype)},s.wrapCollection=function(e,n){n._CollectionConstructor||(n._CollectionConstructor=n.Collection),n._CollectionPrototype||(n._CollectionPrototype=new n.Collection(null));var t=n._CollectionConstructor,o=n._CollectionPrototype;e.Collection=function(){var e=t.apply(this,arguments);return s.extendCollectionInstance(this,t),e},e.Collection.prototype=o;for(var r in t)t.hasOwnProperty(r)&&(e.Collection[r]=t[r])},"undefined"!=typeof n?(s.wrapCollection(e,n),s.wrapCollection(n,n)):s.wrapCollection(e,e),e.isServer){var u=e.publish;e.publish=function(e,n){return u.call(this,e,function(){var e=this,t=arguments;return c.withValue(e&&e.userId,function(){return n.apply(e,t)})})},s.isWithinPublish=function(){return void 0!==c.get()}}}).call(this),function(){s.defineAdvice("insert",function(e,n,t,o,c,a,s){function l(n,t){var l=a[0];if(n&&(l=i.clone(a[0]),l._id=n),!s){var u=r.extend({transform:c(l),_id:n,err:t},f);r.each(o.after,function(n){n.aspect.call(u,e,l)})}return n}var u=this,f={context:u,_super:n,args:a},p=r.last(a),d=r.isFunction(p),h,v;return!s&&(r.each(o.before,function(n){var t=n.aspect.call(r.extend({transform:c(a[0])},f),e,a[0]);t===!1&&(h=!0)}),h)?!1:d?(a[a.length-1]=function(e,n){return l(n&&n[0]&&n[0]._id||n,e),p.apply(this,arguments)},n.apply(u,a)):(v=n.apply(u,a),l(v&&v[0]&&v[0]._id||v))})}.call(this),function(){s.defineAdvice("update",function(n,t,o,c,a,l,u){function f(t,o){if(!u){var i=e(l[1]),f=s.getDocs.call(p,C,{_id:{$in:_}},l[2]).fetch();r.each(c.after,function(e){r.each(f,function(c){e.aspect.call(r.extend({transform:a(c),previous:k.docs&&k.docs[c._id],affected:t,err:o},d),n,c,i,k.mutator,k.options)})})}}var p=this,d={context:p,_super:t,args:l},h=r.last(l),v=r.isFunction(h),g,_,m,y,k={},C=r.has(p,"_collection")?p._collection:p;if(r.isFunction(l[2])&&(h=l[2],l[2]={}),!u&&((c.before||c.after)&&(m=e(l[1]),g=s.getDocs.call(p,C,l[0],l[2]).fetch(),_=r.map(g,function(e){return e._id})),c.after&&r.some(c.after,function(e){return e.options.fetchPrevious!==!1})&&s.extendOptions(o.hookOptions,{},"after","update").fetchPrevious!==!1&&(k.mutator=i.clone(l[1]),k.options=i.clone(l[2]),k.docs={},r.each(g,function(e){k.docs[e._id]=i.clone(e)})),r.each(c.before,function(e){r.each(g,function(t){var o=e.aspect.call(r.extend({transform:a(t)},d),n,t,m,l[1],l[2]);o===!1&&(y=!0)})}),y))return!1;if(v)return l[l.length-1]=function(e,n){return f(n,e),h.apply(this,arguments)},t.apply(this,l);var x=t.apply(p,l);return f(x),x});var e=function(e){var n=[];return r.each(e,function(e,t){r.each(r.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(n,e)||n.push(e)})}),n},e=function(e){var n=[];return r.each(e,function(e,t){r.contains(["$set","$unset","$inc","$push","$pull","$pop","$rename","$pullAll","$addToSet","$bit"],t)?r.each(r.keys(e),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),r.contains(n,e)||n.push(e)}):n.push(t)}),n}}.call(this),function(){s.defineAdvice("remove",function(e,n,t,o,c,a,l){function u(n){l||r.each(o.after,function(t){r.each(_,function(o){t.aspect.call(r.extend({transform:c(o),err:n},p),e,o)})})}var f=this,p={context:f,_super:n,args:a},d=r.last(a),h=r.isFunction(d),v,g,_=[],m=r.has(f,"_collection")?f._collection:f;if(!l&&((o.before||o.after)&&(v=s.getDocs.call(f,m,a[0]).fetch()),o.after&&r.each(v,function(e){_.push(i.clone(e))}),r.each(o.before,function(n){r.each(v,function(t){var o=n.aspect.call(r.extend({transform:c(t)},p),e,t);o===!1&&(g=!0)})}),g))return!1;if(h)return a[a.length-1]=function(e){return u(e),d.apply(this,arguments)},n.apply(f,a);var y=n.apply(f,a);return u(),y})}.call(this),function(){s.defineAdvice("find",function(e,n,t,o,i,c,a){function s(n){a||r.each(o.after,function(t){t.aspect.call(u,e,c[0],c[1],n)})}var l=this,u={context:l,_super:n,args:c},f,p;return!a&&(r.each(o.before,function(n){var t=n.aspect.call(u,e,c[0],c[1]);t===!1&&(p=!0)}),p)?!1:(f=n.apply(l,c),s(f),f)})}.call(this),function(){s.defineAdvice("findOne",function(e,n,t,o,i,c,a){function s(n){a||r.each(o.after,function(t){t.aspect.call(u,e,c[0],c[1],n)})}var l=this,u={context:l,_super:n,args:c},f,p;return!a&&(r.each(o.before,function(n){var t=n.aspect.call(u,e,c[0],c[1]);t===!1&&(p=!0)}),p)?!1:(f=n.apply(l,c),s(f),f)})}.call(this),function(){if(e.users){s.reassignPrototype(e.users);var t="undefined"!=typeof n&&"undefined"!=typeof n.Collection?n.Collection:e.Collection;s.extendCollectionInstance(e.users,t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package["matb33:collection-hooks"]={CollectionHooks:s}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,n;(function(){n={_isCssLoaded:function(){return 0===document.styleSheets.length?!0:t.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!t.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}}).call(this),"undefined"==typeof Package&&(Package={}),Package.webapp={WebApp:n}}();

!function(){var e=Package.meteor.Meteor,a=Package.tracker.Tracker,c=Package.tracker.Deps,a,c;"undefined"==typeof Package&&(Package={}),Package.deps={Tracker:a,Deps:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.underscore._,a=Package.tracker.Tracker,i=Package.tracker.Deps,n=Package.ejson.EJSON,r;(function(){var e=function(e){return void 0===e?"undefined":n.stringify(e)},i=function(e){return void 0===e||"undefined"===e?void 0:n.parse(e)};r=function(e){if(e)if("string"==typeof e)r._registerDictForMigrate(e,this),this.keys=r._loadMigratedDict(e)||{};else{if("object"!=typeof e)throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.keyDeps={},this.keyValueDeps={}},t.extend(r.prototype,{set:function(a,i){var n=this;if("object"==typeof a&&void 0===i)return void n._setObject(a);var r=a;i=e(i);var s="undefined";if(t.has(n.keys,r)&&(s=n.keys[r]),i!==s){n.keys[r]=i;var c=function(e){e&&e.changed()};c(n.keyDeps[r]),n.keyValueDeps[r]&&(c(n.keyValueDeps[r][s]),c(n.keyValueDeps[r][i]))}},setDefault:function(e,t){var a=this;void 0===a.keys[e]&&a.set(e,t)},get:function(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),i(t.keys[e])},equals:function(r,s){var c=this,o=null;if("undefined"!=typeof Mongo&&(o=Mongo.ObjectID),!("string"==typeof s||"number"==typeof s||"boolean"==typeof s||"undefined"==typeof s||s instanceof Date||o&&s instanceof o||null===s))throw new Error("ReactiveDict.equals: value must be scalar");var u=e(s);if(a.active){c._ensureKey(r),t.has(c.keyValueDeps[r],u)||(c.keyValueDeps[r][u]=new a.Dependency);var d=c.keyValueDeps[r][u].depend();d&&a.onInvalidate(function(){c.keyValueDeps[r][u].hasDependents()||delete c.keyValueDeps[r][u]})}var f=void 0;return t.has(c.keys,r)&&(f=i(c.keys[r])),n.equals(f,s)},_setObject:function(e){var a=this;t.each(e,function(e,t){a.set(t,e)})},_ensureKey:function(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new a.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function(){return this.keys}})}).call(this),function(){if(r._migratedDictData={},r._dictsToMigrate={},r._loadMigratedDict=function(e){return t.has(r._migratedDictData,e)?r._migratedDictData[e]:null},r._registerDictForMigrate=function(e,a){if(t.has(r._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);r._dictsToMigrate[e]=a},e.isClient&&Package.reload){var a=Package.reload.Reload._migrationData("reactive-dict");a&&a.dicts&&(r._migratedDictData=a.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=r._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}.call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-dict"]={ReactiveDict:r}}();

!function(){var e=Package.meteor.Meteor,a=Package.underscore._,c=Package["reactive-dict"].ReactiveDict,n=Package.ejson.EJSON,i;(function(){i=new c("session")}).call(this),"undefined"==typeof Package&&(Package={}),Package.session={Session:i}}();

!function(){var a=Package.meteor.Meteor,e=Package.ddp.DDP,e,t;"undefined"==typeof Package&&(Package={}),Package.livedata={DDP:e,LivedataTest:t}}();

!function(){var t=Package.meteor.Meteor,e=Package.tracker.Tracker,r=Package.tracker.Deps,i,n,a;(function(){i={},n=function(t){return t},a=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};i.Visitor=function(t){e(this,t)},i.Visitor.def=function(t){e(this.prototype,t)},i.Visitor.extend=function(t){var r=this,n=function a(){i.Visitor.apply(this,arguments)};return n.prototype=new r,n.extend=r.extend,n.def=r.def,t&&e(n.prototype,t),n},i.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case i.Tag.htmljsType:return this.visitTag.apply(this,arguments);case i.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case i.Comment.htmljsType:return this.visitComment.apply(this,arguments);case i.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return i.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),i.TransformingVisitor=i.Visitor.extend(),i.TransformingVisitor.def({visitNull:n,visitPrimitive:n,visitArray:function(t){for(var e=a.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:n,visitCharRef:n,visitRaw:n,visitObject:n,visitFunction:n,visitTag:function(t){var e=t.children,r=a.call(arguments);r[0]=e;var n=this.visitChildren.apply(this,r),o=t.attrs;r[0]=o;var s=this.visitAttributes.apply(this,r);if(s===o&&n===e)return t;var u=i.getTag(t.tagName).apply(null,n);return u.attrs=s,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(i.isArray(t)){for(var r=a.call(arguments),n=t,o=0;o<t.length;o++){var s=t[o];r[0]=s;var u=this.visitAttributes.apply(this,r);u!==s&&(n===t&&(n=t.slice()),n[o]=u)}return n}if(t&&i.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var p=l[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===l&&(f=e({},l)),f[h]=m)}}return f},visitAttribute:function(t,e,r){var i=a.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),i.ToTextVisitor=i.Visitor.extend(),i.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===i.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===i.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===i.TEXTMODE.RCDATA||this.textMode===i.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return i.toHTML(t)}}),i.ToHTMLVisitor=i.Visitor.extend(),i.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,n=t.children,a=t.attrs;if(a){a=i.flattenAttributes(a);for(var o in a)if("value"===o&&"textarea"===r)n=[a[o],n];else{var s=this.toText(a[o],i.TEXTMODE.ATTRIBUTE);e.push(" "+o+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<n.length;c++)l.push(this.toText(n[c],i.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<n.length;c++)l.push(this.visit(n[c]));f=l.join("")}var h=u+f;return(n.length||!i.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return i.toText(t,e)}})}.call(this),function(){i.Tag=function(){},i.Tag.prototype.tagName="",i.Tag.prototype.attrs=null,i.Tag.prototype.children=Object.freeze?Object.freeze([]):[],i.Tag.prototype.htmljsType=i.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof i.Tag?this:new e,r=0,n=arguments.length&&arguments[0];if(n&&"object"==typeof n)if(i.isConstructedObject(n)){if(n instanceof i.Attrs){var o=n.value;1===o.length?t.attrs=o[0]:o.length>1&&(t.attrs=o),r++}}else t.attrs=n,r++;return r<arguments.length&&(t.children=a.call(arguments,r)),t};return e.prototype=new i.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=i.Attrs=function(){var t=this instanceof e?this:new e;return t.value=a.call(arguments),t};i.getTag=function(e){var r=i.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return i[r]||(i[r]=t(e)),i[r]},i.ensureTag=function(t){i.getTag(t)},i.isTagEnsured=function(t){return i.isKnownElement(t)},i.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},i.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),i.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect script set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),i.knownElementNames=i.knownElementNames.concat(i.knownSVGElementNames),i.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},n=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},o=n(i.voidElementNames),s=n(i.knownElementNames),u=n(i.knownSVGElementNames);i.isKnownElement=function(t){return s[t]===r},i.isKnownSVGElement=function(t){return u[t]===r},i.isVoidElement=function(t){return o[t]===r};for(var l=0;l<i.knownElementNames.length;l++)i.ensureTag(i.knownElementNames[l]);var f=i.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=i.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=i.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],i.isArray=function(t){return t instanceof Array},i.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&!Object.prototype.hasOwnProperty.call(t,"constructor")},i.isNully=function(t){if(null==t)return!0;if(i.isArray(t)){for(var e=0;e<t.length;e++)if(!i.isNully(t[e]))return!1;return!0}return!1},i.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},i.flattenAttributes=function(t){if(!t)return t;var e=i.isArray(t);if(e&&0===t.length)return null;for(var r={},n=0,a=e?t.length:1;a>n;n++){var o=e?t[n]:t;if("object"!=typeof o||i.isConstructedObject(o))throw new Error("Expected plain JS object as attrs, found: "+o);for(var s in o){if(!i.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=o[s];i.isNully(u)||(r[s]=u)}}return r},i.toHTML=function(t){return(new i.ToHTMLVisitor).visit(t)},i.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},i.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==i.TEXTMODE.STRING&&e!==i.TEXTMODE.RCDATA&&e!==i.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new i.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),Package.htmljs={HTML:i}}();

!function(){var e=Package.meteor.Meteor,n=Package.tracker.Tracker,o=Package.tracker.Deps,r=Package.minimongo.LocalCollection,i=Package.minimongo.Minimongo,t=Package.underscore._,a=Package.random.Random,c,f,u,d;(function(){var e=function(){c._suppressWarnings?c._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),c._loggedWarnings++)},o=r._idStringify,i=r._idParse;c={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,o){var r=null,i=null,a=[],c=n.autorun(function(){var c=e();n.nonreactive(function(){var e;if(i&&(a=t.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),c)if(c instanceof Array)e=u(a,c,o);else{if(!l(c))throw s();var n=d(a,c,o);e=n[0],i=n[1]}else e=f(a,o);v(a,e,o),r=c,a=e})});return{stop:function(){c.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(l(e))return e.fetch();throw s()}return[]}};var s=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},l=function(e){return e&&t.isObject(e)&&t.isFunction(e.observe)&&t.isFunction(e.fetch)},v=function(e,n,r){var a=Package.minimongo.LocalCollection._diffQueryOrderedChanges,c=[],f=[],u={},d={},s={},l=e.length;t.each(n,function(e,n){f.push({_id:e._id}),d[o(e._id)]=n}),t.each(e,function(e,n){c.push({_id:e._id}),u[o(e._id)]=n,s[o(e._id)]=n}),a(c,f,{addedBefore:function(e,i,a){var c=a?s[o(a)]:l;a&&t.each(s,function(e,n){e>=c&&s[n]++}),l++,s[o(e)]=c,r.addedAt(e,n[d[o(e)]].item,c,a)},movedBefore:function(e,i){if(e!==i){var a=s[o(e)],c=i?s[o(i)]:l;c>a&&c--,t.each(s,function(e,n){e>a&&c>e?s[n]--:e>=c&&a>e&&s[n]++}),s[o(e)]=c,r.movedTo(e,n[d[o(e)]].item,a,c,i)}},removed:function(n){var i=s[o(n)];t.each(s,function(e,n){e>=i&&s[n]--}),delete s[o(n)],l--,r.removedAt(n,e[u[o(n)]].item,i)}}),t.each(d,function(o,a){var c=i(a);if(t.has(u,a)){var f=n[o].item,d=e[u[a]].item;("object"==typeof f||f!==d)&&r.changedAt(c,f,d,o)}})};f=function(e,n){return[]},u=function(n,r,i){var c={},f=t.map(r,function(n,i){var t;if("string"==typeof n)t="-"+n;else if("number"==typeof n||"boolean"==typeof n||void 0===n)t=n;else{if("object"!=typeof n)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof n);t=n&&n._id||i}var f=o(t);return c[f]?("object"==typeof n&&"_id"in n&&e("duplicate id "+t+" in",r),t=a.id()):c[f]=!0,{_id:t,item:n}});return f},d=function(e,n,o){var r=!0,i=[],t=n.observe({addedAt:function(e,n,t){if(r){if(null!==t)throw new Error("Expected initial data from observe in order");i.push({_id:e._id,item:e})}else o.addedAt(e._id,e,n,t)},changedAt:function(e,n,r){o.changedAt(e._id,e,n,r)},removedAt:function(e,n){o.removedAt(e._id,e,n)},movedTo:function(e,n,r,i){o.movedTo(e._id,e,n,r,i)}});return r=!1,[i,t]}}).call(this),"undefined"==typeof Package&&(Package={}),Package["observe-sequence"]={ObserveSequence:c}}();

!function(){var e=Package.meteor.Meteor,t=Package.tracker.Tracker,n=Package.tracker.Deps,r;(function(){r=function(e,n){return this instanceof r?(this.curValue=e,this.equalsFunc=n,void(this.dep=new t.Dependency)):new r(e,n)},r._isEqual=function(e,t){var n=e,r=t;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},r.prototype.get=function(){return t.active&&this.dep.depend(),this.curValue},r.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||r._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},r.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},r.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),Package["reactive-var"]={ReactiveVar:r}}();

!function(){var e=Package.meteor.Meteor,t=Package.jquery.$,n=Package.jquery.jQuery,r=Package.tracker.Tracker,a=Package.tracker.Deps,i=Package.underscore._,o=Package.htmljs.HTML,s=Package["observe-sequence"].ObserveSequence,u=Package["reactive-var"].ReactiveVar,c,l,d,p,f,h;(function(){c={},c._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),c._warn=function(e){e="Warning: "+e,"undefined"!=typeof Log&&Log&&Log.warn?Log.warn(e):"undefined"!=typeof console&&console.log&&console.log(e)}}).call(this),function(){var e={};c._DOMBackend=e;var t="undefined"!=typeof n?n:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var r=function(){},a=function(e){this.next=this,this.prev=this,this.func=e};a.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},a.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},a.prototype.go=function(){var e=this.func;e&&e()},a.prototype.stop=a.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(n,i){var o=new a(i),s=e.Teardown._CB_PROP;return n[s]||(n[s]=new a,t(n).on(e.Teardown._JQUERY_EVENT_NAME,r)),o.linkBefore(n[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];c._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=c._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var u=this.attachedCallbacks[o];u.attached&&u.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&c._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(c._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!c._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=c._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},c._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=c._EventSupport={},t=c._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,o=function(e,o,s,u,c){this.elem=e,this.type=o,this.selector=s,this.handler=u,this.recipient=c,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var l=e.addEventListener&&!i.has(n,t.Events.parseEventType(o));l?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=o,o.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},o.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,i){try{e=e}finally{}var s=[];t.replace(/[^ /]+/g,function(e){s.push(e)});for(var u=[],c=0,l=s.length;l>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new o(e,d,n,r,a);if(u.push(m),m.bind(),h.push(m),i)for(var w=i(a);w;w=i(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<u.length;n++){var r=u[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}u.length=0}}}}}.call(this),function(){var n=!1;c._allowJavascriptUrls=function(){n=!0},c._javascriptUrlsAllowed=function(){return n},p=function(e,t){this.name=e,this.value=t},c._AttributeHandler=p,p.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},p.extend=function(e){var t=this,n=function r(){p.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&i.extend(n.prototype,e),n};var r=p.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},o=this.getCurrentValue(e),s=o?this.parseValue(o):{};i.each(i.keys(r),function(e){e in a||delete s[e]}),i.each(i.keys(a),function(e){s[e]=a[e]}),this.setValue(e,i.values(s).join(" "))}}),a=r.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return i.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),o=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),s=r.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var n={},r=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=r.exec(e);a;)n[" "+a[1]]=a[0].trim?a[0].trim():t.trim(a[0]),a=r.exec(e);return n}}),u=p.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=p.extend({update:function(e,t,n){n!==e.value&&(e.value=n)}}),d=p.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),m=function(e){return"ownerSVGElement"in e},w=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return i.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=p.prototype.update,y=p.extend({update:function(e,t,n){var r=this,a=arguments;if(c._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n);i?(c._warn("URLs that use the 'javascript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});f=function(e,t,n){return"class"===t?m(e)?new o(t,n):new a(t,n):"style"===t?new s(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new u(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new d(t.substring(6),n):w(e.tagName,t)?new y(t,n):new p(t,n):new l(t,n)},h=function(e){this.elem=e,this.handlers={}},h.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!i.has(e,r)){var a=n[r],o=a.value;a.value=null,a.update(t,o,null),delete n[r]}for(var r in e){var a=null,o,s=e[r];i.has(n,r)?(a=n[r],o=a.value):null!==s&&(a=f(t,r,s),n[r]=a,o=null),o!==s&&(a.value=s,a.update(t,o,s),null===s&&delete n[r])}}}.call(this),function(){c._materializeDOM=function(t,n,r){var a=[];for(e(t,n,r,a);a.length;){var i=a.pop();"function"==typeof i?i():e(i[0],i[1],i[2],a)}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case o.Tag.htmljsType:return void n.push(t(e,r,a));case o.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case o.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case o.Raw.htmljsType:for(var i=c._DOMBackend.parseHTML(e.value),s=0;s<i.length;s++)n.push(i[s]);return}else{if(o.isArray(e)){for(var s=e.length-1;s>=0;s--)a.push([e[s],n,r]);return}if(e instanceof c.Template&&(e=e.constructView()),e instanceof c.View)return void c._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,a){var s=e.tagName,u;u=(o.isKnownSVGElement(s)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s);var l=e.attrs,d=e.children;if("textarea"===s&&e.children.length&&!(l&&"value"in l)){if("function"==typeof l||o.isArray(l))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");l=i.extend({},l||null),l.value=c._expand(d,t),d=[]}if(l){var p=new h(u),f=function(){var e=c._expandAttributes(l,t),n=o.flattenAttributes(e),r={};for(var a in n)r[a]=c._toText(n[a],t,o.TEXTMODE.STRING);p.update(r)},m;m=t?t.autorun(f,void 0,"updater"):r.nonreactive(function(){return r.autorun(function(){r._withCurrentView(t,f)})}),c._DOMBackend.Teardown.onElementTeardown(u,function v(){m.stop()})}if(d.length){var w=[];a.push(function(){for(var e=0;e<w.length;e++){var t=w[e];t instanceof c._DOMRange?t.attach(u):u.appendChild(t)}}),a.push([d,w,t])}return u},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;c._throwNextException=!1,c._reportException=function(n,r){if(c._throwNextException)throw c._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message)},c._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){c._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){c.View=function(e,t){return this instanceof c.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,void(this.renderCount=0)):new c.View(e,t)},c.View.prototype._render=function(){return null},c.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},c.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},c.View.prototype.onViewReady=function(e){var t=this,n=function(){r.afterFlush(function(){t.isDestroyed||c._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function a(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},c.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},c.View.prototype.autorun=function(e,t,n){var a=this;if(!a.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(r.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i={};return i.templateInstanceFunc=c.Template._currentTemplateInstanceFunc,i.f=function o(n){return c._withCurrentView(t||a,function(){return c.Template._withTemplateInstanceFunc(i.templateInstanceFunc,function(){return e.call(a,n)})})},i.f.displayName=(a.name||"anonymous")+":"+(n||"anonymous"),i.c=r.autorun(i.f),a.onViewDestroyed(function(){i.c.stop()}),i.c},c.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},c.View.prototype.subscribe=function(t,n){var r=this;n={}||n,r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},c.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},c.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},c._fireCallbacks=function(e,t){c._withCurrentView(e,function(){r.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r].call(e)})})},c._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),c._fireCallbacks(e,"created")};var t=function(e,t){var n=new c._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,c._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=c._DOMBackend.Teardown.onElementTeardown(n,function a(){c._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};c._materializeView=function(e,n,a,i){c._createView(e,n);var o,s;return r.nonreactive(function(){e.autorun(function u(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||r.nonreactive(function a(){var t=c._materializeDOM(n,[],e);c._isContentEqual(s,n)||(o.setMembers(t),c._fireCallbacks(e,"rendered"))}),s=n,r.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;a?(n=[],a.push(function(){o=t(e,n),n=null,i.push(o)}),a.push([s,n,e])):(n=c._materializeDOM(s,[],e),o=t(e,n),n=null)}),a?null:o},c._expandView=function(e,t){c._createView(e,t,!0),e._isInRender=!0;var n=c._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var a=c._expand(n,e);return r.active?r.onInvalidate(function(){c._destroyView(e)}):c._destroyView(e),a},c._HTMLJSExpander=o.TransformingVisitor.extend(),c._HTMLJSExpander.def({visitObject:function(e){return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View?c._expandView(e,this.parentView):o.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=c._withCurrentView(this.parentView,e)),o.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=c._withCurrentView(this.parentView,t)),o.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=c.currentView;return e&&e._isInRender?e:null};c._expand=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visit(e)},c._expandAttributes=function(e,t){return t=t||n(),new c._HTMLJSExpander({parentView:t}).visitAttributes(e)},c._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,c._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},c._destroyNode=function(e){1===e.nodeType&&c._DOMBackend.Teardown.tearDownElement(e)},c._isContentEqual=function(e,t){return e instanceof o.Raw?t instanceof o.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},c.currentView=null,c._withCurrentView=function(e,t){var n=c.currentView;try{return c.currentView=e,t()}finally{c.currentView=n}};var a=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof c.View||e instanceof c.Template||"function"==typeof e))try{(new o.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},s=function(e){if(a(e),e instanceof c.Template)return e.constructView();if(e instanceof c.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),c.View("render",t)},u=function(e){return a(e),"function"!=typeof e?function(){return e}:e};c.render=function(e,t,r,a){if(t||c._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof c.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var i=s(e);return c._materializeView(i,a),t&&i._domrange.attach(t,r),i},c.insert=function(e,t,n){if(c._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},c.renderWithData=function(e,t,n,r,a){return c.render(c._TemplateWith(t,u(e)),n,r,a)},c.remove=function(e){if(!(e&&e._domrange instanceof c._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},c.toHTML=function(e,t){return t=t||n(),o.toHTML(c._expandView(s(e),t))},c.toHTMLWithData=function(e,t,r){return r=r||n(),o.toHTML(c._expandView(c._TemplateWith(t,u(e)),r))},c._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof c.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==o.TEXTMODE.STRING&&r!==o.TEXTMODE.RCDATA&&r!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return o.toText(c._expand(e,t),r)},c.getData=function(e){var t;if(e)if(e instanceof c.View){var n=e;t="with"===n.name?n:c.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=c.getView(e,"with")}else t=c.getView("with");return t?t.dataVar.get():null},c.getElementData=function(e){if(c._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return c.getData(e)},c.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof c.View)return c._getParentView(e,n);if("number"==typeof e.nodeType)return c._getElementView(e,n);throw new Error("Expected DOM element or View")}return c._getCurrentView(n)},c._getCurrentView=function(e){var t=c.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},c._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},c._getElementView=function(e,t){for(var n=c._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:c._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},c._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(o,s){i.each(t,function(t,a){var u=a.split(/,\s+/);i.each(u,function(a){var i=a.split(/\s+/);if(0!==i.length){var u=i.shift(),l=i.join(" ");r.push(c._EventSupport.listen(s,u,l,function(r){if(!o.containsElement(r.currentTarget))return null;var a=n||this,i=arguments;return c._withCurrentView(e,function(){return t.apply(a,i)})},o,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){i.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){c._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},c.With=function(e,t){var n=c.View("with",t);return n.dataVar=new u,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},c.If=function(e,t,n,r){var a=new u,i=c.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=c._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},c.Unless=function(e,t,n){return c.If(e,t,n,!0)},c.Each=function(e,t,n){var a=c.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new r.Dependency,this.expandedValueDep.depend()),e});return a.initialSubviews=[],a.numItems=0,a.inElseMode=!1,a.stopHandle=null,a.contentFunc=t,a.elseFunc=n,a.argVar=new u,a.onViewCreated(function(){a.autorun(function(){a.argVar.set(e())},a.parentView,"collection"),a.stopHandle=s.observe(function(){return a.argVar.get()},{addedAt:function(e,t,n){r.nonreactive(function(){var e=c.With(t,a.contentFunc);if(a.numItems++,a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange){a.inElseMode&&(a._domrange.removeMember(0),a.inElseMode=!1);var r=c._materializeView(e,a);a._domrange.addMember(r,n)}else a.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){r.nonreactive(function(){a.numItems--,a.expandedValueDep?a.expandedValueDep.changed():a._domrange?(a._domrange.removeMember(n),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a._domrange.addMember(c._materializeView(c.View("each_else",a.elseFunc),a),0))):a.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else{var e;e=a._domrange?a._domrange.getMember(i).view:a.initialSubviews[i],e.dataVar.set(t)}})},movedTo:function(e,t,n,i){r.nonreactive(function(){if(a.expandedValueDep)a.expandedValueDep.changed();else if(a._domrange)a._domrange.moveMember(n,i);else{var e=a.initialSubviews,t=e[n];e.splice(n,1),e.splice(i,0,t)}})}}),a.elseFunc&&0===a.numItems&&(a.inElseMode=!0,a.initialSubviews[0]=c.View("each_else",a.elseFunc))}),a.onViewDestroyed(function(){a.stopHandle&&a.stopHandle.stop()}),a},c._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?c._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof c.Template&&(e=e.constructView()),e instanceof c.View&&(e._hasGeneratedParent=!0),e};return n=c.With(a,i),n.__isTemplateWith=!0,n},c._InOuterTemplateScope=function(e,t){var n=c.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r}),n},c.InOuterTemplateScope=c._InOuterTemplateScope}.call(this),function(){c._globalHelpers={},c.registerHelper=function(e,t){c._globalHelpers[e]=t};var e=function(e,t){return"function"!=typeof e?e:i.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=c.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};c._OLDSTYLE_HELPER={};var n=c._getTemplateHelper=function(e,t){var n=!1;if(e.__helpers.has(t)){var r=e.__helpers.get(t);if(r!==c._OLDSTYLE_HELPER)return r;n=!0}return t in e?(n||(e.__helpers.set(t,c._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||c._warn("Assigning helper with `"+e.viewName+"."+t+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),e[t]):null},r=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return c.Template._withTemplateInstanceFunc(t,function(){return c._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};c.View.prototype.lookup=function(e,a){var o=this.template,s=a&&a.template,u,l;if(this.templateInstance&&(l=i.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return c._parentData(e.length-1,!0)}return o&&null!=(u=n(o,e))?r(t(u),l):s&&e in c.Template&&c.Template[e]instanceof c.Template?c.Template[e]:null!=c._globalHelpers[e]?r(t(c._globalHelpers[e]),l):function(){var t=arguments.length>0,n=c.getData();if(s&&(!n||!n[e]))throw new Error("No such template: "+e);if(t&&(!n||!n[e]))throw new Error("No such function: "+e);if(!n)return null;var r=n[e];if("function"!=typeof r){if(t)throw new Error("Can't call non-function: "+r);return r}return r.apply(n,arguments)};return null},c._parentData=function(e,t){null==e&&(e=1);for(var n=c.getView("with"),r=0;e>r&&n;r++)n=c.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},c.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){c.Template=function(e,n){if(!(this instanceof c.Template))return new c.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=c.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},c.isTemplate=function(e){return e instanceof c.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){
this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,o=c.View(a.viewName,a.renderFunction);o.template=a,o.templateContentBlock=t?new e("(contentBlock)",t):null,o.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&o._onViewRendered(function(){1===o.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),i.each(a.__eventMaps,function(e){c._addEventMap(o,e,o)}))}),o._templateInstance=new c.TemplateInstance(o),o.templateInstance=function(){var e=o._templateInstance;return e.data=c.getData(o),o._domrange&&!o.isDestroyed?(e.firstNode=o._domrange.firstNode(),e.lastNode=o._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var s=a._getCallbacks("created");o.onViewCreated(function(){n(s,o.templateInstance())});var u=a._getCallbacks("rendered");o.onViewReady(function(){n(u,o.templateInstance())});var l=a._getCallbacks("destroyed");return o.onViewDestroyed(function(){n(l,o.templateInstance())}),o},c.TemplateInstance=function(e){if(!(this instanceof c.TemplateInstance))return new c.TemplateInstance(e);if(!(e instanceof c.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new r.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},c.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},c.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},c.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},c.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},c.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=i.toArray(arguments),r={};if(n.length){var a=i.last(n);i.isFunction(a)?r.onReady=n.pop():a&&i.any([a.onReady,a.onError,a.onStop],i.isFunction)&&(r=n.pop())}var o,s=r.onStop;return r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)},n.push(r),o=e.view.subscribe.call(e.view,n),i.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},c.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=i.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=c.getData(t.currentTarget);null==a&&(a={});var o=Array.prototype.slice.call(arguments),s=i.bind(r.templateInstance,r);return o.splice(1,0,s()),e._withTemplateInstanceFunc(s,function(){return n.apply(a,o)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=c.getData,e.parentData=c._parentData,e.registerHelper=c.registerHelper}.call(this),function(){l=c,c.ReactiveVar=u,l._templateInstance=c.Template.instance,d={},d.registerHelper=c.registerHelper,d._escape=c._escape,d.SafeString=function(e){this.string=e},d.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),Package.blaze={Blaze:c,UI:l,Handlebars:d}}();

!function(){var a=Package.meteor.Meteor,e=Package.blaze.Blaze,c=Package.blaze.UI,g=Package.blaze.Handlebars,k=Package.htmljs.HTML,e,c,g;"undefined"==typeof Package&&(Package={}),Package.ui={Blaze:e,UI:c,Handlebars:g}}();

!function(){var e=Package.meteor.Meteor,n=Package.underscore._,a=Package.blaze.Blaze,t=Package.blaze.UI,o=Package.blaze.Handlebars,d=Package.htmljs.HTML,c;(function(){c=a.Template;var e="__proto__ name".split(" ");c.__checkName=function(a){if(a in c||n.contains(e,a)){if(c[a]instanceof c&&"body"!==a)throw new Error("There are multiple templates named '"+a+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+a)}},c.__define__=function(e,n){c.__checkName(e),c[e]=new c("Template."+e,n),c[e]._NOWARN_OLDSTYLE_HELPERS=!0},c.body=new c("body",function(){var e=this;return n.map(c.body.contentRenderFuncs,function(n){return n.apply(e)})}),c.body.contentRenderFuncs=[],c.body.view=null,c.body.addContent=function(e){c.body.contentRenderFuncs.push(e)},c.body.renderToDocument=function(){if(!c.body.view){var e=a.render(c.body,document.body);c.body.view=e}},t.body=c.body,c.__body__=c.body,c.__body__.__contentParts=c.body.contentViews,c.__body__.__instantiate=c.body.renderToDocument}).call(this),"undefined"==typeof Package&&(Package={}),Package.templating={Template:c}}();

!function(){var t=Package.meteor.Meteor,e=Package.htmljs.HTML,n=Package.tracker.Tracker,a=Package.tracker.Deps,r=Package.blaze.Blaze,u=Package.blaze.UI,i=Package.blaze.Handlebars,o=Package["observe-sequence"].ObserveSequence,c=Package.templating.Template,l=Package.underscore._,f;(function(){f={};var t=function(t,e){return t===e};f.include=function(e,n,a){if(!e)return null;if("function"!=typeof e){var u=e;if(!r.isTemplate(u))throw new Error("Expected template or null, found: "+u);return e.constructView(n,a)}var i=r.ReactiveVar(null,t),o=r.View("Spacebars.include",function(){var t=i.get();if(null===t)return null;if(!r.isTemplate(t))throw new Error("Expected template or null, found: "+t);return t.constructView(n,a)});return o.__templateVar=i,o.onViewCreated(function(){this.autorun(function(){i.set(e())})}),o},f.mustacheImpl=function(t){var e=arguments;if(e.length>1){var n=e[e.length-1];if(n instanceof f.kw){var a={};for(var r in n.hash){var u=n.hash[r];a[r]="function"==typeof u?u():u}e[e.length-1]=f.kw(a)}else n=f.kw(),e=Array.prototype.slice.call(arguments),e.push(n)}return f.call.apply(null,e)},f.mustache=function(t){var n=f.mustacheImpl.apply(null,arguments);return n instanceof f.SafeString?e.Raw(n.toString()):null==n||n===!1?null:String(n)},f.attrMustache=function(t){var n=f.mustacheImpl.apply(null,arguments);if(null==n||""===n)return null;if("object"==typeof n)return n;if("string"==typeof n&&e.isValidAttributeName(n)){var a={};return a[n]="",a}throw new Error("Expected valid attribute name, '', null, or object")},f.dataMustache=function(t){var e=f.mustacheImpl.apply(null,arguments);return e},f.makeRaw=function(t){return null==t?null:t instanceof e.Raw?t:e.Raw(t)},f.call=function(t){if("function"==typeof t){for(var e=[],n=1;n<arguments.length;n++){var a=arguments[n];e[n-1]="function"==typeof a?a():a}return t.apply(null,e)}if(arguments.length>1)throw new Error("Can't call non-function: "+t);return t},f.kw=function(t){return this instanceof f.kw?void(this.hash=t||{}):new f.kw(t)},f.SafeString=function(t){return this instanceof f.SafeString?new i.SafeString(t):new f.SafeString(t)},f.SafeString.prototype=i.SafeString.prototype,f.dot=function(t,e){if(arguments.length>2){var n=[];return n.push(f.dot(t,e)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),f.dot.apply(null,n)}if("function"==typeof t&&(t=t()),!t)return t;var a=t[e];return"function"!=typeof a?a:function(){return a.apply(t,arguments)}},f.With=function(t,e,a){var u=new r.ReactiveVar,i=r.View("Spacebars_with",function(){return r.If(function(){return u.get()},function(){return r.With(function(){return u.get()},e)},a)});return i.onViewCreated(function(){this.autorun(function(){u.set(t()),n.onInvalidate(function(){u.dep.changed()})})}),i},f.TemplateWith=r._TemplateWith}).call(this),function(){c.__checkName("__dynamic"),c.__dynamic=new c("Template.__dynamic",function(){var t=this;return[r.View("lookup:checkContext",function(){return f.mustache(t.lookup("checkContext"))}),"\n  ",r.If(function(){return f.call(t.lookup("dataContextPresent"))},function(){return["\n    ",f.include(t.lookupTemplate("__dynamicWithDataContext")),"\n  "]},function(){return["\n    \n    ",r._TemplateWith(function(){return{template:f.call(t.lookup("template")),data:f.call(t.lookup(".."))}},function(){return f.include(t.lookupTemplate("__dynamicWithDataContext"))}),"\n  "]})]}),c.__checkName("__dynamicWithDataContext"),c.__dynamicWithDataContext=new c("Template.__dynamicWithDataContext",function(){var t=this;return f.With(function(){return f.dataMustache(t.lookup("chooseTemplate"),t.lookup("template"))},function(){return["\n    ",r._TemplateWith(function(){return f.call(f.dot(t.lookup(".."),"data"))},function(){return f.include(t.lookupTemplate(".."))}),"    \n  "]})})}.call(this),function(){c.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return c[t]||null}}),c.__dynamic.helpers({dataContextPresent:function(){return l.has(this,"data")},checkContext:function(){if(!l.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");l.each(this,function(t,e){if("template"!==e&&"data"!==e)throw new Error("Invalid argument to {{> Template.dynamic}}: "+e)})}})}.call(this),"undefined"==typeof Package&&(Package={}),Package.spacebars={Spacebars:f}}();

!function(){var e=Package.meteor.Meteor,n;(function(){var a=0,r=!1;n={hold:function(){if(!e.isCordova)return{release:function(){}};if(r)throw new Error("Can't show launch screen once it's hidden");a++;var n=!1,t=function(){e.isCordova&&(n||(a--,0===a&&"undefined"!=typeof navigator&&navigator.splashscreen&&(r=!0,navigator.splashscreen.hide())))};return{release:t}}}}).call(this),function(){var a=n.hold(),r=Package.templating&&Package.templating.Template;e.startup(function(){r?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){a.release()}):(r.body.onRendered(function(){a.release()}),setTimeout(function(){a.release()},6e3)):a.release()})}.call(this),"undefined"==typeof Package&&(Package={}),Package["launch-screen"]={LaunchScreen:n}}();

ReactMeteor=Package["reactjs:react"].ReactMeteor,ComputeFunctionAnalyser=Package["metric-stuff"].ComputeFunctionAnalyser,ComputeFunctionHelpers=Package["metric-stuff"].ComputeFunctionHelpers,CollectionHooks=Package["matb33:collection-hooks"].CollectionHooks,Meteor=Package.meteor.Meteor,WebApp=Package.webapp.WebApp,Log=Package.logging.Log,Tracker=Package.deps.Tracker,Deps=Package.deps.Deps,Session=Package.session.Session,DDP=Package.livedata.DDP,Mongo=Package.mongo.Mongo,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,check=Package.check.check,Match=Package.check.Match,_=Package.underscore._,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Random=Package.random.Random,EJSON=Package.ejson.EJSON,LaunchScreen=Package["launch-screen"].LaunchScreen,HTML=Package.htmljs.HTML;

!function(){Template.body.addContent(function(){var t=this;return HTML.Raw('<div id="root"></div>')}),Meteor.startup(Template.body.renderToDocument)}();

!function(){!function(){function t(t){return function(){return t}}function n(t){var n="Array"===t&&un.isArray||function(n,e){return(e||ln.call(n))==="[object "+t+"]"};return yn[t]=n}function e(t,n){function e(e){return g(e)?ln.call(e)==="[object "+n+"]":typeof e===t}return yn[n]=e}function r(t){t.SugarMethods||(s(t,"SugarMethods",{}),i(t,!1,!0,{extend:function(n,e,r){i(t,!1!==r,e,n)},sugarRestore:function(){return o(this,t,arguments,function(t,n,e){s(t,n,e.method)})},sugarRevert:function(){return o(this,t,arguments,function(t,n,e){e.existed?s(t,n,e.original):delete t[n]})}}))}function i(t,n,e,i){var u=n?t.prototype:t;r(t),v(i,function(r,i){var o=u[r],c=m(u,r);An(e)&&o&&(i=a(o,i,e)),!1===e&&o||s(u,r,i),t.SugarMethods[r]={method:i,existed:c,original:o,instance:n}})}function u(t,n,e,r,u){var o={};r=Tn(r)?r.split(","):r,r.forEach(function(t,n){u(o,t,n)}),i(t,n,e,o)}function o(t,n,e,r){var i=0===e.length,u=c(e),o=!1;return v(n.SugarMethods,function(n,e){(i||-1!==u.indexOf(n))&&(o=!0,r(e.instance?t.prototype:t,n,e))}),o}function a(t,n,e){return function(r){return e.apply(this,arguments)?n.apply(this,arguments):t.apply(this,arguments)}}function s(t,n,e){mn?rn.defineProperty(t,n,{value:e,configurable:!0,enumerable:!1,writable:!0}):t[n]=e}function c(t,n,e){var r=[];e=e||0;var i;for(i=t.length;i>e;e++)r.push(t[e]),n&&n.call(t,t[e],e);return r}function f(t,n,e){var r=t[e||0];On(r)&&(t=r,e=0),c(t,n,e)}function h(t){if(!t||!t.call)throw new TypeError("Callback is not callable")}function l(t){return void 0!==t}function d(t){return void 0===t}function m(t,n){return!!t&&dn.call(t,n)}function g(t){return!!t&&("object"==typeof t||gn&&Sn(t))}function p(t){var n=typeof t;return null==t||"string"===n||"number"===n||"boolean"===n}function y(t,n){n=n||ln.call(t);try{if(t&&t.constructor&&!m(t,"constructor")&&!m(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!!t&&"[object Object]"===n&&"hasOwnProperty"in t}function v(t,n){for(var e in t)if(m(t,e)&&!1===n.call(t,e,t[e],t))break}function w(t,n){for(var e=0;t>e;e++)n(e)}function k(t,n){return v(n,function(e){t[e]=n[e]}),t}function b(t){if(p(t)&&(t=rn(t)),pn&&Tn(t))for(var n=t,e=0,r;r=n.charAt(e);)n[e++]=r;return t}function T(t){k(this,b(t))}function O(t,n,e){var r=Fn(10,xn(n||0));return e=e||En,0>n&&(r=1/r),e(t*r)/r}function C(){return"	\n\f\r \u2028\u2029\ufeff"}function S(t,n){var e="";for(t=t.toString();n>0;)1&n&&(e+=t),(n>>=1)&&(t+=t);return e}function A(t,n){var e,r;return e=t.replace($n,function(t){return t=Wn[t],t===Ln&&(r=!0),t}),r?parseFloat(e):parseInt(e,n||10)}function x(t,n,e,r){return r=xn(t).toString(r||10),r=S("0",n-r.replace(/\.\d+/,"").length)+r,(e||0>t)&&(r=(0>t?"-":"+")+r),r}function F(t){if(t>=11&&13>=t)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function M(t,n){function e(t,e){(t||-1<n.indexOf(e))&&(r+=e)}var r="";return n=n||"",e(t.multiline,"m"),e(t.ignoreCase,"i"),e(t.global,"g"),e(t.u,"y"),r}function I(t){return Tn(t)||(t=sn(t)),t.replace(/([\\/\'*+?|()\[\]{}.^$])/g,"\\$1")}function E(t,n){return t["get"+(t._utc?"UTC":"")+n]()}function D(t,n,e){return t["set"+(t._utc&&"ISOWeek"!=n?"UTC":"")+n](e)}function U(t,n){var e=typeof t,r,i,u,o,a,s,c;if("string"===e)return t;if(u=ln.call(t),r=y(t,u),i=On(t,u),null!=t&&r||i){if(n||(n=[]),1<n.length)for(s=n.length;s--;)if(n[s]===t)return"CYC";for(n.push(t),r=t.valueOf()+sn(t.constructor),o=i?t:rn.keys(t).sort(),s=0,c=o.length;c>s;s++)a=i?s:o[s],r+=a+U(t[a],n);n.pop()}else r=-(1/0)===1/t?"-0":sn(t&&t.valueOf?t.valueOf():t);return e+u+r}function N(t,n){return t===n?0!==t||1/t===1/n:_(t)&&_(n)?U(t)===U(n):!1}function _(t){var n=ln.call(t);return vn.test(n)||y(t,n)}function j(t,n,e){var r,i=t.length,u=n.length,o=!1!==n[u-1];return u>(o?1:2)?(r=[],c(n,function(n){return kn(n)?!1:void r.push(z(t,i,n,o,e))}),r):z(t,i,n[0],o,e)}function z(t,n,e,r,i){return r&&(e%=n,0>e&&(e=n+e)),i?t.charAt(e):t[e]}function L(t,n){u(n,!0,!1,t,function(t,n){t[n+("equal"===n?"s":"")]=function(){return rn[n].apply(null,[this].concat(c(arguments)))}})}function R(t,n,e,r){var i=t.length,u=-1==r,o=u?i-1:0;for(e=isNaN(e)?o:parseInt(e>>0),0>e&&(e=i+e),(!u&&0>e||u&&e>=i)&&(e=o);u&&e>=0||!u&&i>e;){if(t[e]===n)return e;e+=r}return-1}function W(t,n,e,r){var i=t.length,u=0,o=l(e);if(h(n),0==i&&!o)throw new TypeError("Reduce called on empty array with no initial value");for(o||(e=t[r?i-1:u],u++);i>u;)o=r?i-u-1:u,o in t&&(e=n(e,t[o],o,t)),u++;return e}function $(t){if(0===t.length)throw new TypeError("First argument must be defined")}function H(t){return t=on(t),function(n){return t.test(n)}}function P(t){var n=t.getTime();return function(t){return!(!t||!t.getTime)&&t.getTime()===n}}function B(t){return function(n,e,r){return n===t||t.call(this,n,e,r)}}function Y(t){return function(n,e,r){return n===t||t.call(r,e,n,r)}}function Z(t,n){var e={};return function(r,i,u){var o;if(!g(r))return!1;for(o in t)if(e[o]=e[o]||V(t[o],n),!1===e[o].call(u,r[o],i,u))return!1;return!0}}function q(t){return function(n){return n===t||N(n,t)}}function V(t,n){if(!p(t)){if(Sn(t))return H(t);if(Cn(t))return P(t);if(An(t))return n?Y(t):B(t);if(y(t))return Z(t,n)}return q(t)}function G(t,n,e,r){return n?n.apply?n.apply(e,r||[]):An(t[n])?t[n].call(t):t[n]:t}function J(t,n,e,r){var i=+t.length;for(0>e&&(e=t.length+e),e=isNaN(e)?0:e,!0===r&&(i+=e);i>e;){if(r=e%t.length,!(r in t)){Q(t,n,e);break}if(!1===n.call(t,t[r],r,t))break;e++}}function Q(t,n,e){var r=[],i;for(i in t)i in t&&i>>>0==i&&4294967295!=i&&i>=e&&r.push(parseInt(i));r.sort().each(function(e){return n.call(t,t[e],e,t)})}function K(t,n,e,r,i,u){var o,a,s;return 0<t.length&&(s=V(n),J(t,function(n,e){return s.call(u,n,e,t)?(o=n,a=e,!1):void 0},e,r)),i?a:o}function X(t,n){var e=[],r={},i;return J(t,function(u,o){i=n?G(u,n,t,[u,o,t]):u,it(r,i)||e.push(u)}),e}function tt(t,n,e){var r=[],i={};return n.each(function(t){it(i,t)}),t.each(function(t){var n=U(t),u=!_(t);if(rt(i,n,t,u)!==e){var o=0;if(u)for(n=i[n];o<n.length;)n[o]===t?n.splice(o,1):o+=1;else delete i[n];r.push(t)}}),r}function nt(t,n,e){n=n||1/0,e=e||0;var r=[];return J(t,function(t){On(t)&&n>e?r=r.concat(nt(t,n,e+1)):r.push(t)}),r}function et(t){var n=[];return c(t,function(t){n=n.concat(t)}),n}function rt(t,n,e,r){var i=n in t;return r&&(t[n]||(t[n]=[]),i=-1!==t[n].indexOf(e)),i}function it(t,n){var e=U(n),r=!_(n),i=rt(t,e,n,r);return r?t[e].push(n):t[e]=n,i}function ut(t,n,e,r){var i,u,o,a=[],s="max"===e,c="min"===e,f=un.isArray(t);for(i in t)if(t.hasOwnProperty(i)){if(e=t[i],o=G(e,n,t,f?[e,parseInt(i),t]:[]),d(o))throw new TypeError("Cannot compare with undefined");o===u?a.push(e):(d(u)||s&&o>u||c&&u>o)&&(a=[e],u=o)}return f||(a=nt(a,1)),r?a:a[0]}function ot(t,n){var e,r,i,u,o=0,a=0;e=un[Yn],r=un[Zn];var s=un[qn],c=un[Bn],f=un[Vn];t=at(t,e,r),n=at(n,e,r);do e=t.charAt(o),i=s[e]||e,e=n.charAt(o),u=s[e]||e,e=i?c.indexOf(i):null,r=u?c.indexOf(u):null,-1===e||-1===r?(e=t.charCodeAt(o)||null,r=n.charCodeAt(o)||null,f&&(e>=Nn&&_n>=e||e>=jn&&zn>=e)&&(r>=Nn&&_n>=r||r>=jn&&zn>=r)&&(e=A(t.slice(o)),r=A(n.slice(o)))):(i=i!==t.charAt(o),u=u!==n.charAt(o),i!==u&&0===a&&(a=i-u)),o+=1;while(null!=e&&null!=r&&e===r);return e===r?a:e-r}function at(t,n,e){return Tn(t)||(t=sn(t)),e&&(t=t.toLowerCase()),n&&(t=t.replace(n,"")),t}function st(t,n){u(rn,!1,!0,t,function(t,e){t[e]=function(t,r,i){var u=rn.keys(b(t)),o;return n||(o=V(r,!0)),i=un.prototype[e].call(u,function(e){var i=t[e];return n?G(i,r,t,[e,i,t]):o(i,e,t)},i),On(i)&&(i=i.reduce(function(n,e){return n[e]=t[e],n},{})),i}}),L(t,T)}function ct(t){k(this,t),this.g=ae.concat()}function ft(t,n,e){var r,i,u=n[0],o=n[1],a=n[2];return n=t[e]||t.relative,An(n)?n.call(t,u,o,a,e):(i=t.units[8*(t.plural&&u>1?1:0)+o]||t.units[o],t.capitalizeUnit&&(i=yt(i)),r=t.modifiers.filter(function(t){return"sign"==t.name&&t.value==(a>0?1:-1)})[0],n.replace(/\{(.*?)\}/g,function(t,n){switch(n){case"num":return u;case"unit":return i;case"sign":return r.src}}))}function ht(t,n){return n=n||t.code,"en"===n||"en-US"===n?!0:t.variant}function lt(t,n){return n.replace(on(t.num,"g"),function(n){return dt(t,n)||""})}function dt(t,n){var e;return bn(n)?n:n&&-1!==(e=t.numbers.indexOf(n))?(e+1)%10:1}function mt(t,n){var e;if(Tn(t)||(t=""),e=he[t]||he[t.slice(0,2)],!1===n&&!e)throw new TypeError("Invalid locale.");return e||te}function gt(t,n){function e(t){var n=a[t];Tn(n)?a[t]=n.split(","):n||(a[t]=[])}function r(t,n){t=t.split("+").map(function(t){return t.replace(/(.+):(.+)$/,function(t,n,e){return e.split("|").map(function(t){return n+t}).join("|")})}).join("|"),t.split("|").forEach(n)}function i(t,n,e){var i=[];a[t].forEach(function(t,u){n&&(t+="+"+t.slice(0,3)),r(t,function(t,n){i[n*e+u]=t.toLowerCase()})}),a[t]=i}function u(t,n,e){return t="\\d{"+t+","+n+"}",e&&(t+="|(?:"+vt(a.numbers)+")+"),t}function o(t,n){a[t]=a[t]||n}var a,s;return a=new ct(n),e("modifiers"),"months weekdays units numbers articles tokens timeMarker ampm timeSuffixes dateParse timeParse".split(" ").forEach(e),s=!a.monthSuffix,i("months",s,12),i("weekdays",s,7),i("units",!1,8),i("numbers",!1,10),o("code",t),o("date",u(1,2,a.digitDate)),o("year","'\\d{2}|"+u(4,4)),o("num",function(){var t=["-?\\d+"].concat(a.articles);return a.numbers&&(t=t.concat(a.numbers)),vt(t)}()),function(){var t=[];a.i={},a.modifiers.push({name:"day",src:"yesterday",value:-1}),a.modifiers.push({name:"day",src:"today",value:0}),a.modifiers.push({name:"day",src:"tomorrow",value:1}),a.modifiers.forEach(function(n){var e=n.name;r(n.src,function(r){var i=a[e];a.i[r]=n,t.push({name:e,src:r,value:n.value}),a[e]=i?i+"|"+r:r})}),a.day+="|"+vt(a.weekdays),a.modifiers=t}(),a.monthSuffix&&(a.month=u(1,2),a.months="1 2 3 4 5 6 7 8 9 10 11 12".split(" ").map(function(t){return t+a.monthSuffix})),a.full_month=u(1,2)+"|"+vt(a.months),0<a.timeSuffixes.length&&a.addFormat(zt(a),!1,ne),a.addFormat("{day}",!0),a.addFormat("{month}"+(a.monthSuffix||"")),a.addFormat("{year}"+(a.yearSuffix||"")),a.timeParse.forEach(function(t){a.addFormat(t,!0)}),a.dateParse.forEach(function(t){a.addFormat(t)}),he[t]=a}function pt(t,n,e,r){t.g.unshift({r:r,locale:t,q:on("^"+n+"$","i"),to:e})}function yt(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function vt(t){return t.filter(function(t){return!!t}).join("|")}function wt(){var t=an.SugarNewDate;return t?t():new an}function kt(t,n){var e;return g(t[0])?t:bn(t[0])&&!bn(t[1])?[t[0]]:Tn(t[0])&&n?[bt(t[0]),t[1]]:(e={},ue.forEach(function(n,r){e[n.name]=t[r]}),[e])}function bt(t){var n,e={};return(t=t.match(/^(\d+)?\s?(\w+?)s?$/i))&&(d(n)&&(n=parseInt(t[1])||1),e[t[2].toLowerCase()]=n),e}function Tt(t,n,e){var r;for(d(e)&&(e=oe.length),n=n||0;e>n&&(r=oe[n],!1!==t(r.name,r,n));n++);}function Ot(t,n){var e={},r,i;return n.forEach(function(n,u){r=t[u+1],d(r)||""===r||("year"===n&&(e.t=r.replace(/'/,"")),i=parseFloat(r.replace(/'/,"").replace(/,/,".")),e[n]=isNaN(i)?r.toLowerCase():i)}),e}function Ct(t){return t=t.trim().replace(/^just (?=now)|\.+$/i,""),St(t)}function St(t){return t.replace(ie,function(t,n,e){var r=0,i=1,u,o;return n?t:(e.split("").reverse().forEach(function(t){t=re[t];var n=t>9;n?(u&&(r+=i),i*=t/(o||1),o=t):(!1===u&&(i*=10),r+=i*t),u=n}),u&&(r+=i),r)})}function At(t,n,e,r){function i(t){d.push(t)}function u(){d.forEach(function(t){t.call()})}function o(){var t=c.getWeekday();c.setWeekday(7*(p.num-1)+(t>k?k+7:k))}function a(){var t=m.i[p.edge];Tt(function(t){return l(p[t])?(y=t,!1):void 0},4),"year"===y?p.e="month":("month"===y||"week"===y)&&(p.e="day"),c[(0>t.value?"endOf":"beginningOf")+yt(y)](),-2===t.value&&c.reset()}function s(){var t;Tt(function(n,e,r){if("day"===n&&(n="date"),l(p[n])){if(r>=w)return c.setTime(0/0),!1;t=t||{},t[n]=p[n],delete p[n]}}),t&&i(function(){c.set(t,!0)})}var c,f,h,d,m,p,y,w,k,b,T;return c=wt(),d=[],c.utc(r),Cn(t)?c.utc(t.isUTC()).setTime(t.getTime()):bn(t)?c.setTime(t):g(t)?(c.set(t,!0),p=t):Tn(t)&&(h=mt(n),t=Ct(t),h&&v(h.o?[h.o].concat(h.g):h.g,function(e,r){var u=t.match(r.q);return u?(m=r.locale,p=Ot(u,r.to),m.o=r,p.utc&&c.utc(),p.timestamp?(p=p.timestamp,!1):(r.r&&!Tn(p.month)&&(Tn(p.date)||ht(h,n))&&(T=p.month,p.month=p.date,p.date=T),p.year&&2===p.t.length&&(p.year=100*En(E(wt(),"FullYear")/100)-100*En(p.year/100)+p.year),p.month&&(p.month=m.getMonth(p.month),p.shift&&!p.unit&&(p.unit=m.units[7])),p.weekday&&p.date?delete p.weekday:p.weekday&&(p.weekday=m.getWeekday(p.weekday),p.shift&&!p.unit&&(p.unit=m.units[5])),p.day&&(T=m.i[p.day])?(p.day=T.value,c.reset(),f=!0):p.day&&-1<(k=m.getWeekday(p.day))&&(delete p.day,p.num&&p.month?(i(o),p.day=1):p.weekday=k),p.date&&!bn(p.date)&&(p.date=lt(m,p.date)),p.ampm&&p.ampm===m.ampm[1]&&12>p.hour?p.hour+=12:p.ampm===m.ampm[0]&&12===p.hour&&(p.hour=0),("offset_hours"in p||"offset_minutes"in p)&&(c.utc(),p.offset_minutes=p.offset_minutes||0,p.offset_minutes+=60*p.offset_hours,"-"===p.offset_sign&&(p.offset_minutes*=-1),p.minute-=p.offset_minutes),p.unit&&(f=!0,b=dt(m,p.num),w=m.units.indexOf(p.unit)%8,y=Xn.units[w],s(),p.shift&&(b*=(T=m.i[p.shift])?T.value:0),p.sign&&(T=m.i[p.sign])&&(b*=T.value),l(p.weekday)&&(c.set({weekday:p.weekday},!0),delete p.weekday),p[y]=(p[y]||0)+b),p.edge&&i(a),"-"===p.year_sign&&(p.year*=-1),Tt(function(t,n,e){n=p[t];var r=n%1;r&&(p[oe[e-1].name]=En(r*("second"===t?1e3:60)),p[t]=In(n))},1,4),!1)):void 0}),p?f?c.advance(p):(c._utc&&c.reset(),jt(c,p,!0,!1,e)):("now"!==t&&(c=new an(t)),r&&c.addMinutes(-c.getTimezoneOffset())),u(),c.utc(!1)),{c:c,set:p}}function xt(t){var n,e=xn(t),r=e,i=0;return Tt(function(t,u,o){n=In(O(e/u.b(),1)),n>=1&&(r=n,i=o)},1),[r,i,t]}function Ft(t){var n=xt(t.millisecondsFromNow());return(6===n[1]||5===n[1]&&4===n[0]&&t.daysFromNow()>=wt().daysInMonth())&&(n[0]=xn(t.monthsFromNow()),n[1]=6),n}function Mt(t,n,e){function r(t,e){var r=E(t,"Month");return mt(e).months[r+12*n]}It(t,r,e),It(yt(t),r,e,1)}function It(t,n,e,r){ce[t]=function(t,i){var u=n(t,i);return e&&(u=u.slice(0,e)),r&&(u=u.slice(0,r).toUpperCase()+u.slice(r)),u}}function Et(t,n,e){ce[t]=n,ce[t+t]=function(t,e){return x(n(t,e),2)},e&&(ce[t+t+t]=function(t,e){return x(n(t,e),3)},ce[t+t+t+t]=function(t,e){return x(n(t,e),4)})}function Dt(t){var n=t.match(/(\{\w+\})|[^{}]+/g);se[t]=n.map(function(t){return t.replace(/\{(\w+)\}/,function(n,e){return t=ce[e]||e,e}),t})}function Ut(t,n,e,r){var i;if(!t.isValid())return"Invalid Date";if(Date[n]?n=Date[n]:An(n)&&(i=Ft(t),n=n.apply(t,i.concat(mt(r)))),!n&&e)return i=i||Ft(t),0===i[1]&&(i[1]=1,i[0]=1),t=mt(r),ft(t,i,0<i[2]?"future":"past");n=n||"long",("short"===n||"long"===n||"full"===n)&&(n=mt(r)[n]),se[n]||Dt(n);var u,o;for(i="",n=se[n],u=0,e=n.length;e>u;u++)o=n[u],i+=An(o)?o(t,r):o;return i}function Nt(t,n,e,r,i){var u,o,a,s=0,c=0,f=0;return u=At(n,e,null,i),r>0&&(c=f=r,o=!0),u.c.isValid()?(u.set&&u.set.e&&(fe.forEach(function(n){n.name===u.set.e&&(s=n.b(u.c,t-u.c)-1)}),n=yt(u.set.e),(u.set.edge||u.set.shift)&&u.c["beginningOf"+n](),"month"===u.set.e&&(a=u.c.clone()["endOf"+n]().getTime()),!o&&u.set.sign&&"millisecond"!=u.set.e&&(c=50,f=-50)),o=t.getTime(),n=u.c.getTime(),a=_t(t,n,a||n+s),o>=n-c&&a+f>=o):!1}function _t(t,n,e){return n=new an(n),t=new an(e).utc(t.isUTC()),23!==E(t,"Hours")&&(n=n.getTimezoneOffset(),t=t.getTimezoneOffset(),n!==t&&(e+=(t-n).minutes())),e}function jt(t,n,e,r,i){function u(t){return l(n[t])?n[t]:n[t+"s"]}function o(t){return l(u(t))}var a;if(bn(n)&&r)n={milliseconds:n};else if(bn(n))return t.setTime(n),t;l(n.date)&&(n.day=n.date),Tt(function(r,i,u){var s="day"===r;return o(r)||s&&o("weekday")?(n.e=r,a=+u,!1):void(!e||"week"===r||s&&o("week")||D(t,i.method,s?1:0))}),fe.forEach(function(e){var i=e.name;e=e.method;var a;a=u(i),d(a)||(r?("week"===i&&(a=(n.day||0)+7*a,e="Date"),a=a*r+E(t,e)):"month"===i&&o("day")&&D(t,"Date",15),D(t,e,a),r&&"month"===i&&(i=a,0>i&&(i=i%12+12),i%12!=E(t,"Month")&&D(t,"Date",0)))}),r||o("day")||!o("weekday")||t.setWeekday(u("weekday"));var s;t:{switch(i){case-1:s=t>wt();break t;case 1:s=t<wt();break t}s=void 0}return s&&Tt(function(n,e){return(e.k||"week"===n&&o("weekday"))&&!(o(n)||"day"===n&&o("weekday"))?(t[e.j](i),!1):void 0},a+1),t}function zt(t,n){var e=ee,r={h:0,m:1,s:2},i;return t=t||Xn,e.replace(/{([a-z])}/g,function(e,u){var o=[],a="h"===u,s=a&&!n;return"t"===u?t.ampm.join("|"):(a&&o.push(":"),(i=t.timeSuffixes[r[u]])&&o.push(i+"\\s*"),0===o.length?"":"(?:"+o.join("|")+")"+(s?"":"?"))})}function Lt(t,n,e){var r,i;return bn(t[1])?r=kt(t)[0]:(r=t[0],i=t[1]),At(r,i,n,e).c}function Rt(t,n){function e(){return En(this*n)}function r(){return Lt(arguments)[t.j](this)}function i(){return Lt(arguments)[t.j](-this)}var u=t.name,o={};o[u]=e,o[u+"s"]=e,o[u+"Before"]=i,o[u+"sBefore"]=i,o[u+"Ago"]=i,o[u+"sAgo"]=i,o[u+"After"]=r,o[u+"sAfter"]=r,o[u+"FromNow"]=r,o[u+"sFromNow"]=r,cn.extend(o)}function Wt(t,n){this.start=$t(t),this.end=$t(n)}function $t(t){return Cn(t)?new an(t.getTime()):null==t?t:Cn(t)?t.getTime():t.valueOf()}function Ht(t){return t=null==t?t:Cn(t)?t.getTime():t.valueOf(),!!t||0===t}function Pt(t,n){var e,r,i,u;return bn(n)?new an(t.getTime()+n):(e=n[0],r=n[1],i=E(t,r),u=new an(t.getTime()),D(u,r,i+e),u)}function Bt(t,n){return sn.fromCharCode(t.charCodeAt(0)+n)}function Yt(t,n){return t+n}function Zt(t,n,e,r,i){1/0!==n&&(t.timers||(t.timers=[]),bn(n)||(n=1),t.n=!1,t.timers.push(setTimeout(function(){t.n||e.apply(r,i||[])},n)))}function qt(t,n,e,r,i,u){var o=t.toFixed(20),a=o.search(/\./),o=o.search(/[1-9]/),a=a-o;return a>0&&(a-=1),i=Un(Dn(In(a/3),!1===i?e.length:i),-r),r=e.charAt(i+r-1),-9>a&&(i=-3,n=xn(a)-9,r=e.slice(0,1)),e=u?Fn(2,10*i):Fn(10,3*i),O(t/e,n||0).format()+r.trim()}function Vt(t,n,e,r){var i,u,o;(u=n.match(/^(.+?)(\[.*\])$/))?(o=u[1],n=u[2].replace(/^\[|\]$/g,"").split("]["),n.forEach(function(n){i=!n||n.match(/^\d+$/),!o&&On(t)&&(o=t.length),m(t,o)||(t[o]=i?[]:{}),t=t[o],o=n}),!o&&i&&(o=t.length.toString()),Vt(t,o,e,r)):t[n]=r&&"true"===e?!0:r&&"false"===e?!1:e}function Gt(t,n){var e;return On(n)||g(n)&&n.toString===ln?(e=[],v(n,function(n,r){t&&(n=t+"["+n+"]"),e.push(Gt(n,r))}),e.join("&")):t?Jt(t)+"="+(Cn(n)?n.getTime():Jt(n)):""}function Jt(t){return t||!1===t||0===t?encodeURIComponent(t).replace(/%20/g,"+"):""}function Qt(t,n,e){var r,i=t instanceof T?new T:{};return v(t,function(t,u){r=!1,f(n,function(n){(Sn(n)?n.test(t):g(n)?n[t]===u:t===sn(n))&&(r=!0)},1),r===e&&(i[t]=u)}),i}function Kt(t){if(t=+t,0>t||1/0===t)throw new RangeError("Invalid number");return t}function Xt(t,n){return S(l(n)?n:" ",t)}function tn(t,n,e,r,i){var u;if(t.length<=n)return t.toString();switch(r=d(r)?"...":r,e){case"left":return t=i?nn(t,n,!0):t.slice(t.length-n),r+t;case"middle":return e=Mn(n/2),u=In(n/2),n=i?nn(t,e):t.slice(0,e),t=i?nn(t,u,!0):t.slice(t.length-u),n+r+t;default:return n=i?nn(t,n):t.slice(0,n),n+r}}function nn(t,n,e){if(e)return nn(t.reverse(),n).reverse();e=on("(?=["+C()+"])");var r=0;return t.split(e).filter(function(t){return r+=t.length,n>=r}).join("")}function en(t,n,e){return Tn(n)&&(n=t.indexOf(n),-1===n&&(n=e?t.length:0)),n}var rn=Object,un=Array,on=RegExp,an=Date,sn=String,cn=Number,fn=Math,hn="undefined"!=typeof global?global:this,ln=rn.prototype.toString,dn=rn.prototype.hasOwnProperty,mn=rn.defineProperty&&rn.defineProperties,gn="function"==typeof on(),pn=!("0"in new sn("a")),yn={},vn=/^\[object Date|Array|String|Number|RegExp|Boolean|Arguments\]$/,wn="Boolean Number String Array Date RegExp Function".split(" "),kn=e("boolean",wn[0]),bn=e("number",wn[1]),Tn=e("string",wn[2]),On=n(wn[3]),Cn=n(wn[4]),Sn=n(wn[5]),An=n(wn[6]);T.prototype.constructor=rn;var xn=fn.abs,Fn=fn.pow,Mn=fn.ceil,In=fn.floor,En=fn.round,Dn=fn.min,Un=fn.max,Nn=48,_n=57,jn=65296,zn=65305,Ln=".",Rn="",Wn={},$n;r(rn),v(wn,function(t,n){r(hn[n])});var Hn,Pn;for(Pn=0;9>=Pn;Pn++)Hn=sn.fromCharCode(Pn+jn),Rn+=Hn,Wn[Hn]=sn.fromCharCode(Pn+Nn);Wn[","]="",Wn[""]=Ln,Wn[Ln]=Ln,$n=on("["+Rn+","+Ln+"]","g"),i(rn,!1,!1,{keys:function(t){var n=[];if(!g(t)&&!Sn(t)&&!An(t))throw new TypeError("Object required");return v(t,function(t){n.push(t)}),n}}),i(un,!1,!1,{isArray:function(t){return On(t)}}),i(un,!0,!1,{every:function(t,n){var e=this.length,r=0;for($(arguments);e>r;){if(r in this&&!t.call(n,this[r],r,this))return!1;r++}return!0},some:function(t,n){var e=this.length,r=0;for($(arguments);e>r;){if(r in this&&t.call(n,this[r],r,this))return!0;r++}return!1},map:function(t,n){n=arguments[1];var e=this.length,r=0,i=Array(e);for($(arguments);e>r;)r in this&&(i[r]=t.call(n,this[r],r,this)),r++;return i},filter:function(t){var n=arguments[1],e=this.length,r=0,i=[];for($(arguments);e>r;)r in this&&t.call(n,this[r],r,this)&&i.push(this[r]),r++;return i},indexOf:function(t,n){return Tn(this)?this.indexOf(t,n):R(this,t,n,1)},lastIndexOf:function(t,n){return Tn(this)?this.lastIndexOf(t,n):R(this,t,n,-1)},forEach:function(t,n){var e=this.length,r=0;for(h(t);e>r;)r in this&&t.call(n,this[r],r,this),r++},reduce:function(t,n){return W(this,t,n)},reduceRight:function(t,n){return W(this,t,n,!0)}}),i(Function,!0,!1,{bind:function(t){var n=this,e=c(arguments,null,1),r;if(!An(this))throw new TypeError("Function.prototype.bind called on a non-function");return r=function(){return n.apply(n.prototype&&this instanceof n?this:t,e.concat(c(arguments)))},r.prototype=this.prototype,r}}),i(an,!1,!1,{now:function(){return(new an).getTime()}}),function(){var t=C().match(/^\s+$/);try{sn.prototype.trim.call([1])}catch(n){t=!1}i(sn,!0,!t,{trim:function(){return this.toString().trimLeft().trimRight()},trimLeft:function(){return this.replace(on("^["+C()+"]+"),"")},trimRight:function(){return this.replace(on("["+C()+"]+$"),"")}})}(),function(){var t=new an(an.UTC(1999,11,31)),t=t.toISOString&&"1999-12-31T00:00:00.000Z"===t.toISOString();u(an,!0,!t,"toISOString,toJSON",function(t,n){t[n]=function(){return x(this.getUTCFullYear(),4)+"-"+x(this.getUTCMonth()+1,2)+"-"+x(this.getUTCDate(),2)+"T"+x(this.getUTCHours(),2)+":"+x(this.getUTCMinutes(),2)+":"+x(this.getUTCSeconds(),2)+"."+x(this.getUTCMilliseconds(),3)+"Z"}})}();var Bn="AlphanumericSortOrder",Yn="AlphanumericSortIgnore",Zn="AlphanumericSortIgnoreCase",qn="AlphanumericSortEquivalents",Vn="AlphanumericSortNatural";i(un,!1,!0,{create:function(){var t=[];return c(arguments,function(n){(!p(n)&&"length"in n&&("[object Arguments]"===ln.call(n)||n.callee)||!p(n)&&"length"in n&&!Tn(n)&&!y(n))&&(n=un.prototype.slice.call(n,0)),t=t.concat(n)}),t}}),i(un,!0,!1,{find:function(t,n){return h(t),K(this,t,0,!1,!1,n)},findIndex:function(t,n){var e;return h(t),e=K(this,t,0,!1,!0,n),d(e)?-1:e}}),i(un,!0,!0,{findFrom:function(t,n,e){return K(this,t,n,e)},findIndexFrom:function(t,n,e){return n=K(this,t,n,e,!0),d(n)?-1:n},findAll:function(t,n,e){var r=[],i;return 0<this.length&&(i=V(t),J(this,function(t,n,e){i(t,n,e)&&r.push(t)},n,e)),r},count:function(t){return d(t)?this.length:this.findAll(t).length},removeAt:function(t,n){return d(t)?this:(d(n)&&(n=t),this.splice(t,n-t+1),this)},include:function(t,n){return this.clone().add(t,n)},exclude:function(){return un.prototype.remove.apply(this.clone(),arguments)},clone:function(){return k([],this)},unique:function(t){return X(this,t)},flatten:function(t){return nt(this,t)},union:function(){return X(this.concat(et(arguments)))},intersect:function(){return tt(this,et(arguments),!1)},subtract:function(t){return tt(this,et(arguments),!0)},at:function(){return j(this,arguments)},first:function(t){return d(t)?this[0]:(0>t&&(t=0),this.slice(0,t))},last:function(t){return d(t)?this[this.length-1]:this.slice(0>this.length-t?0:this.length-t)},from:function(t){return this.slice(t)},to:function(t){return d(t)&&(t=this.length),this.slice(0,t)},min:function(t,n){return ut(this,t,"min",n)},max:function(t,n){return ut(this,t,"max",n)},least:function(t,n){return ut(this.groupBy.apply(this,[t]),"length","min",n)},most:function(t,n){return ut(this.groupBy.apply(this,[t]),"length","max",n)},sum:function(t){return t=t?this.map(t):this,0<t.length?t.reduce(function(t,n){return t+n}):0},average:function(t){return t=t?this.map(t):this,0<t.length?t.sum()/t.length:0},inGroups:function(t,n){var e=1<arguments.length,r=this,i=[],u=Mn(this.length/t);return w(t,function(t){t*=u;var o=r.slice(t,t+u);e&&o.length<u&&w(u-o.length,function(){o=o.add(n)}),i.push(o)}),i},inGroupsOf:function(t,n){var e=[],r=this.length,i=this,u;return 0===r||0===t?i:(d(t)&&(t=1),d(n)&&(n=null),w(Mn(r/t),function(r){for(u=i.slice(t*r,t*r+t);u.length<t;)u.push(n);e.push(u)}),e)},isEmpty:function(){return 0==this.compact().length},sortBy:function(t,n){var e=this.clone();return e.sort(function(r,i){var u,o;return u=G(r,t,e,[r]),o=G(i,t,e,[i]),(Tn(u)&&Tn(o)?ot(u,o):o>u?-1:u>o?1:0)*(n?-1:1)}),e},randomize:function(){for(var t=this.concat(),n=t.length,e,r;n;)e=fn.random()*n|0,r=t[--n],t[n]=t[e],t[e]=r;return t},zip:function(){var t=c(arguments);return this.map(function(n,e){return[n].concat(t.map(function(t){return e in t?t[e]:null}))})},sample:function(t){var n=this.randomize();return 0<arguments.length?n.slice(0,t):n[0]},each:function(t,n,e){return J(this,t,n,e),this},add:function(t,n){return(!bn(cn(n))||isNaN(n))&&(n=this.length),un.prototype.splice.apply(this,[n,0].concat(t)),this},remove:function(){var t=this;return c(arguments,function(n){var e=0;for(n=V(n);e<t.length;)n(t[e],e,t)?t.splice(e,1):e++}),t},compact:function(t){var n=[];return J(this,function(e){On(e)?n.push(e.compact()):t&&e?n.push(e):t||null==e||e.valueOf()!==e.valueOf()||n.push(e)}),n},groupBy:function(t,n){var e=this,r={},i;return J(e,function(n,u){i=G(n,t,e,[n,u,e]),r[i]||(r[i]=[]),r[i].push(n)}),n&&v(r,n),r},none:function(){return!this.any.apply(this,arguments)}}),i(un,!0,!0,{all:un.prototype.every,any:un.prototype.some,insert:un.prototype.add}),i(rn,!1,!0,{map:function(t,n){var e={},r,i;for(r in t)m(t,r)&&(i=t[r],e[r]=G(i,n,t,[r,i,t]));return e},reduce:function(t){var n=rn.keys(b(t)).map(function(n){return t[n]});return n.reduce.apply(n,c(arguments,null,1))},each:function(t,n){return h(n),v(t,n),t},size:function(t){return rn.keys(b(t)).length}});var Gn="any all none count find findAll isEmpty".split(" "),Jn="sum average min max least most".split(" "),Qn=["map","reduce","size"],Kn=Gn.concat(Jn).concat(Qn);!function(){function t(){var t=arguments;return 0<t.length&&!An(t[0])}var n=un.prototype.map;u(un,!0,t,"every,all,some,filter,any,none,find,findIndex",function(t,n){var e=un.prototype[n];t[n]=function(t){var n=V(t);return e.call(this,function(t,e){return n(t,e,this)})}}),i(un,!0,t,{map:function(t){return n.call(this,function(n,e){return G(n,t,this,[n,e,this])})}})}(),function(){un[Bn]="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map(function(t){return t+t.toLowerCase()}).join("");var t={};J("A C E I O S U".split(" "),function(n){var e=n.charAt(0);J(n.slice(1).split(""),function(n){t[n]=e,t[n.toLowerCase()]=e.toLowerCase()})}),un[Vn]=!0,un[Zn]=!0,un[qn]=t}(),st(Gn),st(Jn,!0),L(Qn,T),un.AlphanumericSort=ot;var Xn,te,ne="ampm hour minute second ampm utc offset_sign offset_hours offset_minutes ampm".split(" "),ee="({t})?\\s*(\\d{1,2}(?:[,.]\\d+)?)(?:{h}([0-5]\\d(?:[,.]\\d+)?)?{m}(?::?([0-5]\\d(?:[,.]\\d+)?){s})?\\s*(?:({t})|(Z)|(?:([+-])(\\d{2,2})(?::?(\\d{2,2}))?)?)?|\\s*({t}))",re={},ie,ue,oe,ae=[],se={},ce={yyyy:function(t){return E(t,"FullYear")},yy:function(t){return E(t,"FullYear")%100},ord:function(t){return t=E(t,"Date"),t+F(t)},tz:function(t){return t.getUTCOffset()},isotz:function(t){return t.getUTCOffset(!0)},Z:function(t){return t.getUTCOffset()},ZZ:function(t){return t.getUTCOffset().replace(/(\d{2})$/,":$1")}},fe=[{name:"year",method:"FullYear",k:!0,b:function(t){return 864e5*(365+(t?t.isLeapYear()?1:0:.25))}},{name:"month",error:.919,method:"Month",k:!0,b:function(t,n){var e=30.4375,r;return t&&(r=t.daysInMonth(),n<=r.days()&&(e=r)),864e5*e}},{name:"week",method:"ISOWeek",b:t(6048e5)},{name:"day",error:.958,method:"Date",k:!0,b:t(864e5)},{name:"hour",method:"Hours",b:t(36e5)},{name:"minute",method:"Minutes",b:t(6e4)},{name:"second",method:"Seconds",b:t(1e3)},{name:"millisecond",method:"Milliseconds",b:t(1)}],he={};ct.prototype={getMonth:function(t){return bn(t)?t-1:this.months.indexOf(t)%12},getWeekday:function(t){return this.weekdays.indexOf(t)%7},addFormat:function(t,n,e,r,i){var u=e||[],o=this,a;t=t.replace(/\s+/g,"[,. ]*"),t=t.replace(/\{([^,]+?)\}/g,function(t,n){var r,i,a,s=n.match(/\?$/);a=n.match(/^(\d+)\??$/);var c=n.match(/(\d)(?:-(\d))?/),f=n.replace(/[^a-z]+$/,"");return a?r=o.tokens[a[1]]:o[f]?r=o[f]:o[f+"s"]&&(r=o[f+"s"],c&&(i=[],r.forEach(function(t,n){var e=n%(o.units?8:r.length);e>=c[1]&&e<=(c[2]||c[1])&&i.push(t)}),r=i),r=vt(r)),a?a="(?:"+r+")":(e||u.push(f),a="("+r+")"),s&&(a+="?"),a}),n?(n=zt(o,i),i=["t","[\\s\\u3000]"].concat(o.timeMarker),a=t.match(/\\d\{\d,\d\}\)+\??$/),pt(o,"(?:"+n+")[,\\s\\u3000]+?"+t,ne.concat(u),r),pt(o,t+"(?:[,\\s]*(?:"+i.join("|")+(a?"+":"*")+")"+n+")?",u.concat(ne),r)):pt(o,t,u,r)}},i(an,!1,!0,{create:function(){return Lt(arguments)},past:function(){return Lt(arguments,-1)},future:function(){return Lt(arguments,1)},addLocale:function(t,n){return gt(t,n)},setLocale:function(t){var n=mt(t,!1);return te=n,t&&t!=n.code&&(n.code=t),n},getLocale:function(t){return t?mt(t,!1):te},addFormat:function(t,n,e){pt(mt(e),t,n)}}),i(an,!0,!0,{set:function(){var t=kt(arguments);return jt(this,t[0],t[1])},setWeekday:function(t){return d(t)?void 0:D(this,"Date",E(this,"Date")+t-E(this,"Day"))},setISOWeek:function(t){var n=E(this,"Day")||7;return d(t)?void 0:(this.set({month:0,date:4}),this.set({weekday:1}),t>1&&this.addWeeks(t-1),1!==n&&this.advance({days:n-1}),this.getTime())},getISOWeek:function(){var t;t=this.clone();var n=E(t,"Day")||7;return t.addDays(4-n).reset(),1+In(t.daysSince(t.clone().beginningOfYear())/7)},beginningOfISOWeek:function(){var t=this.getDay();return 0===t?t=-6:1!==t&&(t=1),this.setWeekday(t),this.reset()},endOfISOWeek:function(){return 0!==this.getDay()&&this.setWeekday(7),this.endOfDay()},getUTCOffset:function(t){var n=this._utc?0:this.getTimezoneOffset(),e=!0===t?":":"";return!n&&t?"Z":x(In(-n/60),2,!0)+e+x(xn(n%60),2)},utc:function(t){return s(this,"_utc",!0===t||0===arguments.length),this},isUTC:function(){return!!this._utc||0===this.getTimezoneOffset()},advance:function(){var t=kt(arguments,!0);return jt(this,t[0],t[1],1)},rewind:function(){var t=kt(arguments,!0);return jt(this,t[0],t[1],-1)},isValid:function(){return!isNaN(this.getTime())},isAfter:function(t,n){return this.getTime()>an.create(t).getTime()-(n||0)},isBefore:function(t,n){return this.getTime()<an.create(t).getTime()+(n||0)},isBetween:function(t,n,e){var r=this.getTime();t=an.create(t).getTime();var i=an.create(n).getTime();return n=Dn(t,i),t=Un(t,i),e=e||0,r>n-e&&t+e>r},isLeapYear:function(){var t=E(this,"FullYear");return 0===t%4&&0!==t%100||0===t%400},daysInMonth:function(){return 32-E(new an(E(this,"FullYear"),E(this,"Month"),32),"Date")},format:function(t,n){return Ut(this,t,!1,n)},relative:function(t,n){return Tn(t)&&(n=t,t=null),Ut(this,t,!0,n)},is:function(t,n,e){var r,i;if(this.isValid()){if(Tn(t))switch(t=t.trim().toLowerCase(),i=this.clone().utc(e),!0){case"future"===t:return this.getTime()>wt().getTime();case"past"===t:return this.getTime()<wt().getTime();case"weekday"===t:return 0<E(i,"Day")&&6>E(i,"Day");case"weekend"===t:return 0===E(i,"Day")||6===E(i,"Day");case-1<(r=Xn.weekdays.indexOf(t)%7):return E(i,"Day")===r;case-1<(r=Xn.months.indexOf(t)%12):return E(i,"Month")===r}return Nt(this,t,null,n,e)}},reset:function(t){var n={},e;return t=t||"hours","date"===t&&(t="days"),e=fe.some(function(n){return t===n.name||t===n.name+"s"}),n[t]=t.match(/^days?/)?1:0,e?this.set(n,!0):this},clone:function(){var t=new an(this.getTime());return t.utc(!!this._utc),t}}),i(an,!0,!0,{iso:function(){return this.toISOString()},getWeekday:an.prototype.getDay,getUTCWeekday:an.prototype.getUTCDay}),i(cn,!0,!0,{duration:function(t){return t=mt(t),ft(t,xt(this),"duration")}}),Xn=te=an.addLocale("en",{plural:!0,timeMarker:"at",ampm:"am,pm",months:"January,February,March,April,May,June,July,August,September,October,November,December",weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",
units:"millisecond:|s,second:|s,minute:|s,hour:|s,day:|s,week:|s,month:|s,year:|s",numbers:"one,two,three,four,five,six,seven,eight,nine,ten",articles:"a,an,the",tokens:"the,st|nd|rd|th,of","short":"{Month} {d}, {yyyy}","long":"{Month} {d}, {yyyy} {h}:{mm}{tt}",full:"{Weekday} {Month} {d}, {yyyy} {h}:{mm}:{ss}{tt}",past:"{num} {unit} {sign}",future:"{num} {unit} {sign}",duration:"{num} {unit}",modifiers:[{name:"sign",src:"ago|before",value:-1},{name:"sign",src:"from now|after|from|in|later",value:1},{name:"edge",src:"last day",value:-2},{name:"edge",src:"end",value:-1},{name:"edge",src:"first day|beginning",value:1},{name:"shift",src:"last",value:-1},{name:"shift",src:"the|this",value:0},{name:"shift",src:"next",value:1}],dateParse:["{month} {year}","{shift} {unit=5-7}","{0?} {date}{1}","{0?} {edge} of {shift?} {unit=4-7?}{month?}{year?}"],timeParse:"{num} {unit} {sign};{sign} {num} {unit};{0} {num}{1} {day} of {month} {year?};{weekday?} {month} {date}{1?} {year?};{date} {month} {year};{date} {month};{shift} {weekday};{shift} week {weekday};{weekday} {2?} {shift} week;{num} {unit=4-5} {sign} {day};{0?} {date}{1} of {month};{0?}{month?} {date?}{1?} of {shift} {unit=6-7}".split(";")}),oe=fe.concat().reverse(),ue=fe.concat(),ue.splice(2,1),u(an,!0,!0,fe,function(t,n,e){function r(t){t/=o;var e=t%1,r=n.error||.999;return e&&xn(e%1)>r&&(t=En(t)),0>t?Mn(t):In(t)}var i=n.name,u=yt(i),o=n.b(),a,s;n.j="add"+u+"s",a=function(t,n){return r(this.getTime()-an.create(t,n).getTime())},s=function(t,n){return r(an.create(t,n).getTime()-this.getTime())},t[i+"sAgo"]=s,t[i+"sUntil"]=s,t[i+"sSince"]=a,t[i+"sFromNow"]=a,t[n.j]=function(t,n){var e={};return e[i]=t,this.advance(e,n)},Rt(n,o),3>e&&["Last","This","Next"].forEach(function(n){t["is"+n+u]=function(){return Nt(this,n+" "+i,"en")}}),4>e&&(t["beginningOf"+u]=function(){var t={};switch(i){case"year":t.year=E(this,"FullYear");break;case"month":t.month=E(this,"Month");break;case"day":t.day=E(this,"Date");break;case"week":t.weekday=0}return this.set(t,!0)},t["endOf"+u]=function(){var t={hours:23,minutes:59,seconds:59,milliseconds:999};switch(i){case"year":t.month=11,t.day=31;break;case"month":t.day=this.daysInMonth();break;case"week":t.weekday=6}return this.set(t,!0)})}),Xn.addFormat("([+-])?(\\d{4,4})[-.]?{full_month}[-.]?(\\d{1,2})?",!0,["year_sign","year","month","date"],!1,!0),Xn.addFormat("(\\d{1,2})[-.\\/]{full_month}(?:[-.\\/](\\d{2,4}))?",!0,["date","month","year"],!0),Xn.addFormat("{full_month}[-.](\\d{4,4})",!1,["month","year"]),Xn.addFormat("\\/Date\\((\\d+(?:[+-]\\d{4,4})?)\\)\\/",!1,["timestamp"]),Xn.addFormat(zt(Xn),!1,ne),ae=Xn.g.slice(0,7).reverse(),Xn.g=Xn.g.slice(7).concat(ae),Et("f",function(t){return E(t,"Milliseconds")},!0),Et("s",function(t){return E(t,"Seconds")}),Et("m",function(t){return E(t,"Minutes")}),Et("h",function(t){return E(t,"Hours")%12||12}),Et("H",function(t){return E(t,"Hours")}),Et("d",function(t){return E(t,"Date")}),Et("M",function(t){return E(t,"Month")+1}),function(){function t(t,n){var e=E(t,"Hours");return mt(n).ampm[In(e/12)]||""}It("t",t,1),It("tt",t),It("T",t,1,1),It("TT",t,null,2)}(),function(){function t(t,n){var e=E(t,"Day");return mt(n).weekdays[e]}It("dow",t,3),It("Dow",t,3,1),It("weekday",t),It("Weekday",t,null,1)}(),Mt("mon",0,3),Mt("month",0),Mt("month2",1),Mt("month3",2),ce.ms=ce.f,ce.milliseconds=ce.f,ce.seconds=ce.s,ce.minutes=ce.m,ce.hours=ce.h,ce["24hr"]=ce.H,ce["12hr"]=ce.h,ce.date=ce.d,ce.day=ce.d,ce.year=ce.yyyy,u(an,!0,!0,"short,long,full",function(t,n){t[n]=function(t){return Ut(this,n,!1,t)}}),"".split("").forEach(function(t,n){n>9&&(n=Fn(10,n-9)),re[t]=n}),k(re,Wn),ie=on("([])?(["+Rn+"]+)(?!)","g"),function(){var t=Xn.weekdays.slice(0,7),n=Xn.months.slice(0,12);u(an,!0,!0,"today yesterday tomorrow weekday weekend future past".split(" ").concat(t).concat(n),function(t,n){t["is"+yt(n)]=function(t){return this.is(n,0,t)}})}(),an.utc||(an.utc={create:function(){return Lt(arguments,0,!0)},past:function(){return Lt(arguments,-1,!0)},future:function(){return Lt(arguments,1,!0)}}),i(an,!1,!0,{RFC1123:"{Dow}, {dd} {Mon} {yyyy} {HH}:{mm}:{ss} {tz}",RFC1036:"{Weekday}, {dd}-{Mon}-{yy} {HH}:{mm}:{ss} {tz}",ISO8601_DATE:"{yyyy}-{MM}-{dd}",ISO8601_DATETIME:"{yyyy}-{MM}-{dd}T{HH}:{mm}:{ss}.{fff}{isotz}"}),Wt.prototype.toString=function(){return this.isValid()?this.start+".."+this.end:"Invalid Range"},i(Wt,!0,!0,{isValid:function(){return Ht(this.start)&&Ht(this.end)&&typeof this.start==typeof this.end},span:function(){return this.isValid()?xn((Tn(this.end)?this.end.charCodeAt(0):this.end)-(Tn(this.start)?this.start.charCodeAt(0):this.start))+1:0/0},contains:function(t){return null==t?!1:t.start&&t.end?t.start>=this.start&&t.start<=this.end&&t.end>=this.start&&t.end<=this.end:t>=this.start&&t<=this.end},every:function(t,n){var e,r=this.start,i=this.end,u=r>i,o=r,a=0,s=[];for(An(t)&&(n=t,t=null),t=t||1,bn(r)?e=Yt:Tn(r)?e=Bt:Cn(r)&&(e=t,bn(e)?t=e:(r=e.toLowerCase().match(/^(\d+)?\s?(\w+?)s?$/i),e=parseInt(r[1])||1,r=r[2].slice(0,1).toUpperCase()+r[2].slice(1),r.match(/hour|minute|second/i)?r+="s":"Year"===r?r="FullYear":"Day"===r&&(r="Date"),t=[e,r]),e=Pt),u&&t>0&&(t*=-1);u?o>=i:i>=o;)s.push(o),n&&n(o,a),o=e(o,t),a++;return s},union:function(t){return new Wt(this.start<t.start?this.start:t.start,this.end>t.end?this.end:t.end)},intersect:function(t){return t.start>this.end||t.end<this.start?new Wt(0/0,0/0):new Wt(this.start>t.start?this.start:t.start,this.end<t.end?this.end:t.end)},clone:function(){return new Wt(this.start,this.end)},clamp:function(t){var n=this.start,e=this.end,r=n>e?e:n,n=n>e?n:e;return $t(r>t?r:t>n?n:t)}}),[cn,sn,an].forEach(function(t){i(t,!1,!0,{range:function(n,e){return t.create&&(n=t.create(n),e=t.create(e)),new Wt(n,e)}})}),i(cn,!0,!0,{upto:function(t,n,e){return cn.range(this,t).every(e,n)},clamp:function(t,n){return new Wt(t,n).clamp(this)},cap:function(t){return this.clamp(void 0,t)}}),i(cn,!0,!0,{downto:cn.prototype.upto}),i(un,!1,function(t){return t instanceof Wt},{create:function(t){return t.every()}}),i(Function,!0,!0,{lazy:function(t,n,e){function r(){return u.length<e-(o&&n?1:0)&&u.push([this,arguments]),o||(o=!0,n?a():Zt(r,s,a)),f}var i=this,u=[],o=!1,a,s,c,f;return t=t||1,e=e||1/0,s=Mn(t),c=En(s/t)||1,a=function(){var t=u.length,n;if(0!=t){for(n=Un(t-c,0);t>n;)f=Function.prototype.apply.apply(i,u.shift()),t--;Zt(r,s,function(){o=!1,a()})}},r},throttle:function(t){return this.lazy(t,!0,1)},debounce:function(t){function n(){n.cancel(),Zt(n,t,e,this,arguments)}var e=this;return n},delay:function(t){var n=c(arguments,null,1);return Zt(this,t,this,this,n),this},every:function(t){function n(){e.apply(e,r),Zt(e,t,n)}var e=this,r=arguments,r=1<r.length?c(r,null,1):[];return Zt(e,t,n),e},cancel:function(){var t=this.timers,n;if(On(t))for(;n=t.shift();)clearTimeout(n);return this.n=!0,this},after:function(t){var n=this,e=0,r=[];if(bn(t)){if(0===t)return n.call(),n}else t=1;return function(){var i;return r.push(c(arguments)),e++,e==t?(i=n.call(this,r),e=0,r=[],i):void 0}},once:function(){return this.throttle(1/0,!0)},fill:function(){var t=this,n=c(arguments);return function(){var e=c(arguments);return n.forEach(function(t,n){(null!=t||n>=e.length)&&e.splice(n,0,t)}),t.apply(this,e)}}}),i(cn,!1,!0,{random:function(t,n){var e,r;return 1==arguments.length&&(n=t,t=0),e=Dn(t||0,d(n)?1:n),r=Un(t||0,d(n)?1:n)+1,In(fn.random()*(r-e)+e)}}),i(cn,!0,!0,{log:function(t){return fn.log(this)/(t?fn.log(t):1)},abbr:function(t){return qt(this,t,"kmbt",0,4)},metric:function(t,n){return qt(this,t,"nm kMGTPE",4,d(n)?1:n)},bytes:function(t,n){return qt(this,t,"kMGTPE",0,d(n)?4:n,!0)+"B"},isInteger:function(){return 0==this%1},isOdd:function(){return!isNaN(this)&&!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(t){return 0===this%t},format:function(t,n,e){var r,i,u,o="";for(d(n)&&(n=","),d(e)&&(e="."),r=(bn(t)?O(this,t||0).toFixed(Un(t,0)):this.toString()).replace(/^-/,"").split("."),i=r[0],u=r[1],r=i.length;r>0;r-=3)r<i.length&&(o=n+o),o=i.slice(Un(0,r-3),r)+o;return u&&(o+=e+S("0",(t||0)-u.length)+u),(0>this?"-":"")+o},hex:function(t){return this.pad(t||1,!1,16)},times:function(t){if(t)for(var n=0;this>n;n++)t.call(this,n);return this.toNumber()},chr:function(){return sn.fromCharCode(this)},pad:function(t,n,e){return x(this,t,n,e)},ordinalize:function(){var t=xn(this),t=parseInt(t.toString().slice(-2));return this+F(t)},toNumber:function(){return parseFloat(this,10)}}),function(){function t(t){return function(n){return n?O(this,n,t):t(this)}}i(cn,!0,!0,{ceil:t(Mn),round:t(En),floor:t(In)}),u(cn,!0,!0,"abs,pow,sin,asin,cos,acos,tan,atan,exp,pow,sqrt",function(t,n){t[n]=function(t,e){return fn[n](this,t,e)}})}();var le=["isObject","isNaN"],de="keys values select reject each merge clone equal watch tap has toQueryString".split(" ");i(rn,!1,!0,{watch:function(t,n,e){if(mn){var r=t[n];rn.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){return r},set:function(i){r=e.call(t,n,r,i)}})}}}),i(rn,!1,function(){return 1<arguments.length},{keys:function(t,n){var e=rn.keys(t);return e.forEach(function(e){n.call(t,e,t[e])}),e}}),i(rn,!1,!0,{isObject:function(t){return y(t)},isNaN:function(t){return bn(t)&&t.valueOf()!==t.valueOf()},equal:function(t,n){return N(t,n)},extended:function(t){return new T(t)},merge:function(t,n,e,r){var i,u,o,a,s,c,f;if(t&&"string"!=typeof n)for(i in n)if(m(n,i)&&t){if(a=n[i],s=t[i],c=l(s),u=g(a),o=g(s),f=c&&!1===r?s:a,c&&An(r)&&(f=r.call(n,i,s,a)),e&&(u||o))if(Cn(a))f=new an(a.getTime());else{if(!Sn(a)){o||(t[i]=un.isArray(a)?[]:{}),rn.merge(t[i],a,e,r);continue}f=new on(a.source,M(a))}t[i]=f}return t},values:function(t,n){var e=[];return v(t,function(r,i){e.push(i),n&&n.call(t,i)}),e},clone:function(t,n){var e;if(!g(t))return t;if(e=ln.call(t),Cn(t,e)&&t.clone)return t.clone();if(Cn(t,e)||Sn(t,e))return new t.constructor(t);if(t instanceof T)e=new T;else if(On(t,e))e=[];else{if(!y(t,e))throw new TypeError("Clone must be a basic data type.");e={}}return rn.merge(e,t,n)},fromQueryString:function(t,n){var e=rn.extended();return t=t&&t.toString?t.toString():"",t.replace(/^.*?\?/,"").split("&").forEach(function(t){t=t.split("="),2===t.length&&Vt(e,t[0],decodeURIComponent(t[1]),n)}),e},toQueryString:function(t,n){return Gt(n,t)},tap:function(t,n){var e=n;return An(n)||(e=function(){n&&t[n]()}),e.call(t,t),t},has:function(t,n){return m(t,n)},select:function(t){return Qt(t,arguments,!0)},reject:function(t){return Qt(t,arguments,!1)}}),u(rn,!1,!0,wn,function(t,n){var e="is"+n;le.push(e),t[e]=yn[n]}),i(rn,!1,function(){return 0===arguments.length},{extend:function(){var t=le.concat(de);"undefined"!=typeof Kn&&(t=t.concat(Kn)),L(t,rn)}}),L(de,T),i(on,!1,!0,{escape:function(t){return I(t)}}),i(on,!0,!0,{getFlags:function(){return M(this)},setFlags:function(t){return on(this.source,t)},addFlag:function(t){return this.setFlags(M(this,t))},removeFlag:function(t){return this.setFlags(M(this).replace(t,""))}});var me,ge;i(sn,!0,!1,{repeat:function(t){return t=Kt(t),S(this,t)}}),i(sn,!0,function(t){return Sn(t)||2<arguments.length},{startsWith:function(t){var n=arguments,e=n[1],n=n[2],r=this;return e&&(r=r.slice(e)),d(n)&&(n=!0),e=Sn(t)?t.source.replace("^",""):I(t),on("^"+e,n?"":"i").test(r)},endsWith:function(t){var n=arguments,e=n[1],n=n[2],r=this;return l(e)&&(r=r.slice(0,e)),d(n)&&(n=!0),e=Sn(t)?t.source.replace("$",""):I(t),on(e+"$",n?"":"i").test(r)}}),i(sn,!0,!0,{escapeRegExp:function(){return I(this)},escapeURL:function(t){return t?encodeURIComponent(this):encodeURI(this)},unescapeURL:function(t){return t?decodeURI(this):decodeURIComponent(this)},escapeHTML:function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;")},unescapeHTML:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#x2f;/g,"/").replace(/&amp;/g,"&")},encodeBase64:function(){return me(unescape(encodeURIComponent(this)))},decodeBase64:function(){return decodeURIComponent(escape(ge(this)))},each:function(t,n){var e,r,i;if(An(t)?(n=t,t=/[\s\S]/g):t?Tn(t)?t=on(I(t),"gi"):Sn(t)&&(t=on(t.source,M(t,"g"))):t=/[\s\S]/g,e=this.match(t)||[],n)for(r=0,i=e.length;i>r;r++)e[r]=n.call(this,e[r],r,e)||e[r];return e},shift:function(t){var n="";return t=t||0,this.codes(function(e){n+=sn.fromCharCode(e+t)}),n},codes:function(t){var n=[],e,r;for(e=0,r=this.length;r>e;e++){var i=this.charCodeAt(e);n.push(i),t&&t.call(this,i,e)}return n},chars:function(t){return this.each(t)},words:function(t){return this.trim().each(/\S+/g,t)},lines:function(t){return this.trim().each(/^.*$/gm,t)},paragraphs:function(t){var n=this.trim().split(/[\r\n]{2,}/);return n=n.map(function(n){if(t)var e=t.call(n);return e?e:n})},isBlank:function(){return 0===this.trim().length},has:function(t){return-1!==this.search(Sn(t)?t:I(t))},add:function(t,n){return n=d(n)?this.length:n,this.slice(0,n)+t+this.slice(n)},remove:function(t){return this.replace(t,"")},reverse:function(){return this.split("").reverse().join("")},compact:function(){return this.trim().replace(/([\r\n\s\u3000])+/g,function(t,n){return""===n?n:" "})},at:function(){return j(this,arguments,!0)},from:function(t){return this.slice(en(this,t,!0))},to:function(t){return d(t)&&(t=this.length),this.slice(0,en(this,t))},dasherize:function(){return this.underscore().replace(/_/g,"-")},underscore:function(){return this.replace(/[-\s]+/g,"_").replace(sn.Inflector&&sn.Inflector.acronymRegExp,function(t,n){return(n>0?"_":"")+t.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()},camelize:function(t){return this.underscore().replace(/(^|_)([^_]+)/g,function(n,e,r,i){return n=(n=sn.Inflector)&&n.acronyms[r],n=Tn(n)?n:void 0,i=!1!==t||i>0,n?i?n:n.toLowerCase():i?r.capitalize():r})},spacify:function(){return this.underscore().replace(/_/g," ")},stripTags:function(){var t=this;return f(0<arguments.length?arguments:[""],function(n){t=t.replace(on("</?"+I(n)+"[^<>]*>","gi"),"")}),t},removeTags:function(){var t=this;return f(0<arguments.length?arguments:["\\S+"],function(n){n=on("<("+n+")[^<>]*(?:\\/>|>.*?<\\/\\1>)","gi"),t=t.replace(n,"")}),t},truncate:function(t,n,e){return tn(this,t,n,e)},truncateOnWord:function(t,n,e){return tn(this,t,n,e,!0)},pad:function(t,n){var e,r;return t=Kt(t),e=Un(0,t-this.length)/2,r=In(e),e=Mn(e),Xt(r,n)+this+Xt(e,n)},padLeft:function(t,n){return t=Kt(t),Xt(Un(0,t-this.length),n)+this},padRight:function(t,n){return t=Kt(t),this+Xt(Un(0,t-this.length),n)},first:function(t){return d(t)&&(t=1),this.substr(0,t)},last:function(t){return d(t)&&(t=1),this.substr(0>this.length-t?0:this.length-t)},toNumber:function(t){return A(this,t)},capitalize:function(t){var n;return this.toLowerCase().replace(t?/[^']/g:/^\S/,function(t){var e=t.toUpperCase(),r;return r=n?t:e,n=e!==t,r})},assign:function(){var t={};return f(arguments,function(n,e){g(n)?k(t,n):t[e+1]=n}),this.replace(/\{([^{]+?)\}/g,function(n,e){return m(t,e)?t[e]:n})}}),i(sn,!0,!0,{insert:sn.prototype.add}),function(t){if(hn.btoa)me=hn.btoa,ge=hn.atob;else{var n=/[^A-Za-z0-9\+\/\=]/g;me=function(n){var e="",r,i,u,o,a,s,c=0;do r=n.charCodeAt(c++),i=n.charCodeAt(c++),u=n.charCodeAt(c++),o=r>>2,r=(3&r)<<4|i>>4,a=(15&i)<<2|u>>6,s=63&u,isNaN(i)?a=s=64:isNaN(u)&&(s=64),e=e+t.charAt(o)+t.charAt(r)+t.charAt(a)+t.charAt(s);while(c<n.length);return e},ge=function(e){var r="",i,u,o,a,s,c=0;if(e.match(n))throw Error("String contains invalid base64 characters");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),s=t.indexOf(e.charAt(c++)),i=i<<2|u>>4,u=(15&u)<<4|a>>2,o=(3&a)<<6|s,r+=sn.fromCharCode(i),64!=a&&(r+=sn.fromCharCode(u)),64!=s&&(r+=sn.fromCharCode(o));while(c<e.length);return r}}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")}()}();

!function(){Categories=new Mongo.Collection("categories"),Categories.parsePathIntoArray=function(e){return e.split("/").filter(function(e){return""!==e?!0:void 0})},Categories.setSchema=function(e,t){Categories.update({_id:Categories.findOrCreateByCategoryPath(e)},{$set:{schema:t}})},Categories.findCategoryByPath=function(e){var t=Categories.findOne({path:Categories.parsePathIntoArray(e)});if(null==t)throw new Error("Category doesn't exist @ "+e);return t},Categories.findOrCreateByCategoryPath=function(e,t){e=e.split("/").filter(function(e){return""!==e?!0:void 0}),t=t||[];var r=Categories.findOne({path:e}),i;return i=null==r?Categories.insert({path:e,schema:t}):r._id},Metrics=new Mongo.Collection("metrics"),Metrics.findMetricByPath=function(e){var t=e.split("/").filter(function(e){return""!==e?!0:void 0}),r=t.pop(),i=Metrics.findOne({categoryId:Categories.findOne({path:t})._id,name:r});if(null==i)throw new Error("Metric doesn't exist @ "+e);return i},Records=new Mongo.Collection("records"),Records.addRecord=function(e,t,r){var i={timestamp:t||+new Date,categoryId:Categories.findOrCreateByCategoryPath(e),fields:r};Records.insert(i,function(e,t){if(e)throw new Error("Error while inserting category: "+e.toString())})}}();

!function(){!function e(t,r,n){function i(a,l){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function l(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,o,s,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],l(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),s=1;n>s;s++)o[s-1]=arguments[s];r.apply(this,o)}else if(a(r)){for(n=arguments.length,o=new Array(n-1),s=1;n>s;s++)o[s-1]=arguments[s];for(u=r.slice(),n=u.length,s=0;n>s;s++)u[s].apply(this,o)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var r;r=l(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,o,l;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],o=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(l=o;l-->0;)if(r[l]===t||r[l].listener&&r[l].listener===t){n=l;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t,r){(function(t){t.jsEditor=e("./")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":3}],3:[function(e,t,r){function n(e){var t=this;e||(e={}),e.container||(e.container=document.body);var r=e.container.querySelector(".left"),n=e.container.querySelector(".right");r&&(e.container=r);var i={value:"// hello world\n",mode:"javascript",lineNumbers:!0,autofocus:window===window.top,matchBrackets:!0,indentWithTabs:!1,smartIndent:!0,tabSize:2,indentUnit:2,updateInterval:500,dragAndDrop:!0};this.opts=a({},i,e),this.editor=s(this.opts.container,this.opts),this.editor.setOption("theme","mistakes"),this.editor.setCursor(this.editor.lineCount(),0),this.editor.on("change",function(e){t.emit("change"),t.interval&&clearTimeout(t.interval),t.interval=setTimeout(t.update.bind(t),t.opts.updateInterval)}),this.element=this.editor.getWrapperElement(),this.errorLines=[],n&&(this.results=s(n,{mode:"javascript",tabSize:2,readOnly:"nocursor"}),this.results.setOption("theme","mistakes")),this.update(),this.opts.dragAndDrop&&this.addDropHandler()}var i=e("events"),o=e("inherits"),a=e("extend"),l=e("esprima"),s=e("codemirror");e("./javascript")(s),t.exports=function(e){return new n(e)},o(n,i.EventEmitter),n.prototype.update=function(){var e=this.validate(this.editor.getValue());return this.emit("valid",e),e},n.prototype.validate=function(e){for(var t=this;t.errorLines.length>0;)t.editor.removeLineClass(t.errorLines.shift().num,"background","errorLine");try{for(var r=l.parse(e,{tolerant:!0,loc:!0}).errors,n=0;n<r.length;n++){var i=r[n],o=i.lineNumber-1;t.errorLines.push({num:o,message:i.message}),t.editor.addLineClass(o,"background","errorLine")}}catch(i){var o=i.lineNumber-1;t.errorLines.push({num:o,message:i.message}),t.editor.addLineClass(o,"background","errorLine")}if(this.results){if(0===t.errorLines.length)return this.results.setValue("");for(var a=t.errorLines[t.errorLines.length-1].num,s=[],n=0;a>n;n++)s[n]="";t.errorLines.map(function(e){s[e.num]=e.message}),this.results.setValue(s.join("\n"))}return 0===t.errorLines.length},n.prototype.addDropHandler=function(){var e=this;this.element.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var r=t.dataTransfer.files[0],n=new FileReader;n.onload=function(t){e.editor.setValue(t.target.result)},n.readAsText(r)},!1)},n.prototype.getValue=function(){return this.editor.getValue()},n.prototype.setValue=function(e){return this.editor.setValue(e)}},{"./javascript":4,codemirror:5,esprima:6,events:1,extend:7,inherits:8}],4:[function(e,t,r){t.exports=function(e){e.defineMode("javascript",function(t,r){function n(e,t,r){return t.tokenize=r,r(e,t)}function i(e,t){for(var r=!1,n;null!=(n=e.next());){if(n==t&&!r)return!1;r=!r&&"\\"==n}return r}function o(e,t,r){return _=e,G=r,t}function a(e,t){var r=e.next();if('"'==r||"'"==r)return n(e,t,l(r));if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if(/\d/.test(r)||"-"==r&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return e.eat("*")?n(e,t,s):e.eat("/")?(e.skipToEnd(),o("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(i(e,"/"),e.eatWhile(/[gimy]/),o("regexp","string-2")):(e.eatWhile(U),o("operator",null,e.current()));if("#"==r)return e.skipToEnd(),o("error","error");if(U.test(r))return e.eatWhile(U),o("operator",null,e.current());e.eatWhile(/[\w\$_]/);var a=e.current(),u=j.propertyIsEnumerable(a)&&j[a];return u&&"."!=t.lastType?o(u.type,u.style,a):o("variable","variable",a)}function l(e){return function(t,r){return i(t,e)||(r.tokenize=a),o("string","string")}}function s(e,t){for(var r=!1,n;n=e.next();){if("/"==n&&r){t.tokenize=a;break}r="*"==n}return o("comment","comment")}function u(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function c(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0}function f(e,t,r,n,i){var o=e.cc;for(X.state=e,X.stream=i,X.marked=null,X.cc=o,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():z?w:x;if(a(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return X.marked?X.marked:"variable"==r&&c(e,n)?"variable-2":t}}}function p(){for(var e=arguments.length-1;e>=0;e--)X.cc.push(arguments[e])}function h(){return p.apply(null,arguments),!0}function d(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var r=X.state;if(r.context){if(X.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;r.globalVars={name:e,next:r.globalVars}}}function m(){X.state.context={prev:X.state.context,vars:X.state.localVars},X.state.localVars=Y}function v(){X.state.localVars=X.state.context.vars,X.state.context=X.state.context.prev}function g(e,t){var r=function(){var r=X.state;r.lexical=new u(r.indented,X.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function y(){var e=X.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function b(e){return function(t){return t==e?h():";"==e?p():h(arguments.callee)}}function x(e){return"var"==e?h(g("vardef"),T,b(";"),y):"keyword a"==e?h(g("form"),w,x,y):"keyword b"==e?h(g("form"),x,y):"{"==e?h(g("}"),A,y):";"==e?h():"function"==e?h(F):"for"==e?h(g("form"),b("("),g(")"),D,b(")"),y,x,y):"variable"==e?h(g("stat"),C):"switch"==e?h(g("form"),w,g("}","switch"),b("{"),A,y,y):"case"==e?h(w,b(":")):"default"==e?h(b(":")):"catch"==e?h(g("form"),m,b("("),R,b(")"),x,y,v):p(g("stat"),w,b(";"),y)}function w(e){return K.hasOwnProperty(e)?h(S):"function"==e?h(F):"keyword c"==e?h(L):"("==e?h(g(")"),L,b(")"),y,S):"operator"==e?h(w):"["==e?h(g("]"),M(w,"]"),y,S):"{"==e?h(g("}"),M(E,"}"),y,S):h()}function L(e){return e.match(/[;\}\)\],]/)?p():p(w)}function S(e,t){if("operator"==e)return/\+\+|--/.test(t)?h(S):"?"==t?h(w,b(":"),w):h(w);if(";"!=e)return"("==e?h(g(")"),M(w,")"),y,S):"."==e?h(k,S):"["==e?h(g("]"),w,b("]"),y,S):void 0}function C(e){return":"==e?h(y,x):p(S,b(";"),y)}function k(e){return"variable"==e?(X.marked="property",h()):void 0}function E(e){return"variable"==e?X.marked="property":("number"==e||"string"==e)&&(X.marked=e+" property"),K.hasOwnProperty(e)?h(b(":"),w):void 0}function M(e,t){function r(n){return","==n?h(e,r):n==t?h():h(b(t))}return function(n){return n==t?h():p(e,r)}}function A(e){return"}"==e?h():p(x,A)}function N(e){return":"==e?h(O):p()}function O(e){return"variable"==e?(X.marked="variable-3",h()):p()}function T(e,t){return"variable"==e?(d(t),V?h(N,I):h(I)):p()}function I(e,t){return"="==t?h(w,I):","==e?h(T):void 0}function D(e){return"var"==e?h(T,b(";"),W):h(";"==e?W:"variable"==e?P:W)}function P(e,t){return"in"==t?h(w):h(S,W)}function W(e,t){return";"==e?h(H):"in"==t?h(w):h(w,b(";"),H)}function H(e){")"!=e&&h(w)}function F(e,t){return"variable"==e?(d(t),h(F)):"("==e?h(g(")"),m,M(R,")"),y,x,v):void 0}function R(e,t){return"variable"==e?(d(t),V?h(N):h()):void 0}var B=t.indentUnit,z=r.json,V=r.typescript,j=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":t,"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o};if(V){var l={type:"variable",style:"variable-3"},s={"interface":e("interface"),"class":e("class"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),"super":e("super"),string:l,number:l,bool:l,any:l};for(var u in s)a[u]=s[u]}return a}(),U=/[+\-*&%=<>!?|~^]/,_,G,K={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},X={state:null,column:null,marked:null,cc:null},Y={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){return{tokenize:a,lastType:null,cc:[],lexical:new u((e||0)-B,0,"block",!1),localVars:r.localVars,globalVars:r.globalVars,context:r.localVars&&{vars:r.localVars},indented:0}},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==_?r:(t.lastType=_,f(t,r,_,G,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var n=r&&r.charAt(0),i=t.lexical;"stat"==i.type&&"}"==n&&(i=i.prev);var o=i.type,l=n==o;return"vardef"==o?i.indented+("operator"==t.lastType||","==t.lastType?4:0):"form"==o&&"{"==n?i.indented:"form"==o?i.indented+B:"stat"==o?i.indented+("operator"==t.lastType||","==t.lastType?B:0):"switch"!=i.info||l?i.align?i.column+(l?0:1):i.indented+(l?0:B):i.indented+(/^(?:case|default)\b/.test(r)?B:2*B)},electricChars:":{}",jsonMode:z}}),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}},{}],5:[function(e,t,r){!function(){"use strict";function e(t,n){if(!(this instanceof e))return new e(t,n);this.options=n=n||{};for(var i in _n)!n.hasOwnProperty(i)&&_n.hasOwnProperty(i)&&(n[i]=_n[i]);h(n);var o="string"==typeof n.value?0:n.value.first,a=this.display=r(t,o);a.wrapper.CodeMirror=this,c(this),n.autofocus&&!En&&se(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Fr},s(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=n.value;"string"==typeof l&&(l=new ri(n.value,n.mode)),ee(this,or)(this,l),hn&&setTimeout(Kr(le,this,!0),20),ce(this);var u;try{u=document.activeElement==a.input}catch(f){}u||n.autofocus&&!En?setTimeout(Kr(Ee,this),20):Me(this),ee(this,function(){for(var e in Un)Un.propertyIsEnumerable(e)&&Un[e](this,n[e],Gn);for(var t=0;t<qn.length;++t)qn[t](this)})()}function r(e,t){var r={},n=r.input=qr("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none;");vn?n.style.width="1000px":n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),r.inputDiv=qr("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=qr("div",[qr("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=qr("div",[qr("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=qr("div",null,"CodeMirror-scrollbar-filler"),r.lineDiv=qr("div"),r.selectionDiv=qr("div",null,null,"position: relative; z-index: 1"),r.cursor=qr("div","","CodeMirror-cursor"),r.otherCursor=qr("div","","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=qr("div",null,"CodeMirror-measure"),r.lineSpace=qr("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=qr("div",[qr("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=qr("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=qr("div",null,null,"position: absolute; height: "+li+"px; width: 1px;"),r.gutters=qr("div",null,"CodeMirror-gutters"),r.lineGutter=null;var i=qr("div",[r.sizer,r.heightForcer,r.gutters],null,"position: relative; min-height: 100%");return r.scroller=qr("div",[i],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=qr("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.scroller],"CodeMirror"),dn&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),e.appendChild?e.appendChild(r.wrapper):e(r.wrapper),kn&&(n.style.width="0px"),vn||(r.scroller.draggable=!0),wn?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):dn&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=t,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new Fr,r.draggingText=!1,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.frontier=t.doc.first,I(t,100),t.state.modeGen++,t.curOp&&ne(t)}function i(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),p(e)),a(e),ne(e),U(e),setTimeout(function(){d(e.display,e.doc.height)},100)}function o(e){var t=$(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Z(e.display)-3);return function(i){return Wt(e.doc,i)?0:r?(Math.ceil(i.text.length/n)||1)*t:t}}function a(e){var t=e.doc,r=o(e);t.iter(function(e){var t=r(e);t!=e.height&&ur(e,t)})}function l(e){var t=Zn[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),U(e)}function u(e){c(e),ne(e)}function c(e){var t=e.display.gutters,r=e.options.gutters;$r(t);for(var n=0;n<r.length;++n){var i=r[n],o=t.appendChild(qr("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none"}function f(e,t){if(0==t.height)return 0;for(var r=t.text.length,n,i=t;n=It(i);){var o=n.find();i=ar(e,o.from.line),r+=o.from.ch-o.to.ch}for(i=t;n=Dt(i);){var o=n.find();r-=i.text.length-o.from.ch,i=ar(e,o.to.line),r+=i.text.length-o.to.ch}return r}function p(e){var t=e.display,r=e.doc;t.maxLine=ar(r,r.first),t.maxLineLength=f(r,t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var n=f(r,e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function h(e){for(var t=!1,r=0;r<e.gutters.length;++r)"CodeMirror-linenumbers"==e.gutters[r]&&(e.lineNumbers?t=!0:e.gutters.splice(r--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function d(e,t){var r=t+2*H(e);e.sizer.style.minHeight=e.heightForcer.style.top=r+"px";var n=Math.max(r,e.scroller.scrollHeight),i=e.scroller.scrollWidth>e.scroller.clientWidth,o=n>e.scroller.clientHeight;o?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=i?en(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=n-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",i?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=o?en(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",i&&o?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=en(e.measure)+"px"):e.scrollbarFiller.style.display="",Ln&&0===en(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Sn?"18px":"12px")}function m(e,t,r){var n=e.scroller.scrollTop,i=e.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-H(e));var o=Math.ceil(n+i);return{from:fr(t,n),to:fr(t,o)}}function v(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=b(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,i=r+"px",o=t.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var a=0,l=o.alignable;a<l.length;++a)l[a].style.left=i;e.options.fixedGutter&&(t.gutters.style.left=r+n+"px")}}function g(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=y(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(qr("div",[qr("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a),n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function y(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function b(e){return Jr(e.scroller).left-Jr(e.sizer).left}function x(e,t,r){var n=e.display.showingFrom,i=e.display.showingTo,o=w(e,t,r);return o&&(Pr(e,"update",e),(e.display.showingFrom!=n||e.display.showingTo!=i)&&Pr(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),A(e),d(e.display,e.doc.height),o}function w(e,t,r){var n=e.display,i=e.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=i.first,void(n.viewOffset=0);var o=m(n,i,r);if(!(0==t.length&&o.from>n.showingFrom&&o.to<n.showingTo)){g(e)&&(t=[{from:i.first,to:i.first+i.size}]);var a=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";n.scrollbarH.style.left=e.options.fixedGutter?a:"0";var l=1/0;if(e.options.lineNumbers)for(var s=0;s<t.length;++s)if(t[s].diff){l=t[s].from;break}var u=i.first+i.size,c=Math.max(o.from-e.options.viewportMargin,i.first),f=Math.min(u,o.to+e.options.viewportMargin);if(n.showingFrom<c&&c-n.showingFrom<20&&(c=Math.max(i.first,n.showingFrom)),n.showingTo>f&&n.showingTo-f<20&&(f=Math.min(u,n.showingTo)),Dn)for(c=cr(Pt(i,ar(i,c)));u>f&&Wt(i,ar(i,f));)++f;var p=[{from:Math.max(n.showingFrom,i.first),to:Math.min(n.showingTo,u)}];if(p=p[0].from>=p[0].to?[]:S(p,t),Dn)for(var s=0;s<p.length;++s)for(var h=p[s],d;d=Dt(ar(i,h.to-1));){var v=d.find().from.line;if(!(v>h.from)){p.splice(s--,1);break}h.to=v}for(var y=0,s=0;s<p.length;++s){var h=p[s];h.from<c&&(h.from=c),h.to>f&&(h.to=f),h.from>=h.to?p.splice(s--,1):y+=h.to-h.from}if(y==f-c&&c==n.showingFrom&&f==n.showingTo)return void L(e);p.sort(function(e,t){return e.from-t.from});var b=document.activeElement;.7*(f-c)>y&&(n.lineDiv.style.display="none"),k(e,c,f,p,l),n.lineDiv.style.display="",document.activeElement!=b&&b.offsetHeight&&b.focus();var x=c!=n.showingFrom||f!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;x&&(n.lastSizeC=n.wrapper.clientHeight),n.showingFrom=c,n.showingTo=f,I(e,100);for(var C=n.lineDiv.offsetTop,E=n.lineDiv.firstChild,M;E;E=E.nextSibling)if(E.lineObj){if(dn){var A=E.offsetTop+E.offsetHeight;M=A-C,C=A}else{var N=Jr(E);M=N.bottom-N.top}var O=E.lineObj.height-M;if(2>M&&(M=$(n)),O>.001||-.001>O){ur(E.lineObj,M);var T=E.lineObj.widgets;if(T)for(var s=0;s<T.length;++s)T[s].height=T[s].node.offsetHeight}}return L(e),m(n,i,r).to>f&&w(e,[],r),!0}}function L(e){var t=e.display.viewOffset=pr(e,ar(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function S(e,t){for(var r=0,n=t.length||0;n>r;++r){for(var i=t[r],o=[],a=i.diff||0,l=0,s=e.length;s>l;++l){var u=e[l];i.to<=u.from&&i.diff?o.push({from:u.from+a,to:u.to+a}):i.to<=u.from||i.from>=u.to?o.push(u):(i.from>u.from&&o.push({from:u.from,to:i.from}),i.to<u.to&&o.push({from:i.to+a,to:u.to+a}))}e=o}return e}function C(e){for(var t=e.display,r={},n={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[e.options.gutters[o]]=i.offsetLeft,n[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:b(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function k(e,t,r,n,i){function o(t){var r=t.nextSibling;return vn&&Mn&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),r}var a=C(e),l=e.display,s=e.options.lineNumbers;n.length||vn&&e.display.currentWheelTarget||$r(l.lineDiv);var u=l.lineDiv,c=u.firstChild,f=n.shift(),p=t;for(e.doc.iter(t,r,function(t){if(f&&f.to==p&&(f=n.shift()),Wt(e.doc,t)){if(0!=t.height&&ur(t,0),t.widgets&&c.previousSibling)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].showIfHidden){var l=c.previousSibling;if(/pre/i.test(l.nodeName)){var h=qr("div",null,null,"position: relative");l.parentNode.replaceChild(h,l),h.appendChild(l),l=h}var d=l.appendChild(qr("div",[t.widgets[r].node],"CodeMirror-linewidget"));M(t.widgets[r],d,l,a)}}else if(f&&f.from<=p&&f.to>p){for(;c.lineObj!=t;)c=o(c);s&&p>=i&&c.lineNumber&&Qr(c.lineNumber,y(e.options,p)),c=c.nextSibling}else{if(t.widgets)for(var m=0,v=c,g;v&&20>m;++m,v=v.nextSibling)if(v.lineObj==t&&/div/i.test(v.nodeName)){g=v;break}var b=E(e,t,p,a,g);if(b!=g)u.insertBefore(b,c);else{for(;c!=g;)c=o(c);c=c.nextSibling}b.lineObj=t}++p});c;)c=o(c)}function E(e,t,r,n,i){var o=$t(e,t),a=t.gutterMarkers,l=e.display,s;if(!(e.options.lineNumbers||a||t.bgClass||t.wrapClass||t.widgets))return o;if(i){i.alignable=null;for(var u=!0,c=0,f=i.firstChild,p;f;f=p)if(p=f.nextSibling,/\bCodeMirror-linewidget\b/.test(f.className)){for(var h=0,d=!0;h<t.widgets.length;++h){var m=t.widgets[h],v=!1;if(m.above||(v=d,d=!1),m.node==f.firstChild){M(m,f,i,n),++c,v&&i.insertBefore(o,f);break}}if(h==t.widgets.length){u=!1;break}}else i.removeChild(f);u&&c==t.widgets.length&&(s=i,i.className=t.wrapClass||"")}if(s||(s=qr("div",null,t.wrapClass,"position: relative"),s.appendChild(o)),t.bgClass&&s.insertBefore(qr("div",null,t.bgClass+" CodeMirror-linebackground"),s.firstChild),e.options.lineNumbers||a){var g=s.insertBefore(qr("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),s.firstChild);if(e.options.fixedGutter&&(s.alignable||(s.alignable=[])).push(g),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(s.lineNumber=g.appendChild(qr("div",y(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),a)for(var b=0;b<e.options.gutters.length;++b){var x=e.options.gutters[b],w=a.hasOwnProperty(x)&&a[x];w&&g.appendChild(qr("div",[w],"CodeMirror-gutter-elt","left: "+n.gutterLeft[x]+"px; width: "+n.gutterWidth[x]+"px"))}}if(dn&&(s.style.zIndex=2),t.widgets&&s!=i)for(var h=0,L=t.widgets;h<L.length;++h){var m=L[h],S=qr("div",[m.node],"CodeMirror-linewidget");M(m,S,s,n),m.above?s.insertBefore(S,e.options.lineNumbers&&0!=t.height?g:o):s.appendChild(S),Pr(m,"redraw")}return s}function M(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function A(e){var t=e.display,r=Ve(e.doc.sel.from,e.doc.sel.to);r||e.options.showCursorWhenSelecting?N(e):t.cursor.style.display=t.otherCursor.style.display="none",r?t.selectionDiv.style.display="none":O(e);var n=K(e,e.doc.sel.head,"div"),i=Jr(t.wrapper),o=Jr(t.lineDiv);t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}function N(e){var t=e.display,r=K(e,e.doc.sel.head,"div");t.cursor.style.left=r.left+"px",t.cursor.style.top=r.top+"px",t.cursor.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",t.cursor.style.display="",r.other?(t.otherCursor.style.display="",t.otherCursor.style.left=r.other.left+"px",t.otherCursor.style.top=r.other.top+"px",t.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):t.otherCursor.style.display="none"}function O(e){function t(e,t,r,n){0>t&&(t=0),a.appendChild(qr("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==r?l-e:r)+"px; height: "+(n-t)+"px"))}function r(r,n,o,a){function u(t){return G(e,ze(r,t),"div",c)}var c=ar(i,r),f=c.text.length,p=a?1/0:-(1/0);return rn(hr(c),n||0,null==o?f:o,function(e,r,i){var c=u("rtl"==i?r-1:e),h=u("rtl"==i?e:r-1),d=c.left,m=h.right;h.top-c.top>3&&(t(d,c.top,null,c.bottom),d=s,c.bottom<h.top&&t(d,c.bottom,null,h.top)),null==o&&r==f&&(m=l),null==n&&0==e&&(d=s),p=a?Math.min(h.top,p):Math.max(h.bottom,p),s+1>d&&(d=s),t(d,h.top,m-d,h.bottom)}),p}var n=e.display,i=e.doc,o=e.doc.sel,a=document.createDocumentFragment(),l=n.lineSpace.offsetWidth,s=F(e.display);if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{for(var u=ar(i,o.from.line),c=u,f,p=[o.from.line,o.from.ch],h;f=Dt(c);){var d=f.find();if(p.push(d.from.ch,d.to.line,d.to.ch),d.to.line==o.to.line){p.push(o.to.ch),h=!0;break}c=ar(i,d.to.line)}if(h)for(var m=0;m<p.length;m+=3)r(p[m],p[m+1],p[m+2]);else{var v,g,y=ar(i,o.to.line);v=o.from.ch?r(o.from.line,o.from.ch,null,!1):pr(e,u)-n.viewOffset,g=o.to.ch?r(o.to.line,It(y)?null:0,o.to.ch,!0):pr(e,y)-n.viewOffset,g>v&&t(s,v,null,g)}}Zr(n.selectionDiv,a),n.selectionDiv.style.display=""}function T(e){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.offsetHeight&&(t.cursor.style.visibility=t.otherCursor.style.visibility=(r=!r)?"":"hidden")},e.options.cursorBlinkRate)}function I(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,Kr(D,e))}function D(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.showingTo)){var r=+new Date+e.options.workTime,n=pt(t.mode,W(e,t.frontier)),i=[],o;t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(a){if(t.frontier>=e.display.showingFrom){var l=a.styles;a.styles=Kt(e,a,n);for(var s=!l||l.length!=a.styles.length,u=0;!s&&u<l.length;++u)s=l[u]!=a.styles[u];s&&(o&&o.end==t.frontier?o.end++:i.push(o={start:t.frontier,end:t.frontier+1})),a.stateAfter=pt(t.mode,n)}else Yt(e,a,n),a.stateAfter=t.frontier%5==0?pt(t.mode,n):null;return++t.frontier,+new Date>r?(I(e,e.options.workDelay),!0):void 0}),i.length&&ee(e,function(){for(var e=0;e<i.length;++e)ne(this,i[e].start,i[e].end)})()}}function P(e,t){for(var r,n,i=e.doc,o=t,a=t-100;o>a;--o){if(o<=i.first)return i.first;var l=ar(i,o-1);if(l.stateAfter)return o;var s=Rr(l.text,null,e.options.tabSize);(null==n||r>s)&&(n=o-1,r=s)}return n}function W(e,t){var r=e.doc,n=e.display;if(!r.mode.startState)return!0;var i=P(e,t),o=i>r.first&&ar(r,i-1).stateAfter;return o=o?pt(r.mode,o):ht(r.mode),r.iter(i,t,function(a){Yt(e,a,o);var l=i==t-1||i%5==0||i>=n.showingFrom&&i<n.showingTo;a.stateAfter=l?pt(r.mode,o):null,++i}),o}function H(e){return e.lineSpace.offsetTop}function F(e){var t=Zr(e.measure,qr("pre",null,null,"text-align: left")).appendChild(qr("span","x"));return t.offsetLeft}function R(e,t,r,n){var i=-1;n=n||z(e,t);for(var o=r;;o+=i){var a=n[o];if(a)break;0>i&&0==o&&(i=1)}return{left:r>o?a.right:a.left,right:o>r?a.left:a.right,top:a.top,bottom:a.bottom}}function B(e,t){for(var r=e.display.measureLineCache,n=0;n<r.length;++n){var i=r[n];if(i.text==t.text&&i.markedSpans==t.markedSpans&&e.display.scroller.clientWidth==i.width&&i.classes==t.textClass+"|"+t.bgClass+"|"+t.wrapClass)return i.measure}}function z(e,t){var r=B(e,t);if(!r){r=V(e,t);var n=e.display.measureLineCache,i={text:t.text,width:e.display.scroller.clientWidth,markedSpans:t.markedSpans,measure:r,classes:t.textClass+"|"+t.bgClass+"|"+t.wrapClass};16==n.length?n[++e.display.measureLineCachePos%16]=i:n.push(i)}return r}function V(e,t){var r=e.display,n=Gr(t.text.length),i=$t(e,t,n);if(hn&&!dn&&!e.options.lineWrapping&&i.childNodes.length>100){for(var o=document.createDocumentFragment(),a=10,l=i.childNodes.length,s=0,u=Math.ceil(l/a);u>s;++s){for(var c=qr("div",null,null,"display: inline-block"),f=0;a>f&&l;++f)c.appendChild(i.firstChild),--l;o.appendChild(c)}i.appendChild(o)}Zr(r.measure,i);var p=Jr(r.lineDiv),h=[],d=Gr(t.text.length),m=i.offsetHeight;

mn&&r.measure.first!=i&&Zr(r.measure,i);for(var s=0,v;s<n.length;++s)if(v=n[s]){for(var g=Jr(v),y=Math.max(0,g.top-p.top),b=Math.min(g.bottom-p.top,m),f=0;f<h.length;f+=2){var x=h[f],w=h[f+1];if(!(x>b||y>w)&&(y>=x&&w>=b||x>=y&&b>=w||Math.min(b,w)-Math.max(y,x)>=b-y>>1)){h[f]=Math.min(y,x),h[f+1]=Math.max(b,w);break}}f==h.length&&h.push(y,b);var L=g.right;v.measureRight&&(L=Jr(v.measureRight).left),d[s]={left:g.left-p.left,right:L-p.left,top:f}}for(var s=0,v;s<d.length;++s)if(v=d[s]){var S=v.top;v.top=h[S],v.bottom=h[S+1]}return d}function j(e,t){var r=!1;if(t.markedSpans)for(var n=0;n<t.markedSpans;++n){var i=t.markedSpans[n];!i.collapsed||null!=i.to&&i.to!=t.text.length||(r=!0)}var o=!r&&B(e,t);if(o)return R(e,t,t.text.length,o).right;var a=$t(e,t),l=a.appendChild(tn(e.display.measure));return Zr(e.display.measure,a),Jr(l).right-Jr(e.display.lineDiv).left}function U(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.display.maxLineChanged=!0,e.display.lineNumChars=null}function _(e,t,r,n){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=zt(t.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=pr(e,t);if("local"!=n&&(a-=e.display.viewOffset),"page"==n){var l=Jr(e.display.lineSpace);a+=l.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var s=l.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);r.left+=s,r.right+=s}return r.top+=a,r.bottom+=a,r}function G(e,t,r,n){return n||(n=ar(e.doc,t.line)),_(e,n,R(e,n,t.ch),r)}function K(e,t,r,n,i){function o(t,o){var a=R(e,n,t,i);return o?a.left=a.right:a.right=a.left,_(e,n,a,r)}n=n||ar(e.doc,t.line),i||(i=z(e,n));var a=hr(n),l=t.ch;if(!a)return o(l);for(var s,u,c=a[0].level,f=0;f<a.length;++f){var p=a[f],h=p.level%2,d,m;if(p.from<l&&p.to>l)return o(l,h);var v=h?p.to:p.from,g=h?p.from:p.to;if(v==l)m=f&&p.level<(d=a[f-1]).level?o(d.level%2?d.from:d.to-1,!0):o(h&&p.from!=p.to?l-1:l),h==c?s=m:u=m;else if(g==l){var d=f<a.length-1&&a[f+1];if(!h&&d&&d.from==d.to)continue;m=d&&p.level<d.level?o(d.level%2?d.to-1:d.from):o(h?l:l-1,!0),h==c?s=m:u=m}}return c&&!l&&(u=o(a[0].to-1)),s?(u&&(s.other=u),s):u}function X(e,t,r){var n=new ze(e,t);return r&&(n.outside=!0),n}function Y(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,0>r)return X(n.first,0,!0);var i=fr(n,r),o=n.first+n.size-1;if(i>o)return X(n.first+n.size-1,ar(n,o).text.length,!0);for(0>t&&(t=0);;){var a=ar(n,i),l=q(e,a,i,t,r),s=Dt(a),u=s&&s.find();if(!(s&&l.ch>=u.from.ch))return l;i=u.to.line}}function q(e,t,r,n,i){function o(n){var i=K(e,ze(r,n),"line",t,u);return l=!0,a>i.bottom?Math.max(0,i.left-s):a<i.top?i.left+s:(l=!1,i.left)}var a=i-pr(e,t),l=!1,s=e.display.wrapper.clientWidth,u=z(e,t),c=hr(t),f=t.text.length,p=an(t),h=ln(t),d=o(p),m=l,v=o(h),g=l;if(n>v)return X(r,h,g);for(;;){if(c?h==p||h==cn(t,p,1):1>=h-p){for(var y=v-n>n-d,b=y?p:h;fi.test(t.text.charAt(b));)++b;var x=X(r,b,y?m:g);return x.after=y,x}var w=Math.ceil(f/2),L=p+w;if(c){L=p;for(var S=0;w>S;++S)L=cn(t,L,1)}var C=o(L);C>n?(h=L,v=C,(g=l)&&(v+=1e3),f-=w):(p=L,d=C,m=l,f=w)}}function $(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=qr("pre");for(var t=0;49>t;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(qr("br"));Pn.appendChild(document.createTextNode("x"))}Zr(e.measure,Pn);var r=Pn.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),$r(e.measure),r||1}function Z(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=qr("span","x"),r=qr("pre",[t]);Zr(e.measure,r);var n=t.offsetWidth;return n>2&&(e.cachedCharWidth=n),n||10}function Q(e){e.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Wn},ai++||(oi=[])}function J(e){var t=e.curOp,r=e.doc,n=e.display;if(e.curOp=null,t.updateMaxLine&&p(e),n.maxLineChanged&&!e.options.lineWrapping){var i=j(e,n.maxLine);n.sizer.style.minWidth=Math.max(0,i+3+li)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);o<r.scrollLeft&&!t.updateScrollPos&&ye(e,Math.min(n.scroller.scrollLeft,o),!0)}var a,l;if(t.updateScrollPos)a=t.updateScrollPos;else if(t.selectionChanged&&n.scroller.clientHeight){var s=K(e,r.sel.head);a=rt(e,s.left,s.top,s.left,s.bottom)}(t.changes.length||a&&null!=a.scrollTop)&&(l=x(e,t.changes,a&&a.scrollTop)),!l&&t.selectionChanged&&A(e),t.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=a.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=a.scrollLeft,v(e)):a&&Je(e),t.selectionChanged&&T(e),e.state.focused&&t.updateInput&&le(e,t.userSelChange);var u=t.maybeHiddenMarkers,c=t.maybeUnhiddenMarkers;if(u)for(var f=0;f<u.length;++f)u[f].lines.length||Dr(u[f],"hide");if(c)for(var f=0;f<c.length;++f)c[f].lines.length&&Dr(c[f],"unhide");var h;if(--ai||(h=oi,oi=null),t.textChanged&&Dr(e,"change",e,t.textChanged),t.selectionChanged&&Dr(e,"cursorActivity",e),h)for(var f=0;f<h.length;++f)h[f]()}function ee(e,t){return function(){var r=e||this,n=!r.curOp;n&&Q(r);try{var i=t.apply(r,arguments)}finally{n&&J(r)}return i}}function te(e){return function(){var t=this.cm&&!this.cm.curOp,r;t&&Q(this.cm);try{r=e.apply(this,arguments)}finally{t&&J(this.cm)}return r}}function re(e,t){var r=!e.curOp,n;r&&Q(e);try{n=t()}finally{r&&J(e)}return n}function ne(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:r,diff:n})}function ie(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){ae(e),e.state.focused&&ie(e)})}function oe(e){function t(){var n=ae(e);n||r?(e.display.pollingFast=!1,ie(e)):(r=!0,e.display.poll.set(60,t))}var r=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function ae(e){var t=e.display.input,r=e.display.prevInput,n=e.doc,i=n.sel;if(!e.state.focused||gi(t)||ue(e))return!1;var o=t.value;if(o==r&&Ve(i.from,i.to))return!1;if(hn&&o&&0===t.selectionStart)return le(e,!0),!1;var a=!e.curOp;a&&Q(e),i.shift=!1;for(var l=0,s=Math.min(r.length,o.length);s>l&&r[l]==o[l];)++l;var u=i.from,c=i.to;l<r.length?u=ze(u.line,u.ch-(r.length-l)):e.state.overwrite&&Ve(u,c)&&!e.state.pasteIncoming&&(c=ze(c.line,Math.min(ar(n,c.line).text.length,c.ch+(o.length-l))));var f=e.curOp.updateInput;return De(e.doc,{from:u,to:c,text:vi(o.slice(l)),origin:e.state.pasteIncoming?"paste":"+input"},"end"),e.curOp.updateInput=f,o.length>1e3?t.value=e.display.prevInput="":e.display.prevInput=o,a&&J(e),e.state.pasteIncoming=!1,!0}function le(e,t){var r,n,i=e.doc;Ve(i.sel.from,i.sel.to)?t&&(e.display.prevInput=e.display.input.value=""):(e.display.prevInput="",r=yi&&(i.sel.to.line-i.sel.from.line>100||(n=e.getSelection()).length>1e3),e.display.input.value=r?"-":n||e.getSelection(),e.state.focused&&Vr(e.display.input)),e.display.inaccurateSelection=r}function se(e){"nocursor"==e.options.readOnly||En&&document.activeElement==e.display.input||e.display.input.focus()}function ue(e){return e.options.readOnly||e.doc.cantEdit}function ce(e){function t(){e.state.focused&&setTimeout(Kr(se,e),0)}function r(){a.cachedCharWidth=a.cachedTextHeight=null,U(e),re(e,Kr(ne,e))}function n(){for(var e=a.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(n,5e3):Ir(window,"resize",r)}function i(t){e.options.onDragEvent&&e.options.onDragEvent(e,kr(t))||Ar(t)}function o(){a.inaccurateSelection&&(a.prevInput="",a.inaccurateSelection=!1,a.input.value=e.getSelection(),Vr(a.input))}var a=e.display;Tr(a.scroller,"mousedown",ee(e,he)),Tr(a.scroller,"dblclick",ee(e,Er)),Tr(a.lineSpace,"selectstart",function(e){fe(a,e)||Er(e)}),Tn||Tr(a.scroller,"contextmenu",function(t){Ae(e,t)}),Tr(a.scroller,"scroll",function(){ge(e,a.scroller.scrollTop),ye(e,a.scroller.scrollLeft,!0),Dr(e,"scroll",e)}),Tr(a.scrollbarV,"scroll",function(){ge(e,a.scrollbarV.scrollTop)}),Tr(a.scrollbarH,"scroll",function(){ye(e,a.scrollbarH.scrollLeft)}),Tr(a.scroller,"mousewheel",function(t){be(e,t)}),Tr(a.scroller,"DOMMouseScroll",function(t){be(e,t)}),Tr(a.scrollbarH,"mousedown",t),Tr(a.scrollbarV,"mousedown",t),Tr(a.wrapper,"scroll",function(){a.wrapper.scrollTop=a.wrapper.scrollLeft=0}),Tr(window,"resize",r),setTimeout(n,5e3),Tr(a.input,"keyup",ee(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,kr(t))||16==t.keyCode&&(e.doc.sel.shift=!1)})),Tr(a.input,"input",Kr(oe,e)),Tr(a.input,"keydown",ee(e,Ce)),Tr(a.input,"keypress",ee(e,ke)),Tr(a.input,"focus",Kr(Ee,e)),Tr(a.input,"blur",Kr(Me,e)),e.options.dragDrop&&(Tr(a.scroller,"dragstart",function(t){ve(e,t)}),Tr(a.scroller,"dragenter",i),Tr(a.scroller,"dragover",i),Tr(a.scroller,"drop",ee(e,de))),Tr(a.scroller,"paste",function(t){fe(a,t)||(se(e),oe(e))}),Tr(a.input,"paste",function(){e.state.pasteIncoming=!0,oe(e)}),Tr(a.input,"cut",o),Tr(a.input,"copy",o),wn&&Tr(a.sizer,"mouseup",function(){document.activeElement==a.input&&a.input.blur(),se(e)})}function fe(e,t){for(var r=Nr(t);r!=e.wrapper;r=r.parentNode){if(!r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(r.className)||r.parentNode==e.sizer&&r!=e.mover)return!0}}function pe(e,t,r){var n=e.display;if(!r){var i=Nr(t);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller)return null}var o,a,l=Jr(n.lineSpace);try{o=t.clientX,a=t.clientY}catch(t){return null}return Y(e,o-l.left,a-l.top)}function he(e){function t(e){if("single"==c)return void Ye(i.doc,Ge(a,s),e);if(d=Ge(a,d),v=Ge(a,v),"double"==c){var t=ut(ar(a,e.line).text,e);je(e,d)?Ye(i.doc,t.from,v):Ye(i.doc,d,t.to)}else"triple"==c&&(je(e,d)?Ye(i.doc,v,Ge(a,ze(e.line,0))):Ye(i.doc,d,Ge(a,ze(e.line+1,0))))}function r(e){var n=++y,l=pe(i,e,!0);if(l)if(Ve(l,p)){var s=e.clientY<g.top?-20:e.clientY>g.bottom?20:0;s&&setTimeout(ee(i,function(){y==n&&(o.scroller.scrollTop+=s,r(e))}),50)}else{i.state.focused||Ee(i),p=l,t(l);var u=m(o,a);(l.line>=u.to||l.line<u.from)&&setTimeout(ee(i,function(){y==n&&r(e)}),150)}}function n(e){y=1/0;var r=pe(i,e);r&&t(r),Er(e),se(i),Ir(document,"mousemove",b),Ir(document,"mouseup",x)}var i=this,o=i.display,a=i.doc,l=a.sel;if(l.shift=e.shiftKey,fe(o,e))return void(vn||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!me(i,e)){var s=pe(i,e);switch(Or(e)){case 3:return void(Tn&&Ae.call(i,i,e));case 2:return s&&Ye(i.doc,s),setTimeout(Kr(se,i),20),void Er(e)}if(!s)return void(Nr(e)==o.scroller&&Er(e));i.state.focused||Ee(i);var u=+new Date,c="single";if(Fn&&Fn.time>u-400&&Ve(Fn.pos,s))c="triple",Er(e),setTimeout(Kr(se,i),20),ct(i,s.line);else if(Hn&&Hn.time>u-400&&Ve(Hn.pos,s)){c="double",Fn={time:u,pos:s},Er(e);var f=ut(ar(a,s.line).text,s);Ye(i.doc,f.from,f.to)}else Hn={time:u,pos:s};var p=s;if(i.options.dragDrop&&pi&&!ue(i)&&!Ve(l.from,l.to)&&!je(s,l.from)&&!je(l.to,s)&&"single"==c){var h=ee(i,function(t){vn&&(o.scroller.draggable=!1),i.state.draggingText=!1,Ir(document,"mouseup",h),Ir(o.scroller,"drop",h),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Er(t),Ye(i.doc,s),se(i))});return vn&&(o.scroller.draggable=!0),i.state.draggingText=h,o.scroller.dragDrop&&o.scroller.dragDrop(),Tr(document,"mouseup",h),void Tr(o.scroller,"drop",h)}Er(e),"single"==c&&Ye(i.doc,Ge(a,s));var d=l.from,v=l.to,g=Jr(o.wrapper),y=0,b=ee(i,function(e){hn||Or(e)?r(e):n(e)}),x=ee(i,n);Tr(document,"mousemove",b),Tr(document,"mouseup",x)}}function de(e){var t=this;if(!(fe(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,kr(e)))){Er(e);var r=pe(t,e,!0),n=e.dataTransfer.files;if(r&&!ue(t))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),a=0,l=function(e,n){var l=new FileReader;l.onload=function(){o[n]=l.result,++a==i&&(r=Ge(t.doc,r),De(t.doc,{from:r,to:r,text:vi(o.join("\n")),origin:"paste"},"around"))},l.readAsText(e)},s=0;i>s;++s)l(n[s],s);else{if(t.state.draggingText&&!je(r,t.doc.sel.from)&&!je(t.doc.sel.to,r))return t.state.draggingText(e),void setTimeout(Kr(se,t),20);try{var o=e.dataTransfer.getData("Text");if(o){var u=t.doc.sel.from,c=t.doc.sel.to;$e(t.doc,r,r),t.state.draggingText&&Be(t.doc,"",u,c,"paste"),t.replaceSelection(o,null,"paste"),se(t),Ee(t)}}catch(e){}}}}function me(e,t){var r=e.display;try{var n=t.clientX,i=t.clientY}catch(t){return!1}if(n>=Math.floor(Jr(r.gutters).right))return!1;if(Er(t),!Hr(e,"gutterClick"))return!0;var o=Jr(r.lineDiv);if(i>o.bottom)return!0;i-=o.top-r.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var l=r.gutters.childNodes[a];if(l&&Jr(l).right>=n){var s=fr(e.doc,i),u=e.options.gutters[a];Pr(e,"gutterClick",e,s,u,t);break}}return!0}function ve(e,t){if(!fe(e.display,t)){var r=e.getSelection();if(t.dataTransfer.setData("Text",r),t.dataTransfer.setDragImage){var n=qr("img",null,null,"position: fixed; left: 0; top: 0;");bn&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),xn&&(e.display.dragImg?n=e.display.dragImg:(e.display.dragImg=n,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",e.display.wrapper.appendChild(n))),t.dataTransfer.setDragImage(n,0,0),bn&&n.parentNode.removeChild(n)}}}function ge(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,pn||x(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),pn&&x(e,[]))}function ye(e,t,r){(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,v(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function be(e,t){var r=t.wheelDeltaX,n=t.wheelDeltaY;if(null==r&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),n&&Mn&&vn)for(var i=t.target;i!=a;i=i.parentNode)if(i.lineObj){e.display.currentWheelTarget=i;break}var o=e.display,a=o.scroller;if(r&&!pn&&!bn&&null!=Bn)return n&&ge(e,Math.max(0,Math.min(a.scrollTop+n*Bn,a.scrollHeight-a.clientHeight))),ye(e,Math.max(0,Math.min(a.scrollLeft+r*Bn,a.scrollWidth-a.clientWidth))),Er(t),void(o.wheelStartX=null);if(n&&null!=Bn){var l=n*Bn,s=e.doc.scrollTop,u=s+o.wrapper.clientHeight;0>l?s=Math.max(0,s+l-50):u=Math.min(e.doc.height,u+l+50),x(e,[],{top:s,bottom:u})}20>Rn&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=n,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Bn=(Bn*Rn+r)/(Rn+1),++Rn)}},200)):(o.wheelDX+=r,o.wheelDY+=n))}function xe(e,t,r){if("string"==typeof t&&(t=$n[t],!t))return!1;e.display.pollingFast&&ae(e)&&(e.display.pollingFast=!1);var n=e.doc,i=n.sel.shift,o=!1;try{ue(e)&&(e.state.suppressEdits=!0),r&&(n.sel.shift=!1),o=t(e)!=si}finally{n.sel.shift=i,e.state.suppressEdits=!1}return o}function we(e){var t=e.state.keyMaps.slice(0);return t.push(e.options.keyMap),e.options.extraKeys&&t.unshift(e.options.extraKeys),t}function Le(e,t){var r=dt(e.options.keyMap),n=r.auto;clearTimeout(zn),n&&!vt(t)&&(zn=setTimeout(function(){dt(e.options.keyMap)==r&&(e.options.keyMap=n.call?n.call(null,e):n)},50));var i=gt(t,!0),o=!1;if(!i)return!1;var a=we(e);return o=t.shiftKey?mt("Shift-"+i,a,function(t){return xe(e,t,!0)})||mt(i,a,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?xe(e,t):void 0}):mt(i,a,function(t){return xe(e,t)}),"stop"==o&&(o=!1),o&&(Er(t),T(e),mn&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),o}function Se(e,t,r){var n=mt("'"+r+"'",we(e),function(t){return xe(e,t,!0)});return n&&(Er(t),T(e)),n}function Ce(e){var t=this;if(t.state.focused||Ee(t),hn&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,kr(e))){var r=e.keyCode;t.doc.sel.shift=16==r||e.shiftKey;var n=Le(t,e);bn&&(Vn=n?r:null,!n&&88==r&&!yi&&(Mn?e.metaKey:e.ctrlKey)&&t.replaceSelection(""))}}function ke(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,kr(e))){var r=e.keyCode,n=e.charCode;if(bn&&r==Vn)return Vn=null,void Er(e);if(!(bn&&(!e.which||e.which<10)||wn)||!Le(t,e)){var i=String.fromCharCode(null==n?r:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!ue(this)&&this.doc.mode.electricChars.indexOf(i)>-1&&setTimeout(ee(t,function(){ot(t,t.doc.sel.to.line,"smart")}),75),Se(t,e,i)||oe(t)}}}function Ee(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Dr(e,"focus",e),e.state.focused=!0,-1==e.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(e.display.wrapper.className+=" CodeMirror-focused"),le(e,!0)),ie(e),T(e))}function Me(e){e.state.focused&&(Dr(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function Ae(e,t){function r(){if(n.inputDiv.style.position="relative",n.input.style.cssText=l,mn&&(n.scrollbarV.scrollTop=n.scroller.scrollTop=a),ie(e),null!=n.input.selectionStart&&(!hn||mn)){clearTimeout(jn);var t=n.input.value=" "+(Ve(i.from,i.to)?"":n.input.value),r=0;n.prevInput=" ",n.input.selectionStart=1,n.input.selectionEnd=t.length;var o=function(){" "==n.prevInput&&0==n.input.selectionStart?ee(e,$n.selectAll)(e):r++<10?jn=setTimeout(o,500):le(e)};jn=setTimeout(o,200)}}var n=e.display,i=e.doc.sel;if(!fe(n,t)){var o=pe(e,t),a=n.scroller.scrollTop;if(o&&!bn){(Ve(i.from,i.to)||je(o,i.from)||!je(o,i.to))&&ee(e,$e)(e.doc,o,o);var l=n.input.style.cssText;if(n.inputDiv.style.position="absolute",n.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",se(e),le(e,!0),Ve(i.from,i.to)&&(n.input.value=n.prevInput=" "),Tn){Ar(t);var s=function(){Ir(window,"mouseup",s),setTimeout(r,20)};Tr(window,"mouseup",s)}else setTimeout(r,50)}}}function Ne(e){return ze(e.from.line+e.text.length-1,zr(e.text).length+(1==e.text.length?e.from.ch:0))}function Oe(e,t,r){if(!je(t.from,r))return Ge(e,r);var n=t.text.length-1-(t.to.line-t.from.line);if(r.line>t.to.line+n){var i=r.line-n,o=e.first+e.size-1;return i>o?ze(o,ar(e,o).text.length):Ke(r,ar(e,i).text.length)}if(r.line==t.to.line+n)return Ke(r,zr(t.text).length+(1==t.text.length?t.from.ch:0)+ar(e,t.to.line).text.length-t.to.ch);var a=r.line-t.from.line;return Ke(r,t.text[a].length+(a?0:t.from.ch))}function Te(e,t,r){if(r&&"object"==typeof r)return{anchor:Oe(e,t,r.anchor),head:Oe(e,t,r.head)};if("start"==r)return{anchor:t.from,head:t.from};var n=Ne(t);if("around"==r)return{anchor:t.from,head:n};if("end"==r)return{anchor:n,head:n};var i=function(e){if(je(e,t.from))return e;if(!je(t.to,e))return n;var r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=n.ch-t.to.ch),ze(r,i)};return{anchor:i(e.sel.anchor),head:i(e.sel.head)}}function Ie(e,t){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,update:function(t,r,n,i){t&&(this.from=Ge(e,t)),r&&(this.to=Ge(e,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)},cancel:function(){this.canceled=!0}};return Dr(e,"beforeChange",e,r),e.cm&&Dr(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function De(e,t,r,n){if(e.cm){if(!e.cm.curOp)return ee(e.cm,De)(e,t,r,n);if(e.cm.state.suppressEdits)return}if(!(Hr(e,"beforeChange")||e.cm&&Hr(e.cm,"beforeChange"))||(t=Ie(e,t))){var i=In&&!n&&Ot(e,t.from,t.to);if(i){for(var o=i.length-1;o>=1;--o)Pe(e,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Pe(e,{from:i[0].from,to:i[0].to,text:t.text},r)}else Pe(e,t,r)}}function Pe(e,t,r){var n=Te(e,t,r);gr(e,t,n,e.cm?e.cm.curOp.id:0/0),Fe(e,t,n,At(e,t));var i=[];ir(e,function(e,r){r||-1!=jr(i,e.history)||(Sr(e.history,t),i.push(e.history)),Fe(e,t,null,At(e,t))})}function We(e,t){var r=e.history,n=("undo"==t?r.done:r.undone).pop();if(n){r.dirtyCounter+="undo"==t?-1:1;var i={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore};("undo"==t?r.undone:r.done).push(i);for(var o=n.changes.length-1;o>=0;--o){var a=n.changes[o];a.origin=t,i.changes.push(vr(e,a));var l=o?Te(e,a,null):{anchor:n.anchorBefore,head:n.headBefore};Fe(e,a,l,Nt(e,a));var s=[];ir(e,function(e,t){t||-1!=jr(s,e.history)||(Sr(e.history,a),s.push(e.history)),Fe(e,a,null,Nt(e,a))})}}}function He(e,t){function r(e){return ze(e.line+t,e.ch)}e.first+=t,e.cm&&ne(e.cm,e.first,e.first,t),e.sel.head=r(e.sel.head),e.sel.anchor=r(e.sel.anchor),e.sel.from=r(e.sel.from),e.sel.to=r(e.sel.to)}function Fe(e,t,r,n){if(e.cm&&!e.cm.curOp)return ee(e.cm,Fe)(e,t,r,n);if(t.to.line<e.first)return void He(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);He(e,i),t={from:ze(e.first,0),to:ze(t.to.line+i,t.to.ch),text:[zr(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ze(o,ar(e,o).text.length),text:[t.text[0]],origin:t.origin}),r||(r=Te(e,t,null)),e.cm?Re(e.cm,t,n,r):tr(e,t,n,r)}}function Re(e,t,r,n){var i=e.doc,a=e.display,l=t.from,s=t.to,u=!1,c=l.line;e.options.lineWrapping||(c=cr(Pt(i,ar(i,l.line))),i.iter(c,s.line+1,function(e){return e==a.maxLine?(u=!0,!0):void 0})),tr(i,t,r,n,o(e)),e.options.lineWrapping||(i.iter(c,l.line+t.text.length,function(e){var t=f(i,e);t>a.maxLineLength&&(a.maxLine=e,a.maxLineLength=t,a.maxLineChanged=!0,u=!1)}),u&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,l.line),I(e,400);var p=t.text.length-(s.line-l.line)-1;if(ne(e,l.line,s.line+1,p),Hr(e,"change")){var h={from:l,to:s,text:t.text,origin:t.origin};if(e.curOp.textChanged){for(var d=e.curOp.textChanged;d.next;d=d.next);d.next=h}else e.curOp.textChanged=h}}function Be(e,t,r,n,i){if(n||(n=r),je(n,r)){var o=n;n=r,r=o}"string"==typeof t&&(t=vi(t)),De(e,{from:r,to:n,text:t,origin:i},null)}function ze(e,t){return this instanceof ze?(this.line=e,void(this.ch=t)):new ze(e,t)}function Ve(e,t){return e.line==t.line&&e.ch==t.ch}function je(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Ue(e){return ze(e.line,e.ch)}function _e(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ge(e,t){if(t.line<e.first)return ze(e.first,0);var r=e.first+e.size-1;return t.line>r?ze(r,ar(e,r).text.length):Ke(t,ar(e,t.line).text.length)}function Ke(e,t){var r=e.ch;return null==r||r>t?ze(e.line,t):0>r?ze(e.line,0):e}function Xe(e,t){return t>=e.first&&t<e.first+e.size}function Ye(e,t,r,n){if(e.sel.shift||e.sel.extend){var i=e.sel.anchor;if(r){var o=je(t,i);o!=je(r,i)?(i=t,t=r):o!=je(t,r)&&(t=r)}$e(e,i,t,n)}else $e(e,t,r||t,n);e.cm&&(e.cm.curOp.userSelChange=!0)}function qe(e,t,r){var n={anchor:t,head:r};return Dr(e,"beforeSelectionChange",e,n),e.cm&&Dr(e.cm,"beforeSelectionChange",e.cm,n),n.anchor=Ge(e,n.anchor),n.head=Ge(e,n.head),n}function $e(e,t,r,n,i){if(!i&&Hr(e,"beforeSelectionChange")||e.cm&&Hr(e.cm,"beforeSelectionChange")){var o=qe(e,t,r);r=o.head,t=o.anchor}var a=e.sel;if(a.goalColumn=null,(i||!Ve(t,a.anchor))&&(t=Qe(e,t,n,"push"!=i)),(i||!Ve(r,a.head))&&(r=Qe(e,r,n,"push"!=i)),!Ve(a.anchor,t)||!Ve(a.head,r)){a.anchor=t,a.head=r;var l=je(r,t);a.from=l?r:t,a.to=l?t:r,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0),Pr(e,"cursorActivity",e)}}function Ze(e){$e(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function Qe(e,t,r,n){var i=!1,o=t,a=r||1;e.cantEdit=!1;e:for(;;){var l=ar(e,o.line),s;if(l.markedSpans){for(var u=0;u<l.markedSpans.length;++u){var c=l.markedSpans[u],f=c.marker;if((null==c.from||(f.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(f.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&f.clearOnEnter){(s||(s=[])).push(f);continue}if(!f.atomic)continue;var p=f.find()[0>a?"from":"to"];if(Ve(p,o)&&(p.ch+=a,p.ch<0?p=p.line>e.first?Ge(e,ze(p.line-1)):null:p.ch>l.text.length&&(p=p.line<e.first+e.size-1?ze(p.line+1,0):null),!p)){if(i)return n?(e.cantEdit=!0,ze(e.first,0)):Qe(e,t,r,!0);i=!0,p=t,a=-a}o=p;continue e}}if(s)for(var u=0;u<s.length;++u)s[u].clear()}return o}}function Je(e){var t=et(e,e.doc.sel.head);if(e.state.focused){var r=e.display,n=Jr(r.sizer),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Cn){var o="none"==r.cursor.style.display;o&&(r.cursor.style.display="",r.cursor.style.left=t.left+"px",r.cursor.style.top=t.top-r.viewOffset+"px"),r.cursor.scrollIntoView(i),o&&(r.cursor.style.display="none")}}}function et(e,t){for(;;){var r=!1,n=K(e,t),i=rt(e,n.left,n.top,n.left,n.bottom),o=e.doc.scrollTop,a=e.doc.scrollLeft;if(null!=i.scrollTop&&(ge(e,i.scrollTop),Math.abs(e.doc.scrollTop-o)>1&&(r=!0)),null!=i.scrollLeft&&(ye(e,i.scrollLeft),Math.abs(e.doc.scrollLeft-a)>1&&(r=!0)),!r)return n}}function tt(e,t,r,n,i){var o=rt(e,t,r,n,i);null!=o.scrollTop&&ge(e,o.scrollTop),null!=o.scrollLeft&&ye(e,o.scrollLeft)}function rt(e,t,r,n,i){var o=e.display,a=H(o);r+=a,i+=a;var l=o.scroller.clientHeight-li,s=o.scroller.scrollTop,u={},c=e.doc.height+2*a,f=a+10>r,p=i+a>c-10;s>r?u.scrollTop=f?0:Math.max(0,r):i>s+l&&(u.scrollTop=(p?c:i)-l);var h=o.scroller.clientWidth-li,d=o.scroller.scrollLeft;t+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var m=o.gutters.offsetWidth,v=m+10>t;return d+m>t||v?(v&&(t=0),u.scrollLeft=Math.max(0,t-10-m)):n>h+d-3&&(u.scrollLeft=n+10-h),u}function nt(e,t,r){e.curOp.updateScrollPos={scrollLeft:t,scrollTop:r}}function it(e,t,r){var n=e.curOp.updateScrollPos||(e.curOp.updateScrollPos={scrollLeft:e.doc.scrollLeft,scrollTop:e.doc.scrollTop}),i=e.display.scroller;n.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,n.scrollLeft+t))}function ot(e,t,r,n){var i=e.doc;if(r||(r="add"),"smart"==r)if(e.doc.mode.indent)var o=W(e,t);else r="prev";var a=e.options.tabSize,l=ar(i,t),s=Rr(l.text,null,a),u=l.text.match(/^\s*/)[0],c;if("smart"==r&&(c=e.doc.mode.indent(o,l.text.slice(u.length),l.text),c==si)){if(!n)return;r="prev"}"prev"==r?c=t>i.first?Rr(ar(i,t-1).text,null,a):0:"add"==r?c=s+e.options.indentUnit:"subtract"==r&&(c=s-e.options.indentUnit),c=Math.max(0,c);var f="",p=0;if(e.options.indentWithTabs)for(var h=Math.floor(c/a);h;--h)p+=a,f+="	";c>p&&(f+=Br(c-p)),f!=u&&Be(e.doc,f,ze(t,0),ze(t,u.length),"+input"),l.stateAfter=null}function at(e,t,r){var n=t,i=t,o=e.doc;return"number"==typeof t?i=ar(o,_e(o,t)):n=cr(t),null==n?null:r(i,n)?(ne(e,n,n+1),i):null}function lt(e,t,r,n,i){function o(){var t=l+r;return t<e.first||t>=e.first+e.size?c=!1:(l=t,u=ar(e,t))}function a(e){var t=(i?cn:fn)(u,s,r,!0);if(null==t){if(e||!o())return c=!1;s=i?(0>r?ln:an)(u):0>r?u.text.length:0}else s=t;return!0}var l=t.line,s=t.ch,u=ar(e,l),c=!0;if("char"==n)a();else if("column"==n)a(!0);else if("word"==n)for(var f=!1;!(0>r)||a();){if(Xr(u.text.charAt(s)))f=!0;else if(f){0>r&&(r=1,a());break}if(r>0&&!a())break}var p=Qe(e,ze(l,s),r,!0);return c||(p.hitSide=!0),p}function st(e,t,r,n){var i=e.doc,o=t.left,a;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);a=t.top+r*(l-(0>r?1.5:.5)*$(e.display))}else"line"==n&&(a=r>0?t.bottom+3:t.top-3);for(;;){var s=Y(e,o,a);if(!s.outside)break;if(0>r?0>=a:a>=i.height){s.hitSide=!0;break}a+=5*r}return s}function ut(e,t){var r=t.ch,n=t.ch;if(e){t.after===!1||n==e.length?--r:++n;for(var i=e.charAt(r),o=Xr(i)?Xr:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Xr(e)};r>0&&o(e.charAt(r-1));)--r;for(;n<e.length&&o(e.charAt(n));)++n}return{from:ze(t.line,r),to:ze(t.line,n)}}function ct(e,t){Ye(e.doc,ze(t,0),Ge(e.doc,ze(t+1,0)))}function ft(t,r,n,i){e.defaults[t]=r,n&&(Un[t]=i?function(e,t,r){r!=Gn&&n(e,t,r)}:n)}function pt(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function ht(e,t,r){return e.startState?e.startState(t,r):!0}function dt(e){return"string"==typeof e?Zn[e]:e}function mt(e,t,r){function n(t){t=dt(t);var i=t[e];if(i===!1)return"stop";if(null!=i&&r(i))return!0;if(t.nofallthrough)return"stop";var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var a=0,l=o.length;l>a;++a){var s=n(o[a]);if(s)return s}return!1}for(var i=0;i<t.length;++i){var o=n(t[i]);if(o)return o}}function vt(e){var t=bi[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function gt(e,t){var r=bi[e.keyCode];return null==r||e.altGraphKey?!1:(e.altKey&&(r="Alt-"+r),(On?e.metaKey:e.ctrlKey)&&(r="Ctrl-"+r),(On?e.ctrlKey:e.metaKey)&&(r="Cmd-"+r),!t&&e.shiftKey&&(r="Shift-"+r),r)}function yt(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0}function bt(e,t){this.lines=[],this.type=t,this.doc=e}function xt(e,t,r,n,i){if(n&&n.shared)return Lt(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return ee(e.cm,xt)(e,t,r,n,i);var o=new bt(e,i);if("range"==i&&!je(t,r))return o;n&&_r(n,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=qr("span",[o.replacedWith],"CodeMirror-widget")),o.collapsed&&(Dn=!0);var a=t.line,l=0,s,u,c=e.cm,f;if(e.iter(a,r.line+1,function(n){c&&o.collapsed&&!c.options.lineWrapping&&Pt(e,n)==c.display.maxLine&&(f=!0);var i={from:null,to:null,marker:o};l+=n.text.length,a==t.line&&(i.from=t.ch,l-=t.ch),a==r.line&&(i.to=r.ch,l-=n.text.length-r.ch),o.collapsed&&(a==r.line&&(u=Tt(n,r.ch)),a==t.line?s=Tt(n,t.ch):ur(n,0)),kt(n,i),++a}),o.collapsed&&e.iter(t.line,r.line+1,function(t){Wt(e,t)&&ur(t,0)}),o.readOnly&&(In=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed){if(s!=u)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=l,o.atomic=!0}return c&&(f&&(c.curOp.updateMaxLine=!0),(o.className||o.startStyle||o.endStyle||o.collapsed)&&ne(c,t.line,r.line+1),o.atomic&&Ze(c)),o}function wt(e,t){this.markers=e,this.primary=t;for(var r=0,n=this;r<e.length;++r)e[r].parent=this,Tr(e[r],"clear",function(){n.clear()})}function Lt(e,t,r,n,i){n=_r(n),n.shared=!1;var o=[xt(e,t,r,n,i)],a=o[0];return ir(e,function(e){o.push(xt(e,Ge(e,t),Ge(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=zr(o)}),new wt(o,a)}function St(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Ct(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function kt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Et(e,t,r){if(e)for(var n=0,i;n<e.length;++n){var o=e[n],a=o.marker,l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(l||"bookmark"==a.type&&o.from==t&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push({from:o.from,to:s?null:o.to,marker:a})}}return i}function Mt(e,t,r){if(e)for(var n=0,i;n<e.length;++n){var o=e[n],a=o.marker,l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(l||"bookmark"==a.type&&o.from==t&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push({from:s?null:o.from-t,to:null==o.to?null:o.to-t,marker:a})}}return i}function At(e,t){var r=Xe(e,t.from.line)&&ar(e,t.from.line).markedSpans,n=Xe(e,t.to.line)&&ar(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=Ve(t.from,t.to),l=Et(r,i,a),s=Mt(n,o,a),u=1==t.text.length,c=zr(t.text).length+(u?i:0);if(l)for(var f=0;f<l.length;++f){var p=l[f];if(null==p.to){var h=St(s,p.marker);h?u&&(p.to=null==h.to?null:h.to+c):p.to=i}}if(s)for(var f=0;f<s.length;++f){var p=s[f];if(null!=p.to&&(p.to+=c),null==p.from){var h=St(l,p.marker);h||(p.from=c,u&&(l||(l=[])).push(p))}else p.from+=c,u&&(l||(l=[])).push(p)}var d=[l];if(!u){var m=t.text.length-2,v;if(m>0&&l)for(var f=0;f<l.length;++f)null==l[f].to&&(v||(v=[])).push({
from:null,to:null,marker:l[f].marker});for(var f=0;m>f;++f)d.push(v);d.push(s)}return d}function Nt(e,t){var r=br(e,t),n=At(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(r[i]=a)}return r}function Ot(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=jr(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],l=a.find(),s=0;s<i.length;++s){var u=i[s];if(!je(u.to,l.from)&&!je(l.to,u.from)){var c=[s,1];(je(u.from,l.from)||!a.inclusiveLeft&&Ve(u.from,l.from))&&c.push({from:u.from,to:l.from}),(je(l.to,u.to)||!a.inclusiveRight&&Ve(u.to,l.to))&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-1}}return i}function Tt(e,t){var r=Dn&&e.markedSpans,n;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||n.width<i.marker.width)&&(n=i.marker);return n}function It(e){return Tt(e,-1)}function Dt(e){return Tt(e,e.text.length+1)}function Pt(e,t){for(var r;r=It(t);)t=ar(e,r.find().from.line);return t}function Wt(e,t){var r=Dn&&t.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(0==n.from&&n.marker.inclusiveLeft&&Ht(e,t,n))return!0}}function Ht(e,t,r){if(null==r.to){var n=r.marker.find().to,i=ar(e,n.line);return Ht(e,i,St(i.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var o,a=0;a<t.markedSpans.length;++a)if(o=t.markedSpans[a],o.marker.collapsed&&o.from==r.to&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ht(e,t,o))return!0}function Ft(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Rt(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Bt(e){return function(){var t=!this.cm.curOp;t&&Q(this.cm);try{var r=e.apply(this,arguments)}finally{t&&J(this.cm)}return r}}function zt(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||Zr(e.cm.display.measure,qr("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Vt(e,t,r,n){var i=new Qn(e,r,n);return i.noHScroll&&(e.display.alignWidgets=!0),at(e,t,function(t){if((t.widgets||(t.widgets=[])).push(i),i.line=t,!Wt(e.doc,t)||i.showIfHidden){var r=pr(e,t)<e.display.scroller.scrollTop;ur(t,t.height+zt(i)),r&&it(e,0,i.height)}return!0}),i}function jt(e,t,r){var n={text:e};return Rt(n,t),n.height=r?r(n):1,n}function Ut(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ft(e),Rt(e,r);var i=n?n(e):1;i!=e.height&&ur(e,i),Pr(e,"change")}function _t(e){e.parent=null,Ft(e)}function Gt(e,t,r,n,i){var o=r.flattenSpans;null==o&&(o=e.options.flattenSpans);var a="",l=null,s=new yt(t,e.options.tabSize);for(""==t&&r.blankLine&&r.blankLine(n);!s.eol();){var u=r.token(s,n);s.pos>5e3&&(o=!1,s.pos=Math.min(t.length,s.start+5e4),u=null);var c=s.current();s.start=s.pos,o&&l==u?a+=c:(a&&i(a,l),a=c,l=u)}a&&i(a,l)}function Kt(e,t,r){var n=[e.state.modeGen];Gt(e,t.text,e.doc.mode,r,function(e,t){n.push(e,t)});for(var i=0;i<e.state.overlays.length;++i){var o=e.state.overlays[i],a=1;Gt(e,t.text,o.mode,!0,function(e,t){for(var r=a,i=e.length;i;){var l=n[a],s=l.length;i>=s?i-=s:(n.splice(a,1,l.slice(0,i),n[a+1],l.slice(i)),i=0),a+=2}if(t)if(o.opaque)n.splice(r,a-r,e,t),a=r+2;else for(;a>r;r+=2){var l=n[r+1];n[r+1]=l?l+" "+t:t}})}return n}function Xt(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(t.styles=Kt(e,t,t.stateAfter=W(e,cr(t)))),t.styles}function Yt(e,t,r){var n=e.doc.mode,i=new yt(t.text,e.options.tabSize);for(""==t.text&&n.blankLine&&n.blankLine(r);!i.eol()&&i.pos<=5e3;)n.token(i,r),i.start=i.pos}function qt(e){return e?Jn[e]||(Jn[e]="cm-"+e.replace(/ +/g," cm-")):null}function $t(e,t,r){for(var n,i=t,o,a,l=!0;n=It(i);)l=!1,i=ar(e.doc,n.find().from.line),o||(o=i);var s={pre:qr("pre"),col:0,pos:0,display:!r,measure:null,addedOne:!1,cm:e};i.textClass&&(s.pre.className=i.textClass);do{s.measure=i==t&&r,s.pos=0,s.addToken=s.measure?Qt:Zt,r&&a&&i!=t&&!s.addedOne&&(r[0]=s.pre.appendChild(tn(e.display.measure)),s.addedOne=!0);var u=er(i,s,Xt(e,i));a=i==o,u&&(i=ar(e.doc,u.to.line),l=!1)}while(u);r&&!s.addedOne&&(r[0]=s.pre.appendChild(l?qr("span",""):tn(e.display.measure))),s.pre.firstChild||Wt(e.doc,t)||s.pre.appendChild(document.createTextNode(""));var c;if(r&&hn&&(c=hr(i))){var f=c.length-1;c[f].from==c[f].to&&--f;var p=c[f],h=c[f-1];if(p.from+1==p.to&&h&&p.level<h.level){var d=r[s.pos-1];d&&d.parentNode.insertBefore(d.measureRight=tn(e.display.measure),d.nextSibling)}}return s.pre}function Zt(e,t,r,n,i){if(t){if(ei.test(t))for(var o=document.createDocumentFragment(),a=0;;){ei.lastIndex=a;var l=ei.exec(t),s=l?l.index-a:t.length-a;if(s&&(o.appendChild(document.createTextNode(t.slice(a,a+s))),e.col+=s),!l)break;if(a+=s+1,"	"==l[0]){var u=e.cm.options.tabSize,c=u-e.col%u;o.appendChild(qr("span",Br(c),"cm-tab")),e.col+=c}else{var f=qr("span","","cm-invalidchar");f.title="\\u"+l[0].charCodeAt(0).toString(16),o.appendChild(f),e.col+=1}}else{e.col+=t.length;var o=document.createTextNode(t)}if(r||n||i||e.measure){var p=r||"";return n&&(p+=n),i&&(p+=i),e.pre.appendChild(qr("span",[o],p))}e.pre.appendChild(o)}}function Qt(e,t,r,n,i){for(var o=e.cm.options.lineWrapping,a=0;a<t.length;++a){var l=t.charAt(a),s=0==a;l>=""&&"">l&&a<t.length-1?(l=t.slice(a,a+2),++a):a&&o&&hi.test(t.slice(a-1,a+1))&&e.pre.appendChild(qr("wbr"));var u=e.measure[e.pos]=Zt(e,l,r,s&&n,a==t.length-1&&i);hn&&o&&" "==l&&a&&!/\s/.test(t.charAt(a-1))&&a<t.length-1&&!/\s/.test(t.charAt(a+1))&&(u.style.whiteSpace="normal"),e.pos+=l.length}t.length&&(e.addedOne=!0)}function Jt(e,t,r){r&&(e.display||(r=r.cloneNode(!0)),e.pre.appendChild(r),e.measure&&t&&(e.measure[e.pos]=r,e.addedOne=!0)),e.pos+=t}function er(e,t,r){var n=e.markedSpans;if(n)for(var i=e.text,o=i.length,a=0,l=1,s="",u,c=0,f,p,h,d;;){if(c==a){f=p=h="",d=null,c=1/0;for(var m=null,v=0;v<n.length;++v){var g=n[v],y=g.marker;g.from<=a&&(null==g.to||g.to>a)?(null!=g.to&&c>g.to&&(c=g.to,p=""),y.className&&(f+=" "+y.className),y.startStyle&&g.from==a&&(h+=" "+y.startStyle),y.endStyle&&g.to==c&&(p+=" "+y.endStyle),y.collapsed&&(!d||d.marker.width<y.width)&&(d=g)):g.from>a&&c>g.from&&(c=g.from),"bookmark"==y.type&&g.from==a&&y.replacedWith&&(m=y.replacedWith)}if(d&&(d.from||0)==a&&(Jt(t,(null==d.to?o:d.to)-a,null!=d.from&&d.marker.replacedWith),null==d.to))return d.marker.find();m&&!d&&Jt(t,0,m)}if(a>=o)break;for(var b=Math.min(o,c);;){if(s){var x=a+s.length;if(!d){var w=x>b?s.slice(0,b-a):s;t.addToken(t,w,u?u+f:f,h,a+w.length==c?p:"")}if(x>=b){s=s.slice(b-a),a=b;break}a=x,h=""}s=r[l++],u=qt(r[l++])}}else for(var l=1;l<r.length;l+=2)t.addToken(t,r[l],qt(r[l+1]))}function tr(e,t,r,n,i){function o(e){return r?r[e]:null}var a=t.from,l=t.to,s=t.text,u=ar(e,a.line),c=ar(e,l.line),f=zr(s),p=o(s.length-1),h=l.line-a.line;if(0==a.ch&&0==l.ch&&""==f){for(var d=0,m=s.length-1,v=[];m>d;++d)v.push(jt(s[d],o(d),i));Ut(c,c.text,p,i),h&&e.remove(a.line,h),v.length&&e.insert(a.line,v)}else if(u==c)if(1==s.length)Ut(u,u.text.slice(0,a.ch)+f+u.text.slice(l.ch),p,i);else{for(var v=[],d=1,m=s.length-1;m>d;++d)v.push(jt(s[d],o(d),i));v.push(jt(f+u.text.slice(l.ch),p,i)),Ut(u,u.text.slice(0,a.ch)+s[0],o(0),i),e.insert(a.line+1,v)}else if(1==s.length)Ut(u,u.text.slice(0,a.ch)+s[0]+c.text.slice(l.ch),o(0),i),e.remove(a.line+1,h);else{Ut(u,u.text.slice(0,a.ch)+s[0],o(0),i),Ut(c,f+c.text.slice(l.ch),p,i);for(var d=1,m=s.length-1,v=[];m>d;++d)v.push(jt(s[d],o(d),i));h>1&&e.remove(a.line+1,h-1),e.insert(a.line+1,v)}Pr(e,"change",e,t),$e(e,n.anchor,n.head,null,!0)}function rr(e){this.lines=e,this.parent=null;for(var t=0,r=e.length,n=0;r>t;++t)e[t].parent=this,n+=e[t].height;this.height=n}function nr(e){this.children=e;for(var t=0,r=0,n=0,i=e.length;i>n;++n){var o=e[n];t+=o.chunkSize(),r+=o.height,o.parent=this}this.size=t,this.height=r,this.parent=null}function ir(e,t,r){function n(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var l=e.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;(!r||s)&&(t(l.doc,s),n(l.doc,e,s))}}}n(e,null,!0)}function or(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||p(e),e.options.mode=t.modeOption,ne(e)}function ar(e,t){for(t-=e.first;!e.lines;)for(var r=0;;++r){var n=e.children[r],i=n.chunkSize();if(i>t){e=n;break}t-=i}return e.lines[t]}function lr(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function sr(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ur(e,t){for(var r=t-e.height,n=e;n;n=n.parent)n.height+=r}function cr(e){if(null==e.parent)return null;for(var t=e.parent,r=jr(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function fr(e,t){var r=e.first;e:do{for(var n=0,i=e.children.length;i>n;++n){var o=e.children[n],a=o.height;if(a>t){e=o;continue e}t-=a,r+=o.chunkSize()}return r}while(!e.lines);for(var n=0,i=e.lines.length;i>n;++n){var l=e.lines[n],s=l.height;if(s>t)break;t-=s}return r+n}function pr(e,t){t=Pt(e.doc,t);for(var r=0,n=t.parent,i=0;i<n.lines.length;++i){var o=n.lines[i];if(o==t)break;r+=o.height}for(var a=n.parent;a;n=a,a=n.parent)for(var i=0;i<a.children.length;++i){var l=a.children[i];if(l==n)break;r+=l.height}return r}function hr(e){var t=e.order;return null==t&&(t=e.order=xi(e.text)),t}function dr(){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function mr(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function vr(e,t){var r={from:t.from,to:Ne(t),text:lr(e,t.from,t.to)};return mr(e,r,t.from.line,t.to.line+1),ir(e,function(e){mr(e,r,t.from.line,t.to.line+1)},!0),r}function gr(e,t,r,n){var i=e.history;i.undone.length=0;var o=+new Date,a=zr(i.done);if(a&&(i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastTime>o-600||"*"==t.origin.charAt(0)))){var l=zr(a.changes);Ve(t.from,t.to)&&Ve(t.from,l.to)?l.to=Ne(t):a.changes.push(vr(e,t)),a.anchorAfter=r.anchor,a.headAfter=r.head}else{for(a={changes:[vr(e,t)],anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:r.anchor,headAfter:r.head},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift();i.dirtyCounter<0?i.dirtyCounter=0/0:i.dirtyCounter++}i.lastTime=o,i.lastOp=n,i.lastOrigin=t.origin}function yr(e){if(!e)return null;for(var t=0,r;t<e.length;++t)e[t].marker.explicitlyCleared?r||(r=e.slice(0,t)):r&&r.push(e[t]);return r?r.length?r:null:e}function br(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=0,i=[];n<t.text.length;++n)i.push(yr(r[n]));return i}function xr(e,t){for(var r=0,n=[];r<e.length;++r){var i=e[r],o=i.changes,a=[];n.push({changes:a,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var l=0;l<o.length;++l){var s=o[l],u;if(a.push({from:s.from,to:s.to,text:s.text}),t)for(var c in s)(u=c.match(/^spans_(\d+)$/))&&jr(t,Number(u[1]))>-1&&(zr(a)[c]=s[c],delete s[c])}}return n}function wr(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Lr(e,t,r,n){for(var i=0;i<e.length;++i){for(var o=e[i],a=!0,l=0;l<o.changes.length;++l){var s=o.changes[l];if(o.copied||(s.from=Ue(s.from),s.to=Ue(s.to)),r<s.from.line)s.from.line+=n,s.to.line+=n;else if(t<=s.to.line){a=!1;break}}o.copied||(o.anchorBefore=Ue(o.anchorBefore),o.headBefore=Ue(o.headBefore),o.anchorAfter=Ue(o.anchorAfter),o.readAfter=Ue(o.headAfter),o.copied=!0),a?(wr(o.anchorBefore),wr(o.headBefore),wr(o.anchorAfter),wr(o.headAfter)):(e.splice(0,i+1),i=0)}}function Sr(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Lr(e.done,r,n,i),Lr(e.undone,r,n,i)}function Cr(){Ar(this)}function kr(e){return e.stop||(e.stop=Cr),e}function Er(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Mr(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ar(e){Er(e),Mr(e)}function Nr(e){return e.target||e.srcElement}function Or(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Mn&&e.ctrlKey&&1==t&&(t=3),t}function Tr(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={}),i=n[t]||(n[t]=[]);i.push(r)}}function Ir(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers&&e._handlers[t];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}}function Dr(e,t){var r=e._handlers&&e._handlers[t];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Pr(e,t){function r(e){return function(){e.apply(null,i)}}var n=e._handlers&&e._handlers[t];if(n){var i=Array.prototype.slice.call(arguments,2);oi||(++ai,oi=[],setTimeout(Wr,0));for(var o=0;o<n.length;++o)oi.push(r(n[o]))}}function Wr(){--ai;var e=oi;oi=null;for(var t=0;t<e.length;++t)e[t]()}function Hr(e,t){var r=e._handlers&&e._handlers[t];return r&&r.length>0}function Fr(){this.id=null}function Rr(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=n||0,a=i||0;t>o;++o)"	"==e.charAt(o)?a+=r-a%r:++a;return a}function Br(e){for(;ui.length<=e;)ui.push(zr(ui)+" ");return ui[e]}function zr(e){return e[e.length-1]}function Vr(e){kn?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function jr(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;n>r;++r)if(e[r]==t)return r;return-1}function Ur(e,t){function r(){}r.prototype=e;var n=new r;return t&&_r(t,n),n}function _r(e,t){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Gr(e){for(var t=[],r=0;e>r;++r)t.push(void 0);return t}function Kr(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Xr(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ci.test(e))}function Yr(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function qr(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)Qr(i,t);else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function $r(e){if(hn)for(;e.firstChild;)e.removeChild(e.firstChild);else e.innerHTML="";return e}function Zr(e,t){return $r(e).appendChild(t)}function Qr(e,t){mn?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function Jr(e){return e.getBoundingClientRect()}function en(e){if(null!=di)return di;var t=qr("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Zr(e,t),t.offsetWidth&&(di=t.offsetHeight-t.clientHeight),di||0}function tn(e){if(null==mi){var t=qr("span","");Zr(e,qr("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(mi=t.offsetWidth<=1&&t.offsetHeight>2&&!dn)}return mi?qr("span",""):qr("span","",null,"display: inline-block; width: 1px; margin-right: -1px")}function rn(e,t,r,n){if(!e)return n(t,r,"ltr");for(var i=0;i<e.length;++i){var o=e[i];(o.from<r&&o.to>t||t==r&&o.to==t)&&n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr")}}function nn(e){return e.level%2?e.to:e.from}function on(e){return e.level%2?e.from:e.to}function an(e){var t=hr(e);return t?nn(t[0]):0}function ln(e){var t=hr(e);return t?on(zr(t)):e.text.length}function sn(e,t){var r=ar(e.doc,t),n=Pt(e.doc,r);n!=r&&(t=cr(n));var i=hr(n),o=i?i[0].level%2?ln(n):an(n):0;return ze(t,o)}function un(e,t){for(var r,n;r=Dt(n=ar(e.doc,t));)t=r.find().to.line;var i=hr(n),o=i?i[0].level%2?an(n):ln(n):n.text.length;return ze(t,o)}function cn(e,t,r,n){var i=hr(e);if(!i)return fn(e,t,r,n);for(var o=n?function(t,r){do t+=r;while(t>0&&fi.test(e.text.charAt(t)));return t}:function(e,t){return e+t},a=i[0].level,l=0;l<i.length;++l){var s=i[l],u=s.level%2==a;if(s.from<t&&s.to>t||u&&(s.from==t||s.to==t))break}for(var c=o(t,s.level%2?-r:r);null!=c;)if(s.level%2==a){if(!(c<s.from||c>s.to))break;s=i[l+=r],c=s&&(r>0==s.level%2?o(s.to,-1):o(s.from,1))}else if(c==nn(s))s=i[--l],c=s&&on(s);else{if(c!=on(s))break;s=i[++l],c=s&&nn(s)}return 0>c||c>e.text.length?null:c}function fn(e,t,r,n){var i=t+r;if(n)for(;i>0&&fi.test(e.text.charAt(i));)i+=r;return 0>i||i>e.text.length?null:i}var pn=/gecko\/\d/i.test(navigator.userAgent),hn=/MSIE \d/.test(navigator.userAgent),dn=hn&&(null==document.documentMode||document.documentMode<8),mn=hn&&(null==document.documentMode||document.documentMode<9),vn=/WebKit\//.test(navigator.userAgent),gn=vn&&/Qt\/\d+\.\d+/.test(navigator.userAgent),yn=/Chrome\//.test(navigator.userAgent),bn=/Opera\//.test(navigator.userAgent),xn=/Apple Computer/.test(navigator.vendor),wn=/KHTML\//.test(navigator.userAgent),Ln=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Sn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Cn=/PhantomJS/.test(navigator.userAgent),kn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),En=kn||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Mn=kn||/Mac/.test(navigator.platform),An=/windows/i.test(navigator.platform),Nn=bn&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Nn&&(Nn=Number(Nn[1]));var On=Mn&&(gn||bn&&(null==Nn||12.11>Nn)),Tn=pn||hn&&!mn,In=!1,Dn=!1,Pn,Wn=0,Hn,Fn,Rn=0,Bn=null;hn?Bn=-.53:pn?Bn=15:yn?Bn=-.7:xn&&(Bn=-1/3);var zn,Vn=null,jn;e.Pos=ze,e.prototype={focus:function(){window.focus(),se(this),Ee(this),oe(this)},setOption:function(e,t){var r=this.options,n=r[e];(r[e]!=t||"mode"==e)&&(r[e]=t,Un.hasOwnProperty(e)&&ee(this,Un[e])(this,t,n))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e){this.state.keyMaps.push(e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(("string"==typeof e?t[r].name:t[r])==e)return t.splice(r,1),!0},addOverlay:ee(null,function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:t,opaque:r&&r.opaque}),this.state.modeGen++,ne(this)}),removeOverlay:ee(null,function(e){for(var t=this.state.overlays,r=0;r<t.length;++r)if(t[r].modeSpec==e)return t.splice(r,1),this.state.modeGen++,void ne(this)}),indentLine:ee(null,function(e,t,r){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Xe(this.doc,e)&&ot(this,e,t,r)}),indentSelection:ee(null,function(e){var t=this.doc.sel;if(Ve(t.from,t.to))return ot(this,t.from.line,e);for(var r=t.to.line-(t.to.ch?0:1),n=t.from.line;r>=n;++n)ot(this,n,e)}),getTokenAt:function(e){var t=this.doc;e=Ge(t,e);for(var r=W(this,e.line),n=this.doc.mode,i=ar(t,e.line),o=new yt(i.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var a=n.token(o,r)}return{start:o.start,end:o.pos,string:o.current(),className:a||null,type:a||null,state:r}},getStateAfter:function(e){var t=this.doc;return e=_e(t,null==e?t.first+t.size-1:e),W(this,e+1)},cursorCoords:function(e,t){var r,n=this.doc.sel;return r=null==e?n.head:"object"==typeof e?Ge(this.doc,e):e?n.from:n.to,K(this,r,t||"page")},charCoords:function(e,t){return G(this,Ge(this.doc,e),t||"page")},coordsChar:function(e){var t=Jr(this.display.lineSpace),r=window.pageYOffset||(document.documentElement||document.body).scrollTop,n=window.pageXOffset||(document.documentElement||document.body).scrollLeft;return Y(this,e.left-t.left-n,e.top-t.top-r)},defaultTextHeight:function(){return $(this.display)},setGutterMarker:ee(null,function(e,t,r){return at(this,e,function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&Yr(n)&&(e.gutterMarkers=null),!0})}),clearGutter:ee(null,function(e){var t=this,r=t.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&(r.gutterMarkers[e]=null,ne(t,n,n+1),Yr(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:ee(null,function(e,t,r){return at(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[n]){if(new RegExp("\\b"+r+"\\b").test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0})}),removeLineClass:ee(null,function(e,t,r){return at(this,e,function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.replace(new RegExp("^"+r+"\\b\\s*|\\s*\\b"+r+"\\b"),"");if(o==i)return!1;e[n]=o||null}return!0})}),addLineWidget:ee(null,function(e,t,r){return Vt(this,e,t,r)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Xe(this.doc,e))return null;var t=e;if(e=ar(this.doc,e),!e)return null}else{var t=cr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=K(this,Ge(this.doc,e));var a=e.bottom,l=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(a=e.bottom),l+t.offsetWidth>u&&(l=u-t.offsetWidth)}t.style.top=a+H(o)+"px",t.style.left=t.style.right="","right"==i?(l=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?l=0:"middle"==i&&(l=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=l+"px"),r&&tt(this,l,a,l+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:ee(null,Ce),execCommand:function(e){return $n[e](this)},findPosH:function(e,t,r,n){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=Ge(this.doc,e);t>o&&(a=lt(this.doc,a,i,r,n),!a.hitSide);++o);return a},moveH:ee(null,function(e,t){var r=this.doc.sel,n;n=r.shift||r.extend||Ve(r.from,r.to)?lt(this.doc,r.head,e,t,this.options.rtlMoveVisually):0>e?r.from:r.to,Ye(this.doc,n,n,e)}),deleteH:ee(null,function(e,t){var r=this.doc.sel;Ve(r.from,r.to)?Be(this.doc,"",r.from,lt(this.doc,r.head,e,t,!1),"+delete"):Be(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(e,t,r,n){var i=1,o=n;0>t&&(i=-1,t=-t);for(var a=0,l=Ge(this.doc,e);t>a;++a){var s=K(this,l,"div");if(null==o?o=s.left:s.left=o,l=st(this,s,i,r),l.hitSide)break}return l},moveV:ee(null,function(e,t){var r=this.doc.sel,n=K(this,r.head,"div");null!=r.goalColumn&&(n.left=r.goalColumn);var i=st(this,n,e,t);"page"==t&&it(this,0,G(this,i,"div").top-n.top),Ye(this.doc,i,i,e),r.goalColumn=n.left}),toggleOverwrite:function(){(this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite","")},scrollTo:ee(null,function(e,t){nt(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller,t=li;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:function(e){"number"==typeof e&&(e=ze(e,0)),e&&null==e.line?tt(this,e.left,e.top,e.right,e.bottom):(e=e?Ge(this.doc,e):this.doc.sel.head,et(this,e))},setSize:function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.refresh()},on:function(e,t){Tr(this,e,t)},off:function(e,t){Ir(this,e,t)},operation:function(e){return re(this,e)},refresh:ee(null,function(){U(this),nt(this,this.doc.scrollLeft,this.doc.scrollTop),ne(this)}),swapDoc:ee(null,function(e){var t=this.doc;return t.cm=null,or(this,e),U(this),nt(this,e.scrollLeft,e.scrollTop),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var Un=e.optionHandlers={},_n=e.defaults={},Gn=e.Init={toString:function(){return"CodeMirror.Init"}};ft("value","",function(e,t){e.setValue(t)},!0),ft("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),ft("indentUnit",2,n,!0),ft("indentWithTabs",!1),ft("smartIndent",!0),ft("tabSize",4,function(e){n(e),U(e),ne(e)},!0),ft("electricChars",!0),ft("rtlMoveVisually",!An),ft("theme","default",function(e){s(e),u(e)},!0),ft("keyMap","default",l),ft("extraKeys",null),ft("onKeyEvent",null),ft("onDragEvent",null),ft("lineWrapping",!1,i,!0),ft("gutters",[],function(e){h(e.options),u(e)},!0),ft("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?b(e.display)+"px":"0",e.refresh()},!0),ft("lineNumbers",!1,function(e){h(e.options),u(e)},!0),ft("firstLineNumber",1,u,!0),ft("lineNumberFormatter",function(e){return e},u,!0),ft("showCursorWhenSelecting",!1,A,!0),ft("readOnly",!1,function(e,t){"nocursor"==t?(Me(e),e.display.input.blur()):t||le(e,!0)}),ft("dragDrop",!0),ft("cursorBlinkRate",530),ft("cursorHeight",1),ft("workTime",100),ft("workDelay",100),ft("flattenSpans",!0),ft("pollInterval",100),ft("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),ft("viewportMargin",10,function(e){e.refresh()},!0),ft("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),ft("autofocus",null);var Kn=e.modes={},Xn=e.mimeModes={};e.defineMode=function(t,r){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){r.dependencies=[];for(var n=2;n<arguments.length;++n)r.dependencies.push(arguments[n])}Kn[t]=r},e.defineMIME=function(e,t){Xn[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Xn.hasOwnProperty(t))t=Xn[t];else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,r){r=e.resolveMode(r);var n=Kn[r.name];if(!n)return e.getMode(t,"text/plain");var i=n(t,r);if(Yn.hasOwnProperty(r.name)){var o=Yn[r.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}return i.name=r.name,i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Yn=e.modeExtensions={};e.extendMode=function(e,t){var r=Yn.hasOwnProperty(e)?Yn[e]:Yn[e]={};_r(t,r)},e.defineExtension=function(t,r){e.prototype[t]=r},e.defineOption=ft;var qn=[];e.defineInitHook=function(e){qn.push(e)},e.copyState=pt,e.startState=ht,e.innerMode=function(e,t){for(;e.innerMode;){var r=e.innerMode(t);t=r.state,e=r.mode}return r||{mode:e,state:t}};var $n=e.commands={selectAll:function(e){e.setSelection(ze(e.firstLine(),0),ze(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),r=e.getCursor(!1),n=!Ve(t,r);n||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,n?r:ze(t.line),"+delete"):e.replaceRange("",t,ze(t.line+1,0),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",ze(t,0),ze(t),"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(ze(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(ze(e.lastLine()))},goLineStart:function(e){e.extendSelection(sn(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),r=sn(e,t.line),n=e.getLineHandle(r.line),i=hr(n);if(i&&0!=i[0].level)e.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;e.extendSelection(ze(r.line,a?0:o))}},goLineEnd:function(e){e.extendSelection(un(e,e.getCursor().line))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),r=e.getLine(t.line);t.ch>0&&t.ch<r.length-1&&e.replaceRange(r.charAt(t.ch)+r.charAt(t.ch-1),ze(t.line,t.ch-1),ze(t.line,t.ch+1))},newlineAndIndent:function(e){ee(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},Zn=e.keyMap={};Zn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},Zn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordBefore","Ctrl-Delete":"delWordAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},Zn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordBefore","Ctrl-Alt-Backspace":"delWordAfter","Alt-Delete":"delWordAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},Zn["default"]=Mn?Zn.macDefault:Zn.pcDefault,Zn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.lookupKey=mt,e.isModifierKey=vt,e.keyName=gt,e.fromTextArea=function(t,r){function n(){t.value=u.getValue()}if(r||(r={}),r.value=t.value,!r.tabindex&&t.tabindex&&(r.tabindex=t.tabindex),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Tr(t.form,"submit",n),!r.leaveSubmitMethodAlone)){var a=t.form,l=a.submit;try{var s=a.submit=function(){n(),a.submit=l,a.submit(),a.submit=s}}catch(o){}}t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},r);return u.save=n,u.getTextArea=function(){return t},u.toTextArea=function(){n(),t.parentNode.removeChild(u.getWrapperElement()),t.style.display="",t.form&&(Ir(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=l))},u},yt.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos;

},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var r=t==e;else var r=t&&(e.test?e.test(t):e(t));return r?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Rr(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Rr(this.string,null,this.tabSize)},match:function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=yt,e.TextMarker=bt,bt.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;t&&Q(e);for(var r=null,n=null,i=0;i<this.lines.length;++i){var o=this.lines[i],a=St(o.markedSpans,this);null!=a.to&&(n=cr(o)),o.markedSpans=Ct(o.markedSpans,a),null!=a.from?r=cr(o):this.collapsed&&!Wt(this.doc,o)&&e&&ur(o,$(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var l=Pt(e.doc,this.lines[i]),s=f(e.doc,l);s>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=s,e.display.maxLineChanged=!0)}null!=r&&e&&ne(e,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ze(e)),t&&J(e),Pr(this,"clear")}},bt.prototype.find=function(){for(var e,t,r=0;r<this.lines.length;++r){var n=this.lines[r],i=St(n.markedSpans,this);if(null!=i.from||null!=i.to){var o=cr(n);null!=i.from&&(e=ze(o,i.from)),null!=i.to&&(t=ze(o,i.to))}}return"bookmark"==this.type?e:e&&{from:e,to:t}},bt.prototype.getOptions=function(e){var t=this.replacedWith;return{className:this.className,inclusiveLeft:this.inclusiveLeft,inclusiveRight:this.inclusiveRight,atomic:this.atomic,collapsed:this.collapsed,clearOnEnter:this.clearOnEnter,replacedWith:e?t&&t.cloneNode(!0):t,readOnly:this.readOnly,startStyle:this.startStyle,endStyle:this.endStyle}},bt.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=jr(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},bt.prototype.detachLine=function(e){if(this.lines.splice(jr(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},e.SharedTextMarker=wt,wt.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Pr(this,"clear")}},wt.prototype.find=function(){return this.primary.find()},wt.prototype.getOptions=function(e){var t=this.primary.getOptions(e);return t.shared=!0,t};var Qn=e.LineWidget=function(e,t,r){for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=e,this.node=t};Qn.prototype.clear=Bt(function(){var e=this.line.widgets,t=cr(this.line);if(null!=t&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(this.line.widgets=null),ur(this.line,Math.max(0,this.line.height-zt(this))),ne(this.cm,t,t+1)}}),Qn.prototype.changed=Bt(function(){var e=this.height;this.height=null;var t=zt(this)-e;if(t){ur(this.line,this.line.height+t);var r=cr(this.line);ne(this.cm,r,r+1)}});var Jn={},ei=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;rr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;n>r;++r){var i=this.lines[r];this.height-=i.height,_t(i),Pr(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0,i=t.length;i>n;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;n>e;++e)if(r(this.lines[e]))return!0}},nr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>e){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25){var l=[];this.collapse(l),this.children=[new rr(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0,r=this.children.length;r>t;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>=e){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var l=o.lines.splice(o.lines.length-25,25),s=new rr(l);o.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new nr(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=jr(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new nr(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],a=o.chunkSize();if(a>e){var l=Math.min(t,a-e);if(o.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=a}}};var ti=0,ri=e.Doc=function(e,t,r){if(!(this instanceof ri))return new ri(e,t,r);null==r&&(r=0),nr.call(this,[new rr([jt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=dr(),this.frontier=r;var n=ze(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++ti,this.modeOption=t,"string"==typeof e&&(e=vi(e)),tr(this,{from:n,to:n,text:e},null,{head:n,anchor:n})};ri.prototype=Ur(nr.prototype,{iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0,i=t.length;i>n;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=sr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=ze(this.first,0),r=this.first+this.size-1;De(this,{from:t,to:ze(r,ar(this,r).text.length),text:vi(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,r,n){t=Ge(this,t),r=r?Ge(this,r):t,Be(this,e,t,r,n)},getRange:function(e,t,r){var n=lr(this,Ge(this,e),Ge(this,t));return r===!1?n:n.join(r||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){Xe(this,e)&&Be(this,t,ze(e,0),Ge(this,ze(e)))},removeLine:function(e){Xe(this,e)&&Be(this,"",ze(e,0),Ge(this,ze(e+1,0)))},getLineHandle:function(e){return Xe(this,e)?ar(this,e):void 0},getLineNumber:function(e){return cr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ge(this,e)},getCursor:function(e){var t=this.sel,r;return r=null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||e===!1?t.to:t.from,Ue(r)},somethingSelected:function(){return!Ve(this.sel.head,this.sel.anchor)},setCursor:te(function(e,t,r){var n=Ge(this,"number"==typeof e?ze(e,t||0):e);r?Ye(this,n):$e(this,n,n)}),setSelection:te(function(e,t){$e(this,Ge(this,e),Ge(this,t||e))}),extendSelection:te(function(e,t){Ye(this,Ge(this,e),t&&Ge(this,t))}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,r){De(this,{from:this.sel.from,to:this.sel.to,text:vi(e),origin:r},t||"around")},undo:te(function(){We(this,"undo")}),redo:te(function(){We(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=dr()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return 0==this.history.dirtyCounter},getHistory:function(){return{done:xr(this.history.done),undone:xr(this.history.undone)}},setHistory:function(e){var t=this.history=dr();t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,r){return xt(this,Ge(this,e),Ge(this,t),r,"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft};return e=Ge(this,e),xt(this,e,e,r,"bookmark")},findMarksAt:function(e){e=Ge(this,e);var t=[],r=ar(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>e?(t=e,!0):(e-=i,void++r)}),Ge(this,ze(r,t))},indexFromPos:function(e){e=Ge(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ri(sr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new ri(sr(this,t,r),e.mode||this.modeOption,t);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],n},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==t){this.linked.splice(r,1),t.unlinkDoc(this);break}}if(t.history==this.history){var i=[t.id];ir(t,function(e){i.push(e.id)},!0),t.history=dr(),t.history.done=xr(this.history.done,i),t.history.undone=xr(this.history.undone,i)}},iterLinkedDocs:function(e){ir(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ri.prototype.eachLine=ri.prototype.iter;var ni="iter insert remove copy getEditor".split(" ");for(var ii in ri.prototype)ri.prototype.hasOwnProperty(ii)&&jr(ni,ii)<0&&(e.prototype[ii]=function(e){return function(){return e.apply(this.doc,arguments)}}(ri.prototype[ii]));e.e_stop=Ar,e.e_preventDefault=Er,e.e_stopPropagation=Mr;var oi,ai=0;e.on=Tr,e.off=Ir,e.signal=Dr;var li=30,si=e.Pass={toString:function(){return"CodeMirror.Pass"}};Fr.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=Rr;var ui=[""],ci=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc]/,fi=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;e.replaceGetRect=function(e){Jr=e};var pi=function(){if(mn)return!1;var e=qr("div");return"draggable"in e||"dragDrop"in e}(),hi=/^$/;pn?hi=/$'/:xn?hi=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:yn&&(hi=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);var di,mi,vi=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;n>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=vi;var gi=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(r){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},yi=function(){var e=qr("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),bi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=bi,function(){for(var e=0;10>e;e++)bi[e+48]=String(e);for(var e=65;90>=e;e++)bi[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)bi[e+111]=bi[e+63235]="F"+e}();var xi=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?r.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,s="L";return function(t){if(!n.test(t))return!1;for(var r=t.length,u=[],c=0,f;r>c;++c)u.push(f=e(t.charCodeAt(c)));for(var c=0,p=s;r>c;++c){var f=u[c];"m"==f?u[c]=p:p=f}for(var c=0,h=s;r>c;++c){var f=u[c];"1"==f&&"r"==h?u[c]="n":o.test(f)&&(h=f,"r"==f&&(u[c]="R"))}for(var c=1,p=u[0];r-1>c;++c){var f=u[c];"+"==f&&"1"==p&&"1"==u[c+1]?u[c]="1":","!=f||p!=u[c+1]||"1"!=p&&"n"!=p||(u[c]=p),p=f}for(var c=0;r>c;++c){var f=u[c];if(","==f)u[c]="N";else if("%"==f){for(var d=c+1;r>d&&"%"==u[d];++d);for(var m=c&&"!"==u[c-1]||r-1>d&&"1"==u[d]?"1":"N",v=c;d>v;++v)u[v]=m;c=d-1}}for(var c=0,h=s;r>c;++c){var f=u[c];"L"==h&&"1"==f?u[c]="L":o.test(f)&&(h=f)}for(var c=0;r>c;++c)if(i.test(u[c])){for(var d=c+1;r>d&&i.test(u[d]);++d);for(var g="L"==(c?u[c-1]:s),y="L"==(r-1>d?u[d]:s),m=g||y?"L":"R",v=c;d>v;++v)u[v]=m;c=d-1}for(var b=[],x,c=0;r>c;)if(a.test(u[c])){var w=c;for(++c;r>c&&a.test(u[c]);++c);b.push({from:w,to:c,level:0})}else{var L=c,S=b.length;for(++c;r>c&&"L"!=u[c];++c);for(var v=L;c>v;)if(l.test(u[v])){v>L&&b.splice(S,0,{from:L,to:v,level:1});var C=v;for(++v;c>v&&l.test(u[v]);++v);b.splice(S,0,{from:C,to:v,level:2}),L=v}else++v;c>L&&b.splice(S,0,{from:L,to:c,level:1})}return 1==b[0].level&&(x=t.match(/^\s+/))&&(b[0].from=x[0].length,b.unshift({from:0,to:x[0].length,level:0})),1==zr(b).level&&(x=t.match(/\s+$/))&&(zr(b).to-=x[0].length,b.push({from:r-x[0].length,to:r,level:0})),b[0].level!=zr(b).level&&b.push({from:r,to:r,level:b[0].level}),b}}();e.version="3.1 +","undefined"!=typeof t&&(t.exports=e),"undefined"!=typeof window&&(window.CodeMirror=e)}()},{}],6:[function(e,t,r){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof r?r:e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function r(e,t){return pt.slice(e,t)}function n(e){return"0123456789".indexOf(e)>=0}function i(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function o(e){return"01234567".indexOf(e)>=0}function a(e){return" "===e||"	"===e||""===e||"\f"===e||""===e||e.charCodeAt(0)>=5760&&"\ufeff".indexOf(e)>=0}function l(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e}function s(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e.charCodeAt(0)>=128&&ft.NonAsciiIdentifierStart.test(e)}function u(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e||e.charCodeAt(0)>=128&&ft.NonAsciiIdentifierPart.test(e)}function c(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function f(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function p(e){return"eval"===e||"arguments"===e}function h(e){var t=!1;switch(e.length){case 2:t="if"===e||"in"===e||"do"===e;break;case 3:t="var"===e||"for"===e||"new"===e||"try"===e;break;case 4:t="this"===e||"else"===e||"case"===e||"void"===e||"with"===e;break;case 5:t="while"===e||"break"===e||"catch"===e||"throw"===e;break;case 6:t="return"===e||"typeof"===e||"delete"===e||"switch"===e;break;case 7:t="default"===e||"finally"===e;break;case 8:t="function"===e||"continue"===e||"debugger"===e;break;case 10:t="instanceof"===e}if(t)return!0;switch(e){case"const":return!0;case"yield":case"let":return!0}return ht&&f(e)?!0:c(e)}function d(){var e,t,r;for(t=!1,r=!1;gt>dt;)if(e=pt[dt],r)e=pt[dt++],l(e)&&(r=!1,"\r"===e&&"\n"===pt[dt]&&++dt,++mt,vt=dt);else if(t)l(e)?("\r"===e&&"\n"===pt[dt+1]&&++dt,++mt,++dt,vt=dt,dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL")):(e=pt[dt++],dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL"),"*"===e&&(e=pt[dt],"/"===e&&(++dt,t=!1)));else if("/"===e)if(e=pt[dt+1],"/"===e)dt+=2,r=!0;else{if("*"!==e)break;dt+=2,t=!0,dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL")}else if(a(e))++dt;else{if(!l(e))break;++dt,"\r"===e&&"\n"===pt[dt]&&++dt,++mt,vt=dt}}function m(e){var t,r,n,o=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(gt>dt&&i(pt[dt])))return"";n=pt[dt++],o=16*o+"0123456789abcdef".indexOf(n.toLowerCase())}return String.fromCharCode(o)}function v(){var e,t,r,n;if(e=pt[dt],s(e)){if(t=dt,"\\"===e){if(++dt,"u"!==pt[dt])return;if(++dt,n=dt,e=m("u")){if("\\"===e||!s(e))return;r=e}else dt=n,r="u"}else r=pt[dt++];for(;gt>dt&&(e=pt[dt],u(e));)if("\\"===e){if(++dt,"u"!==pt[dt])return;if(++dt,n=dt,e=m("u")){if("\\"===e||!u(e))return;r+=e}else dt=n,r+="u"}else r+=pt[dt++];return 1===r.length?{type:at.Identifier,value:r,lineNumber:mt,lineStart:vt,range:[t,dt]}:h(r)?{type:at.Keyword,value:r,lineNumber:mt,lineStart:vt,range:[t,dt]}:"null"===r?{type:at.NullLiteral,value:r,lineNumber:mt,lineStart:vt,range:[t,dt]}:"true"===r||"false"===r?{type:at.BooleanLiteral,value:r,lineNumber:mt,lineStart:vt,range:[t,dt]}:{type:at.Identifier,value:r,lineNumber:mt,lineStart:vt,range:[t,dt]}}}function g(){var e=dt,t=pt[dt],r,i,o;return";"===t||"{"===t||"}"===t?(++dt,{type:at.Punctuator,value:t,lineNumber:mt,lineStart:vt,range:[e,dt]}):","===t||"("===t||")"===t?(++dt,{type:at.Punctuator,value:t,lineNumber:mt,lineStart:vt,range:[e,dt]}):(r=pt[dt+1],"."!==t||n(r)?(i=pt[dt+2],o=pt[dt+3],">"===t&&">"===r&&">"===i&&"="===o?(dt+=4,{type:at.Punctuator,value:">>>=",lineNumber:mt,lineStart:vt,range:[e,dt]}):"="===t&&"="===r&&"="===i?(dt+=3,{type:at.Punctuator,value:"===",lineNumber:mt,lineStart:vt,range:[e,dt]}):"!"===t&&"="===r&&"="===i?(dt+=3,{type:at.Punctuator,value:"!==",lineNumber:mt,lineStart:vt,range:[e,dt]}):">"===t&&">"===r&&">"===i?(dt+=3,{type:at.Punctuator,value:">>>",lineNumber:mt,lineStart:vt,range:[e,dt]}):"<"===t&&"<"===r&&"="===i?(dt+=3,{type:at.Punctuator,value:"<<=",lineNumber:mt,lineStart:vt,range:[e,dt]}):">"===t&&">"===r&&"="===i?(dt+=3,{type:at.Punctuator,value:">>=",lineNumber:mt,lineStart:vt,range:[e,dt]}):"="===r&&"<>=!+-*%&|^/".indexOf(t)>=0?(dt+=2,{type:at.Punctuator,value:t+r,lineNumber:mt,lineStart:vt,range:[e,dt]}):t===r&&"+-<>&|".indexOf(t)>=0&&"+-<>&|".indexOf(r)>=0?(dt+=2,{type:at.Punctuator,value:t+r,lineNumber:mt,lineStart:vt,range:[e,dt]}):"[]<>+-*%&|^!~?:=/".indexOf(t)>=0?{type:at.Punctuator,value:pt[dt++],lineNumber:mt,lineStart:vt,range:[e,dt]}:void 0):{type:at.Punctuator,value:pt[dt++],lineNumber:mt,lineStart:vt,range:[e,dt]})}function y(){var e,r,a;if(a=pt[dt],t(n(a)||"."===a,"Numeric literal must start with a decimal digit or a decimal point"),r=dt,e="","."!==a){if(e=pt[dt++],a=pt[dt],"0"===e){if("x"===a||"X"===a){for(e+=pt[dt++];gt>dt&&(a=pt[dt],i(a));)e+=pt[dt++];return e.length<=2&&E({},ct.UnexpectedToken,"ILLEGAL"),gt>dt&&(a=pt[dt],s(a)&&E({},ct.UnexpectedToken,"ILLEGAL")),{type:at.NumericLiteral,value:parseInt(e,16),lineNumber:mt,lineStart:vt,range:[r,dt]}}if(o(a)){for(e+=pt[dt++];gt>dt&&(a=pt[dt],o(a));)e+=pt[dt++];return gt>dt&&(a=pt[dt],(s(a)||n(a))&&E({},ct.UnexpectedToken,"ILLEGAL")),{type:at.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:mt,lineStart:vt,range:[r,dt]}}n(a)&&E({},ct.UnexpectedToken,"ILLEGAL")}for(;gt>dt&&(a=pt[dt],n(a));)e+=pt[dt++]}if("."===a)for(e+=pt[dt++];gt>dt&&(a=pt[dt],n(a));)e+=pt[dt++];if("e"===a||"E"===a)if(e+=pt[dt++],a=pt[dt],("+"===a||"-"===a)&&(e+=pt[dt++]),a=pt[dt],n(a))for(e+=pt[dt++];gt>dt&&(a=pt[dt],n(a));)e+=pt[dt++];else a="character "+a,dt>=gt&&(a="<end>"),E({},ct.UnexpectedToken,"ILLEGAL");return gt>dt&&(a=pt[dt],s(a)&&E({},ct.UnexpectedToken,"ILLEGAL")),{type:at.NumericLiteral,value:parseFloat(e),lineNumber:mt,lineStart:vt,range:[r,dt]}}function b(){var e="",r,n,i,a,s,u,c=!1;for(r=pt[dt],t("'"===r||'"'===r,"String literal must starts with a quote"),n=dt,++dt;gt>dt;){if(i=pt[dt++],i===r){r="";break}if("\\"===i)if(i=pt[dt++],l(i))++mt,"\r"===i&&"\n"===pt[dt]&&++dt;else switch(i){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="	";break;case"u":case"x":u=dt,s=m(i),s?e+=s:(dt=u,e+=i);break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="";break;default:o(i)?(a="01234567".indexOf(i),0!==a&&(c=!0),gt>dt&&o(pt[dt])&&(c=!0,a=8*a+"01234567".indexOf(pt[dt++]),"0123".indexOf(i)>=0&&gt>dt&&o(pt[dt])&&(a=8*a+"01234567".indexOf(pt[dt++]))),e+=String.fromCharCode(a)):e+=i}else{if(l(i))break;e+=i}}return""!==r&&E({},ct.UnexpectedToken,"ILLEGAL"),{type:at.StringLiteral,value:e,octal:c,lineNumber:mt,lineStart:vt,range:[n,dt]}}function x(){var e,r,n,i,o,a,s=!1,c,f=!1;for(yt=null,d(),n=dt,r=pt[dt],t("/"===r,"Regular expression literal must start with a slash"),e=pt[dt++];gt>dt;)if(r=pt[dt++],e+=r,s)"]"===r&&(s=!1);else if("\\"===r)r=pt[dt++],l(r)&&E({},ct.UnterminatedRegExp),e+=r;else{if("/"===r){f=!0;break}"["===r?s=!0:l(r)&&E({},ct.UnterminatedRegExp)}for(f||E({},ct.UnterminatedRegExp),i=e.substr(1,e.length-2),o="";gt>dt&&(r=pt[dt],u(r));)if(++dt,"\\"===r&&gt>dt)if(r=pt[dt],"u"===r)if(++dt,c=dt,r=m("u"))for(o+=r,e+="\\u";dt>c;++c)e+=pt[c];else dt=c,o+="u",e+="\\u";else e+="\\";else o+=r,e+=r;try{a=new RegExp(i,o)}catch(p){E({},ct.InvalidRegExp)}return{literal:e,value:a,range:[n,dt]}}function w(e){return e.type===at.Identifier||e.type===at.Keyword||e.type===at.BooleanLiteral||e.type===at.NullLiteral}function L(){var e,t;return d(),dt>=gt?{type:at.EOF,lineNumber:mt,lineStart:vt,range:[dt,dt]}:(t=g(),"undefined"!=typeof t?t:(e=pt[dt],"'"===e||'"'===e?b():"."===e||n(e)?y():(t=v(),"undefined"!=typeof t?t:void E({},ct.UnexpectedToken,"ILLEGAL"))))}function S(){var e;return yt?(dt=yt.range[1],mt=yt.lineNumber,vt=yt.lineStart,e=yt,yt=null,e):(yt=null,L())}function C(){var e,t,r;return null!==yt?yt:(e=dt,t=mt,r=vt,yt=L(),dt=e,mt=t,vt=r,yt)}function k(){var e,t,r,n;return e=dt,t=mt,r=vt,d(),n=mt!==t,dt=e,mt=t,vt=r,n}function E(e,t){var r,n=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return n[t]||""});throw"number"==typeof e.lineNumber?(r=new Error("Line "+e.lineNumber+": "+i),r.index=e.range[0],r.lineNumber=e.lineNumber,r.column=e.range[0]-vt+1):(r=new Error("Line "+mt+": "+i),r.index=dt,r.lineNumber=mt,r.column=dt-vt+1),r}function M(){try{E.apply(null,arguments)}catch(e){if(!xt.errors)throw e;xt.errors.push(e)}}function A(e){if(e.type===at.EOF&&E(e,ct.UnexpectedEOS),e.type===at.NumericLiteral&&E(e,ct.UnexpectedNumber),e.type===at.StringLiteral&&E(e,ct.UnexpectedString),e.type===at.Identifier&&E(e,ct.UnexpectedIdentifier),e.type===at.Keyword){if(c(e.value))E(e,ct.UnexpectedReserved);else if(ht&&f(e.value))return void M(e,ct.StrictReservedWord);E(e,ct.UnexpectedToken,e.value)}E(e,ct.UnexpectedToken,e.value)}function N(e){var t=S();(t.type!==at.Punctuator||t.value!==e)&&A(t)}function O(e){var t=S();(t.type!==at.Keyword||t.value!==e)&&A(t)}function T(e){var t=C();return t.type===at.Punctuator&&t.value===e}function I(e){var t=C();return t.type===at.Keyword&&t.value===e}function D(){var e=C(),t=e.value;return e.type!==at.Punctuator?!1:"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t}function P(){var e,t;if(";"===pt[dt])return void S();if(t=mt,d(),mt===t){if(T(";"))return void S();e=C(),e.type===at.EOF||T("}")||A(e)}}function W(e){return e.type===st.Identifier||e.type===st.MemberExpression}function H(){var e=[];for(N("[");!T("]");)T(",")?(S(),e.push(null)):(e.push(ue()),T("]")||N(","));return N("]"),{type:st.ArrayExpression,elements:e}}function F(e,t){var r,n;return r=ht,n=He(),t&&ht&&p(e[0].name)&&M(t,ct.StrictParamName),ht=r,{type:st.FunctionExpression,id:null,params:e,defaults:[],body:n,rest:null,generator:!1,expression:!1}}function R(){var e=S();return e.type===at.StringLiteral||e.type===at.NumericLiteral?(ht&&e.octal&&M(e,ct.StrictOctalLiteral),Ye(e)):{type:st.Identifier,name:e.value}}function B(){var e,t,r,n;return e=C(),e.type===at.Identifier?(r=R(),"get"!==e.value||T(":")?"set"!==e.value||T(":")?(N(":"),{type:st.Property,key:r,value:ue(),kind:"init"}):(t=R(),N("("),e=C(),e.type!==at.Identifier&&A(S()),n=[he()],N(")"),{type:st.Property,key:t,value:F(n,e),kind:"set"}):(t=R(),N("("),N(")"),{type:st.Property,key:t,value:F([]),kind:"get"})):e.type!==at.EOF&&e.type!==at.Punctuator?(t=R(),N(":"),{type:st.Property,key:t,value:ue(),kind:"init"}):void A(e)}function z(){var e=[],t,r,n,i={},o=String;for(N("{");!T("}");)t=B(),r=t.key.type===st.Identifier?t.key.name:o(t.key.value),n="init"===t.kind?ut.Data:"get"===t.kind?ut.Get:ut.Set,Object.prototype.hasOwnProperty.call(i,r)?(i[r]===ut.Data?ht&&n===ut.Data?M({},ct.StrictDuplicateProperty):n!==ut.Data&&M({},ct.AccessorDataProperty):n===ut.Data?M({},ct.AccessorDataProperty):i[r]&n&&M({},ct.AccessorGetSet),i[r]|=n):i[r]=n,e.push(t),T("}")||N(",");return N("}"),{type:st.ObjectExpression,properties:e}}function V(){var e;return N("("),e=ce(),N(")"),e}function j(){var e=C(),t=e.type;if(t===at.Identifier)return{type:st.Identifier,name:S().value};if(t===at.StringLiteral||t===at.NumericLiteral)return ht&&e.octal&&M(e,ct.StrictOctalLiteral),Ye(S());if(t===at.Keyword){if(I("this"))return S(),{type:st.ThisExpression};if(I("function"))return Re()}return t===at.BooleanLiteral?(S(),e.value="true"===e.value,Ye(e)):t===at.NullLiteral?(S(),e.value=null,Ye(e)):T("[")?H():T("{")?z():T("(")?V():T("/")||T("/=")?Ye(x()):A(S())}function U(){var e=[];if(N("("),!T(")"))for(;gt>dt&&(e.push(ue()),!T(")"));)N(",");return N(")"),e}function _(){var e=S();return w(e)||A(e),{type:st.Identifier,name:e.value}}function G(){return N("."),_()}function K(){var e;return N("["),e=ce(),N("]"),e}function X(){var e;return O("new"),e={type:st.NewExpression,callee:q(),arguments:[]},T("(")&&(e.arguments=U()),e}function Y(){var e;for(e=I("new")?X():j();T(".")||T("[")||T("(");)e=T("(")?{type:st.CallExpression,callee:e,arguments:U()}:T("[")?{type:st.MemberExpression,computed:!0,object:e,property:K()}:{type:st.MemberExpression,computed:!1,object:e,property:G()};return e}function q(){var e;for(e=I("new")?X():j();T(".")||T("[");)e=T("[")?{type:st.MemberExpression,computed:!0,object:e,property:K()}:{type:st.MemberExpression,computed:!1,object:e,property:G()};return e}function $(){var e=Y(),t;return t=C(),t.type!==at.Punctuator?e:(!T("++")&&!T("--")||k()||(ht&&e.type===st.Identifier&&p(e.name)&&M({},ct.StrictLHSPostfix),W(e)||E({},ct.InvalidLHSInAssignment),e={type:st.UpdateExpression,operator:S().value,argument:e,prefix:!1}),e)}function Z(){var e,t;return e=C(),e.type!==at.Punctuator&&e.type!==at.Keyword?$():T("++")||T("--")?(e=S(),t=Z(),ht&&t.type===st.Identifier&&p(t.name)&&M({},ct.StrictLHSPrefix),W(t)||E({},ct.InvalidLHSInAssignment),t={type:st.UpdateExpression,operator:e.value,argument:t,prefix:!0}):T("+")||T("-")||T("~")||T("!")?t={type:st.UnaryExpression,operator:S().value,argument:Z()}:I("delete")||I("void")||I("typeof")?(t={type:st.UnaryExpression,operator:S().value,argument:Z()},ht&&"delete"===t.operator&&t.argument.type===st.Identifier&&M({},ct.StrictDelete),t):$()}function Q(){for(var e=Z();T("*")||T("/")||T("%");)e={type:st.BinaryExpression,operator:S().value,left:e,right:Z()};return e}function J(){for(var e=Q();T("+")||T("-");)e={type:st.BinaryExpression,operator:S().value,left:e,right:Q()};return e}function ee(){for(var e=J();T("<<")||T(">>")||T(">>>");)e={type:st.BinaryExpression,operator:S().value,left:e,right:J()};return e}function te(){var e,t;for(t=bt.allowIn,bt.allowIn=!0,e=ee();T("<")||T(">")||T("<=")||T(">=")||t&&I("in")||I("instanceof");)e={type:st.BinaryExpression,operator:S().value,left:e,right:ee()};return bt.allowIn=t,e}function re(){for(var e=te();T("==")||T("!=")||T("===")||T("!==");)e={type:st.BinaryExpression,operator:S().value,left:e,right:te()};return e}function ne(){for(var e=re();T("&");)S(),e={type:st.BinaryExpression,operator:"&",left:e,right:re()};return e}function ie(){for(var e=ne();T("^");)S(),e={type:st.BinaryExpression,operator:"^",left:e,right:ne()};return e}function oe(){for(var e=ie();T("|");)S(),e={type:st.BinaryExpression,operator:"|",left:e,right:ie()};return e}function ae(){for(var e=oe();T("&&");)S(),e={type:st.LogicalExpression,operator:"&&",left:e,right:oe()};return e}function le(){for(var e=ae();T("||");)S(),e={type:st.LogicalExpression,operator:"||",left:e,right:ae()};return e}function se(){var e,t,r;return e=le(),T("?")&&(S(),t=bt.allowIn,bt.allowIn=!0,r=ue(),bt.allowIn=t,N(":"),e={type:st.ConditionalExpression,test:e,consequent:r,alternate:ue()}),e}function ue(){var e,t;return e=C(),t=se(),D()&&(W(t)||E({},ct.InvalidLHSInAssignment),ht&&t.type===st.Identifier&&p(t.name)&&M(e,ct.StrictLHSAssignment),t={type:st.AssignmentExpression,operator:S().value,left:t,right:ue()}),t}function ce(){var e=ue();if(T(","))for(e={type:st.SequenceExpression,expressions:[e]};gt>dt&&T(",");)S(),e.expressions.push(ue());return e}function fe(){for(var e=[],t;gt>dt&&!T("}")&&(t=Be(),"undefined"!=typeof t);)e.push(t);return e}function pe(){var e;return N("{"),e=fe(),N("}"),{type:st.BlockStatement,body:e}}function he(){var e=S();return e.type!==at.Identifier&&A(e),{type:st.Identifier,name:e.value}}function de(e){var t=he(),r=null;return ht&&p(t.name)&&M({},ct.StrictVarName),"const"===e?(N("="),r=ue()):T("=")&&(S(),r=ue()),{type:st.VariableDeclarator,id:t,init:r}}function me(e){for(var t=[];gt>dt&&(t.push(de(e)),T(","));)S();return t}function ve(){var e;return O("var"),e=me(),P(),{type:st.VariableDeclaration,declarations:e,kind:"var"}}function ge(e){var t;return O(e),t=me(e),P(),{type:st.VariableDeclaration,declarations:t,kind:e}}function ye(){return N(";"),{type:st.EmptyStatement}}function be(){var e=ce();return P(),{type:st.ExpressionStatement,expression:e}}function xe(){var e,t,r;return O("if"),N("("),e=ce(),N(")"),t=We(),I("else")?(S(),r=We()):r=null,{type:st.IfStatement,test:e,consequent:t,alternate:r}}function we(){var e,t,r;return O("do"),r=bt.inIteration,bt.inIteration=!0,e=We(),bt.inIteration=r,O("while"),N("("),t=ce(),N(")"),T(";")&&S(),{type:st.DoWhileStatement,body:e,test:t}}function Le(){
var e,t,r;return O("while"),N("("),e=ce(),N(")"),r=bt.inIteration,bt.inIteration=!0,t=We(),bt.inIteration=r,{type:st.WhileStatement,test:e,body:t}}function Se(){var e=S();return{type:st.VariableDeclaration,declarations:me(),kind:e.value}}function Ce(){var e,t,r,n,i,o,a;return e=t=r=null,O("for"),N("("),T(";")?S():(I("var")||I("let")?(bt.allowIn=!1,e=Se(),bt.allowIn=!0,1===e.declarations.length&&I("in")&&(S(),n=e,i=ce(),e=null)):(bt.allowIn=!1,e=ce(),bt.allowIn=!0,I("in")&&(W(e)||E({},ct.InvalidLHSInForIn),S(),n=e,i=ce(),e=null)),"undefined"==typeof n&&N(";")),"undefined"==typeof n&&(T(";")||(t=ce()),N(";"),T(")")||(r=ce())),N(")"),a=bt.inIteration,bt.inIteration=!0,o=We(),bt.inIteration=a,"undefined"==typeof n?{type:st.ForStatement,init:e,test:t,update:r,body:o}:{type:st.ForInStatement,left:n,right:i,body:o,each:!1}}function ke(){var e,t=null;return O("continue"),";"===pt[dt]?(S(),bt.inIteration||E({},ct.IllegalContinue),{type:st.ContinueStatement,label:null}):k()?(bt.inIteration||E({},ct.IllegalContinue),{type:st.ContinueStatement,label:null}):(e=C(),e.type===at.Identifier&&(t=he(),Object.prototype.hasOwnProperty.call(bt.labelSet,t.name)||E({},ct.UnknownLabel,t.name)),P(),null!==t||bt.inIteration||E({},ct.IllegalContinue),{type:st.ContinueStatement,label:t})}function Ee(){var e,t=null;return O("break"),";"===pt[dt]?(S(),bt.inIteration||bt.inSwitch||E({},ct.IllegalBreak),{type:st.BreakStatement,label:null}):k()?(bt.inIteration||bt.inSwitch||E({},ct.IllegalBreak),{type:st.BreakStatement,label:null}):(e=C(),e.type===at.Identifier&&(t=he(),Object.prototype.hasOwnProperty.call(bt.labelSet,t.name)||E({},ct.UnknownLabel,t.name)),P(),null!==t||bt.inIteration||bt.inSwitch||E({},ct.IllegalBreak),{type:st.BreakStatement,label:t})}function Me(){var e,t=null;return O("return"),bt.inFunctionBody||M({},ct.IllegalReturn)," "===pt[dt]&&s(pt[dt+1])?(t=ce(),P(),{type:st.ReturnStatement,argument:t}):k()?{type:st.ReturnStatement,argument:null}:(T(";")||(e=C(),T("}")||e.type===at.EOF||(t=ce())),P(),{type:st.ReturnStatement,argument:t})}function Ae(){var e,t;return ht&&M({},ct.StrictModeWith),O("with"),N("("),e=ce(),N(")"),t=We(),{type:st.WithStatement,object:e,body:t}}function Ne(){var e,t=[],r;for(I("default")?(S(),e=null):(O("case"),e=ce()),N(":");gt>dt&&!(T("}")||I("default")||I("case"))&&(r=We(),"undefined"!=typeof r);)t.push(r);return{type:st.SwitchCase,test:e,consequent:t}}function Oe(){var e,t,r,n,i;if(O("switch"),N("("),e=ce(),N(")"),N("{"),T("}"))return S(),{type:st.SwitchStatement,discriminant:e};for(t=[],n=bt.inSwitch,bt.inSwitch=!0,i=!1;gt>dt&&!T("}");)r=Ne(),null===r.test&&(i&&E({},ct.MultipleDefaultsInSwitch),i=!0),t.push(r);return bt.inSwitch=n,N("}"),{type:st.SwitchStatement,discriminant:e,cases:t}}function Te(){var e;return O("throw"),k()&&E({},ct.NewlineAfterThrow),e=ce(),P(),{type:st.ThrowStatement,argument:e}}function Ie(){var e;return O("catch"),N("("),T(")")||(e=ce(),ht&&e.type===st.Identifier&&p(e.name)&&M({},ct.StrictCatchVariable)),N(")"),{type:st.CatchClause,param:e,body:pe()}}function De(){var e,t=[],r=null;return O("try"),e=pe(),I("catch")&&t.push(Ie()),I("finally")&&(S(),r=pe()),0!==t.length||r||E({},ct.NoCatchOrFinally),{type:st.TryStatement,block:e,guardedHandlers:[],handlers:t,finalizer:r}}function Pe(){return O("debugger"),P(),{type:st.DebuggerStatement}}function We(){var e=C(),t,r;if(e.type===at.EOF&&A(e),e.type===at.Punctuator)switch(e.value){case";":return ye();case"{":return pe();case"(":return be()}if(e.type===at.Keyword)switch(e.value){case"break":return Ee();case"continue":return ke();case"debugger":return Pe();case"do":return we();case"for":return Ce();case"function":return Fe();case"if":return xe();case"return":return Me();case"switch":return Oe();case"throw":return Te();case"try":return De();case"var":return ve();case"while":return Le();case"with":return Ae()}return t=ce(),t.type===st.Identifier&&T(":")?(S(),Object.prototype.hasOwnProperty.call(bt.labelSet,t.name)&&E({},ct.Redeclaration,"Label",t.name),bt.labelSet[t.name]=!0,r=We(),delete bt.labelSet[t.name],{type:st.LabeledStatement,label:t,body:r}):(P(),{type:st.ExpressionStatement,expression:t})}function He(){var e,t=[],n,i,o,a,l,s,u;for(N("{");gt>dt&&(n=C(),n.type===at.StringLiteral)&&(e=Be(),t.push(e),e.expression.type===st.Literal);)i=r(n.range[0]+1,n.range[1]-1),"use strict"===i?(ht=!0,o&&M(o,ct.StrictOctalLiteral)):!o&&n.octal&&(o=n);for(a=bt.labelSet,l=bt.inIteration,s=bt.inSwitch,u=bt.inFunctionBody,bt.labelSet={},bt.inIteration=!1,bt.inSwitch=!1,bt.inFunctionBody=!0;gt>dt&&!T("}")&&(e=Be(),"undefined"!=typeof e);)t.push(e);return N("}"),bt.labelSet=a,bt.inIteration=l,bt.inSwitch=s,bt.inFunctionBody=u,{type:st.BlockStatement,body:t}}function Fe(){var e,t,r=[],n,i,o,a,l,s,u;if(O("function"),i=C(),e=he(),ht?p(i.value)&&M(i,ct.StrictFunctionName):p(i.value)?(a=i,l=ct.StrictFunctionName):f(i.value)&&(a=i,l=ct.StrictReservedWord),N("("),!T(")"))for(u={};gt>dt&&(i=C(),t=he(),ht?(p(i.value)&&(o=i,l=ct.StrictParamName),Object.prototype.hasOwnProperty.call(u,i.value)&&(o=i,l=ct.StrictParamDupe)):a||(p(i.value)?(a=i,l=ct.StrictParamName):f(i.value)?(a=i,l=ct.StrictReservedWord):Object.prototype.hasOwnProperty.call(u,i.value)&&(a=i,l=ct.StrictParamDupe)),r.push(t),u[t.name]=!0,!T(")"));)N(",");return N(")"),s=ht,n=He(),ht&&a&&E(a,l),ht&&o&&M(o,l),ht=s,{type:st.FunctionDeclaration,id:e,params:r,defaults:[],body:n,rest:null,generator:!1,expression:!1}}function Re(){var e,t=null,r,n,i,o,a=[],l,s,u;if(O("function"),T("(")||(e=C(),t=he(),ht?p(e.value)&&M(e,ct.StrictFunctionName):p(e.value)?(n=e,i=ct.StrictFunctionName):f(e.value)&&(n=e,i=ct.StrictReservedWord)),N("("),!T(")"))for(u={};gt>dt&&(e=C(),o=he(),ht?(p(e.value)&&(r=e,i=ct.StrictParamName),Object.prototype.hasOwnProperty.call(u,e.value)&&(r=e,i=ct.StrictParamDupe)):n||(p(e.value)?(n=e,i=ct.StrictParamName):f(e.value)?(n=e,i=ct.StrictReservedWord):Object.prototype.hasOwnProperty.call(u,e.value)&&(n=e,i=ct.StrictParamDupe)),a.push(o),u[o.name]=!0,!T(")"));)N(",");return N(")"),s=ht,l=He(),ht&&n&&E(n,i),ht&&r&&M(r,i),ht=s,{type:st.FunctionExpression,id:t,params:a,defaults:[],body:l,rest:null,generator:!1,expression:!1}}function Be(){var e=C();if(e.type===at.Keyword)switch(e.value){case"const":case"let":return ge(e.value);case"function":return Fe();default:return We()}return e.type!==at.EOF?We():void 0}function ze(){for(var e,t=[],n,i,o;gt>dt&&(n=C(),n.type===at.StringLiteral)&&(e=Be(),t.push(e),e.expression.type===st.Literal);)i=r(n.range[0]+1,n.range[1]-1),"use strict"===i?(ht=!0,o&&M(o,ct.StrictOctalLiteral)):!o&&n.octal&&(o=n);for(;gt>dt&&(e=Be(),"undefined"!=typeof e);)t.push(e);return t}function Ve(){var e;return ht=!1,e={type:st.Program,body:ze()}}function je(e,r,n,i,o){t("number"==typeof n,"Comment must have valid position"),xt.comments.length>0&&xt.comments[xt.comments.length-1].range[1]>n||xt.comments.push({type:e,value:r,range:[n,i],loc:o})}function Ue(){var e,t,r,n,i,o;for(e="",i=!1,o=!1;gt>dt;)if(t=pt[dt],o)t=pt[dt++],l(t)?(r.end={line:mt,column:dt-vt-1},o=!1,je("Line",e,n,dt-1,r),"\r"===t&&"\n"===pt[dt]&&++dt,++mt,vt=dt,e=""):dt>=gt?(o=!1,e+=t,r.end={line:mt,column:gt-vt},je("Line",e,n,gt,r)):e+=t;else if(i)l(t)?("\r"===t&&"\n"===pt[dt+1]?(++dt,e+="\r\n"):e+=t,++mt,++dt,vt=dt,dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL")):(t=pt[dt++],dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL"),e+=t,"*"===t&&(t=pt[dt],"/"===t&&(e=e.substr(0,e.length-1),i=!1,++dt,r.end={line:mt,column:dt-vt},je("Block",e,n,dt,r),e="")));else if("/"===t)if(t=pt[dt+1],"/"===t)r={start:{line:mt,column:dt-vt}},n=dt,dt+=2,o=!0,dt>=gt&&(r.end={line:mt,column:dt-vt},o=!1,je("Line",e,n,dt,r));else{if("*"!==t)break;n=dt,dt+=2,i=!0,r={start:{line:mt,column:dt-vt-2}},dt>=gt&&E({},ct.UnexpectedToken,"ILLEGAL")}else if(a(t))++dt;else{if(!l(t))break;++dt,"\r"===t&&"\n"===pt[dt]&&++dt,++mt,vt=dt}}function _e(){var e,t,r,n=[];for(e=0;e<xt.comments.length;++e)t=xt.comments[e],r={type:t.type,value:t.value},xt.range&&(r.range=t.range),xt.loc&&(r.loc=t.loc),n.push(r);xt.comments=n}function Ge(){var e,t,n,i,o;return d(),e=dt,t={start:{line:mt,column:dt-vt}},n=xt.advance(),t.end={line:mt,column:dt-vt},n.type!==at.EOF&&(i=[n.range[0],n.range[1]],o=r(n.range[0],n.range[1]),xt.tokens.push({type:lt[n.type],value:o,range:i,loc:t})),n}function Ke(){var e,t,r,n;return d(),e=dt,t={start:{line:mt,column:dt-vt}},r=xt.scanRegExp(),t.end={line:mt,column:dt-vt},xt.tokens.length>0&&(n=xt.tokens[xt.tokens.length-1],n.range[0]===e&&"Punctuator"===n.type&&("/"===n.value||"/="===n.value)&&xt.tokens.pop()),xt.tokens.push({type:"RegularExpression",value:r.literal,range:[e,dt],loc:t}),r}function Xe(){var e,t,r,n=[];for(e=0;e<xt.tokens.length;++e)t=xt.tokens[e],r={type:t.type,value:t.value},xt.range&&(r.range=t.range),xt.loc&&(r.loc=t.loc),n.push(r);xt.tokens=n}function Ye(e){return{type:st.Literal,value:e.value}}function qe(e){return{type:st.Literal,value:e.value,raw:r(e.range[0],e.range[1])}}function $e(){var e={};return e.range=[dt,dt],e.loc={start:{line:mt,column:dt-vt},end:{line:mt,column:dt-vt}},e.end=function(){this.range[1]=dt,this.loc.end.line=mt,this.loc.end.column=dt-vt},e.applyGroup=function(e){xt.range&&(e.groupRange=[this.range[0],this.range[1]]),xt.loc&&(e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e.apply=function(e){xt.range&&(e.range=[this.range[0],this.range[1]]),xt.loc&&(e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e}function Ze(){var e,t;return d(),e=$e(),N("("),t=ce(),N(")"),e.end(),e.applyGroup(t),t}function Qe(){var e,t;for(d(),e=$e(),t=I("new")?X():j();T(".")||T("[");)T("[")?(t={type:st.MemberExpression,computed:!0,object:t,property:K()},e.end(),e.apply(t)):(t={type:st.MemberExpression,computed:!1,object:t,property:G()},e.end(),e.apply(t));return t}function Je(){var e,t;for(d(),e=$e(),t=I("new")?X():j();T(".")||T("[")||T("(");)T("(")?(t={type:st.CallExpression,callee:t,arguments:U()},e.end(),e.apply(t)):T("[")?(t={type:st.MemberExpression,computed:!0,object:t,property:K()},e.end(),e.apply(t)):(t={type:st.MemberExpression,computed:!1,object:t,property:G()},e.end(),e.apply(t));return t}function et(e){var t,r,n;t="[object Array]"===Object.prototype.toString.apply(e)?[]:{};for(r in e)e.hasOwnProperty(r)&&"groupRange"!==r&&"groupLoc"!==r&&(n=e[r],t[r]=null===n||"object"!=typeof n||n instanceof RegExp?n:et(n));return t}function tt(e,t){return function(r){function n(e){return e.type===st.LogicalExpression||e.type===st.BinaryExpression}function i(r){var o,a;n(r.left)&&i(r.left),n(r.right)&&i(r.right),e&&(r.left.groupRange||r.right.groupRange?(o=r.left.groupRange?r.left.groupRange[0]:r.left.range[0],a=r.right.groupRange?r.right.groupRange[1]:r.right.range[1],r.range=[o,a]):"undefined"==typeof r.range&&(o=r.left.range[0],a=r.right.range[1],r.range=[o,a])),t&&(r.left.groupLoc||r.right.groupLoc?(o=r.left.groupLoc?r.left.groupLoc.start:r.left.loc.start,a=r.right.groupLoc?r.right.groupLoc.end:r.right.loc.end,r.loc={start:o,end:a}):"undefined"==typeof r.loc&&(r.loc={start:r.left.loc.start,end:r.right.loc.end}))}return function(){var o,a;return d(),o=$e(),a=r.apply(null,arguments),o.end(),e&&"undefined"==typeof a.range&&o.apply(a),t&&"undefined"==typeof a.loc&&o.apply(a),n(a)&&i(a),a}}}function rt(){var e;xt.comments&&(xt.skipComment=d,d=Ue),xt.raw&&(xt.createLiteral=Ye,Ye=qe),(xt.range||xt.loc)&&(xt.parseGroupExpression=V,xt.parseLeftHandSideExpression=q,xt.parseLeftHandSideExpressionAllowCall=Y,V=Ze,q=Qe,Y=Je,e=tt(xt.range,xt.loc),xt.parseAdditiveExpression=J,xt.parseAssignmentExpression=ue,xt.parseBitwiseANDExpression=ne,xt.parseBitwiseORExpression=oe,xt.parseBitwiseXORExpression=ie,xt.parseBlock=pe,xt.parseFunctionSourceElements=He,xt.parseCatchClause=Ie,xt.parseComputedMember=K,xt.parseConditionalExpression=se,xt.parseConstLetDeclaration=ge,xt.parseEqualityExpression=re,xt.parseExpression=ce,xt.parseForVariableDeclaration=Se,xt.parseFunctionDeclaration=Fe,xt.parseFunctionExpression=Re,xt.parseLogicalANDExpression=ae,xt.parseLogicalORExpression=le,xt.parseMultiplicativeExpression=Q,xt.parseNewExpression=X,xt.parseNonComputedProperty=_,xt.parseObjectProperty=B,xt.parseObjectPropertyKey=R,xt.parsePostfixExpression=$,xt.parsePrimaryExpression=j,xt.parseProgram=Ve,xt.parsePropertyFunction=F,xt.parseRelationalExpression=te,xt.parseStatement=We,xt.parseShiftExpression=ee,xt.parseSwitchCase=Ne,xt.parseUnaryExpression=Z,xt.parseVariableDeclaration=de,xt.parseVariableIdentifier=he,J=e(xt.parseAdditiveExpression),ue=e(xt.parseAssignmentExpression),ne=e(xt.parseBitwiseANDExpression),oe=e(xt.parseBitwiseORExpression),ie=e(xt.parseBitwiseXORExpression),pe=e(xt.parseBlock),He=e(xt.parseFunctionSourceElements),Ie=e(xt.parseCatchClause),K=e(xt.parseComputedMember),se=e(xt.parseConditionalExpression),ge=e(xt.parseConstLetDeclaration),re=e(xt.parseEqualityExpression),ce=e(xt.parseExpression),Se=e(xt.parseForVariableDeclaration),Fe=e(xt.parseFunctionDeclaration),Re=e(xt.parseFunctionExpression),q=e(q),ae=e(xt.parseLogicalANDExpression),le=e(xt.parseLogicalORExpression),Q=e(xt.parseMultiplicativeExpression),X=e(xt.parseNewExpression),_=e(xt.parseNonComputedProperty),B=e(xt.parseObjectProperty),R=e(xt.parseObjectPropertyKey),$=e(xt.parsePostfixExpression),j=e(xt.parsePrimaryExpression),Ve=e(xt.parseProgram),F=e(xt.parsePropertyFunction),te=e(xt.parseRelationalExpression),We=e(xt.parseStatement),ee=e(xt.parseShiftExpression),Ne=e(xt.parseSwitchCase),Z=e(xt.parseUnaryExpression),de=e(xt.parseVariableDeclaration),he=e(xt.parseVariableIdentifier)),"undefined"!=typeof xt.tokens&&(xt.advance=L,xt.scanRegExp=x,L=Ge,x=Ke)}function nt(){"function"==typeof xt.skipComment&&(d=xt.skipComment),xt.raw&&(Ye=xt.createLiteral),(xt.range||xt.loc)&&(J=xt.parseAdditiveExpression,ue=xt.parseAssignmentExpression,ne=xt.parseBitwiseANDExpression,oe=xt.parseBitwiseORExpression,ie=xt.parseBitwiseXORExpression,pe=xt.parseBlock,He=xt.parseFunctionSourceElements,Ie=xt.parseCatchClause,K=xt.parseComputedMember,se=xt.parseConditionalExpression,ge=xt.parseConstLetDeclaration,re=xt.parseEqualityExpression,ce=xt.parseExpression,Se=xt.parseForVariableDeclaration,Fe=xt.parseFunctionDeclaration,Re=xt.parseFunctionExpression,V=xt.parseGroupExpression,q=xt.parseLeftHandSideExpression,Y=xt.parseLeftHandSideExpressionAllowCall,ae=xt.parseLogicalANDExpression,le=xt.parseLogicalORExpression,Q=xt.parseMultiplicativeExpression,X=xt.parseNewExpression,_=xt.parseNonComputedProperty,B=xt.parseObjectProperty,R=xt.parseObjectPropertyKey,j=xt.parsePrimaryExpression,$=xt.parsePostfixExpression,Ve=xt.parseProgram,F=xt.parsePropertyFunction,te=xt.parseRelationalExpression,We=xt.parseStatement,ee=xt.parseShiftExpression,Ne=xt.parseSwitchCase,Z=xt.parseUnaryExpression,de=xt.parseVariableDeclaration,he=xt.parseVariableIdentifier),"function"==typeof xt.scanRegExp&&(L=xt.advance,x=xt.scanRegExp)}function it(e){var t=e.length,r=[],n;for(n=0;t>n;++n)r[n]=e.charAt(n);return r}function ot(e,t){var r,n;n=String,"string"==typeof e||e instanceof String||(e=n(e)),pt=e,dt=0,mt=pt.length>0?1:0,vt=0,gt=pt.length,yt=null,bt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},xt={},"undefined"!=typeof t&&(xt.range="boolean"==typeof t.range&&t.range,xt.loc="boolean"==typeof t.loc&&t.loc,xt.raw="boolean"==typeof t.raw&&t.raw,"boolean"==typeof t.tokens&&t.tokens&&(xt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(xt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(xt.errors=[])),gt>0&&"undefined"==typeof pt[0]&&(e instanceof String&&(pt=e.valueOf()),"undefined"==typeof pt[0]&&(pt=it(e))),rt();try{r=Ve(),"undefined"!=typeof xt.comments&&(_e(),r.comments=xt.comments),"undefined"!=typeof xt.tokens&&(Xe(),r.tokens=xt.tokens),"undefined"!=typeof xt.errors&&(r.errors=xt.errors),(xt.range||xt.loc)&&(r.body=et(r.body))}catch(i){throw i}finally{nt(),xt={}}return r}var at,lt,st,ut,ct,ft,pt,ht,dt,mt,vt,gt,yt,bt,xt;at={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},lt={},lt[at.BooleanLiteral]="Boolean",lt[at.EOF]="<end>",lt[at.Identifier]="Identifier",lt[at.Keyword]="Keyword",lt[at.NullLiteral]="Null",lt[at.NumericLiteral]="Numeric",lt[at.Punctuator]="Punctuator",lt[at.StringLiteral]="String",st={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},ut={Data:1,Get:2,Set:4},ct={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},ft={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},"undefined"==typeof"esprima"[0]&&(r=function wt(e,t){return pt.slice(e,t).join("")}),e.version="1.0.2",e.parse=ot,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in st)st.hasOwnProperty(e)&&(t[e]=st[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],7:[function(e,t,r){function n(e){if(!e||"[object Object]"!==toString.call(e)||e.nodeType||e.setInterval)return!1;var t=hasOwnProperty.call(e,"constructor"),r=hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var n;for(n in e);return void 0===n||i.call(e,n)}var i=Object.prototype.hasOwnProperty;t.exports=function o(){var e,t,r,i,a,l,s=arguments[0]||{},u=1,c=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[1]||{},u=2),"object"!=typeof s&&"function"!=typeof s&&(s={});c>u;u++)if(null!=(e=arguments[u]))for(t in e)r=s[t],i=e[t],s!==i&&(f&&i&&(n(i)||(a=Array.isArray(i)))?(a?(a=!1,l=r&&Array.isArray(r)?r:[]):l=r&&n(r)?r:{},s[t]=o(f,l,i)):void 0!==i&&(s[t]=i));return s}},{}],8:[function(e,t,r){function n(e,t,r){r=r||{};var n={};[e.prototype,r].forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})}),e.prototype=Object.create(t.prototype,n),e["super"]=t}t.exports=n},{}]},{},[2])}();

!function(){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.Autosuggest=t(require("React")):e.Autosuggest=t(e.React)}(this,function(e){return function(e){function t(s){if(n[s])return n[s].exports;var u=n[s]={exports:{},id:s,loaded:!1};return e[s].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],s=!0,u=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(s=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(l){u=!0,o=l}finally{try{!s&&r["return"]&&r["return"]()}finally{if(u)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=function(e,t,n){for(var s=!0;s;){var u=e,o=t,i=n;r=a=l=void 0,s=!1;var r=Object.getOwnPropertyDescriptor(u,o);if(void 0!==r){if("value"in r)return r.value;var l=r.get;return void 0===l?void 0:l.call(i)}var a=Object.getPrototypeOf(u);if(null===a)return void 0;e=a,t=o,n=i,s=!0}},g=n(1),c=s(g),f=n(2),d=s(f),h=n(4),p=s(h),v=n(5),S=s(v),y=0,m=function(e){function t(e){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),y+=1,this.id=y,this.cache={},this.state={value:e.inputAttributes.value||"",suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},this.suggestionsFn=d["default"](e.suggestions,100),this.onChange=e.inputAttributes.onChange||function(){},this.onBlur=e.inputAttributes.onBlur||function(){},this.lastSuggestionsInputValue=null,this.justUnfocused=!1,this.justClickedOnSuggestion=!1}return i(t,e),l(t,[{key:"resetSectionIterator",value:function(e){S["default"].setData(this.isMultipleSections(e)?e.map(function(e){return e.suggestions.length}):null===e?[]:e.length)}},{key:"isMultipleSections",value:function(e){return null!==e&&e.length>0&&"undefined"!=typeof e[0].suggestions}},{key:"setSuggestionsState",value:function(e){this.resetSectionIterator(e),this.setState({suggestions:e,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null})}},{key:"suggestionsExist",value:function(e){return this.isMultipleSections(e)?e.some(function(e){return e.suggestions.length>0}):null!==e&&e.length>0}},{key:"showSuggestions",value:function(e){var t=this,n=e.toLowerCase();this.lastSuggestionsInputValue=e,this.props.showWhen(e)?this.cache[n]?this.setSuggestionsState(this.cache[n]):this.suggestionsFn(e,function(s,u){if(t.lastSuggestionsInputValue===e){if(s)throw s;t.suggestionsExist(u)||(u=null),t.cache[n]=u,t.setSuggestionsState(u)}}):this.setSuggestionsState(null)}},{key:"suggestionIsFocused",value:function(){return null!==this.state.focusedSuggestionIndex}},{key:"getSuggestion",value:function(e,t){return this.isMultipleSections(this.state.suggestions)?this.state.suggestions[e].suggestions[t]:this.state.suggestions[t]}},{key:"getFocusedSuggestion",value:function(){return this.suggestionIsFocused()?this.getSuggestion(this.state.focusedSectionIndex,this.state.focusedSuggestionIndex):null}},{key:"getSuggestionValue",value:function(e,t){var n=this.getSuggestion(e,t);if("object"==typeof n){if(this.props.suggestionValue)return this.props.suggestionValue(n);throw new Error("When <suggestion> is an object, you must implement the suggestionValue() function to specify how to set input's value when suggestion selected.")}return n.toString()}},{key:"onSuggestionUnfocused",value:function(){var e=this.getFocusedSuggestion();null===e||this.justUnfocused||(this.props.onSuggestionUnfocused(e),this.justUnfocused=!0)}},{key:"onSuggestionFocused",value:function(e,t){this.onSuggestionUnfocused();var n=this.getSuggestion(e,t);this.props.onSuggestionFocused(n),this.justUnfocused=!1}},{key:"focusOnSuggestionUsingKeyboard",value:function(e){var t=u(e,2),n=t[0],s=t[1],o={focusedSectionIndex:n,focusedSuggestionIndex:s,value:null===s?this.state.valueBeforeUpDown:this.getSuggestionValue(n,s)};null===this.state.valueBeforeUpDown&&(o.valueBeforeUpDown=this.state.value),null===s?this.onSuggestionUnfocused():this.onSuggestionFocused(n,s),this.onChange(o.value),this.setState(o)}},{key:"onSuggestionSelected",value:function(e){var t=this.getFocusedSuggestion();this.props.onSuggestionUnfocused(t),this.props.onSuggestionSelected(t,e)}},{key:"onInputChange",value:function(e){var t=e.target.value;this.onSuggestionUnfocused(),this.onChange(t),this.setState({value:t,valueBeforeUpDown:null}),this.showSuggestions(t)}},{key:"onInputKeyDown",value:function(e){var t=void 0;switch(e.keyCode){case 13:null!==this.state.valueBeforeUpDown&&this.suggestionIsFocused()&&this.onSuggestionSelected(e),this.setSuggestionsState(null);break;case 27:t={suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},null!==this.state.valueBeforeUpDown?t.value=this.state.valueBeforeUpDown:null===this.state.suggestions&&(t.value=""),this.onSuggestionUnfocused(),"string"==typeof t.value&&t.value!==this.state.value&&this.onChange(t.value),this.setState(t);break;case 38:null===this.state.suggestions?this.showSuggestions(this.state.value):this.focusOnSuggestionUsingKeyboard(S["default"].prev([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex])),e.preventDefault();break;case 40:null===this.state.suggestions?this.showSuggestions(this.state.value):this.focusOnSuggestionUsingKeyboard(S["default"].next([this.state.focusedSectionIndex,this.state.focusedSuggestionIndex]))}}},{key:"onInputBlur",value:function(){this.onSuggestionUnfocused(),this.justClickedOnSuggestion||this.onBlur(),this.setSuggestionsState(null)}},{key:"isSuggestionFocused",value:function(e,t){return e===this.state.focusedSectionIndex&&t===this.state.focusedSuggestionIndex}},{key:"onSuggestionMouseEnter",value:function(e,t){this.isSuggestionFocused(e,t)||this.onSuggestionFocused(e,t),this.setState({focusedSectionIndex:e,focusedSuggestionIndex:t})}},{key:"onSuggestionMouseLeave",value:function(e,t){this.isSuggestionFocused(e,t)&&this.onSuggestionUnfocused(),this.setState({focusedSectionIndex:null,focusedSuggestionIndex:null})}},{key:"onSuggestionMouseDown",value:function(e,t,n){var s=this,u=this.getSuggestionValue(e,t);this.justClickedOnSuggestion=!0,this.onSuggestionSelected(n),this.onChange(u),this.setState({value:u,suggestions:null,focusedSectionIndex:null,focusedSuggestionIndex:null,valueBeforeUpDown:null},function(){setTimeout(function(){g.findDOMNode(s.refs.input).focus(),s.justClickedOnSuggestion=!1})})}},{key:"getSuggestionId",value:function(e,t){return null===t?null:"react-autosuggest-"+this.id+"-suggestion-"+(null===e?"":e)+"-"+t}},{key:"renderSuggestionContent",value:function(e){if(this.props.suggestionRenderer)return this.props.suggestionRenderer(e,this.state.valueBeforeUpDown||this.state.value);if("object"==typeof e)throw new Error("When <suggestion> is an object, you must implement the suggestionRenderer() function to specify how to render it.");return e.toString()}},{key:"renderSuggestionsList",value:function(e,t){var n=this;return e.map(function(e,s){var u=p["default"]({"react-autosuggest__suggestion":!0,"react-autosuggest__suggestion--focused":t===n.state.focusedSectionIndex&&s===n.state.focusedSuggestionIndex}),o="suggestion-"+(null===t?"":t)+"-"+s;return c["default"].createElement("li",{id:n.getSuggestionId(t,s),className:u,role:"option",key:o,onMouseEnter:function(){return n.onSuggestionMouseEnter(t,s)},onMouseLeave:function(){return n.onSuggestionMouseLeave(t,s)},onMouseDown:function(e){return n.onSuggestionMouseDown(t,s,e)}},n.renderSuggestionContent(e))})}},{key:"renderSuggestions",value:function(){var e=this;return""===this.state.value||null===this.state.suggestions?null:this.isMultipleSections(this.state.suggestions)?c["default"].createElement("div",{id:"react-autosuggest-"+this.id,className:"react-autosuggest__suggestions",role:"listbox"},this.state.suggestions.map(function(t,n){var s=t.sectionName?c["default"].createElement("div",{className:"react-autosuggest__suggestions-section-name"},t.sectionName):null;return 0===t.suggestions.length?null:c["default"].createElement("div",{className:"react-autosuggest__suggestions-section",key:"section-"+n},s,c["default"].createElement("ul",{className:"react-autosuggest__suggestions-section-suggestions"},e.renderSuggestionsList(t.suggestions,n)))})):c["default"].createElement("ul",{id:"react-autosuggest-"+this.id,className:"react-autosuggest__suggestions",role:"listbox"},this.renderSuggestionsList(this.state.suggestions,null))}},{key:"render",value:function(){var e=this.getSuggestionId(this.state.focusedSectionIndex,this.state.focusedSuggestionIndex);return c["default"].createElement("div",{className:"react-autosuggest"},c["default"].createElement("input",r({},this.props.inputAttributes,{type:"text",value:this.state.value,autoComplete:"off",role:"combobox","aria-autocomplete":"list","aria-owns":"react-autosuggest-"+this.id,"aria-expanded":null!==this.state.suggestions,"aria-activedescendant":e,ref:"input",onChange:this.onInputChange.bind(this),onKeyDown:this.onInputKeyDown.bind(this),onBlur:this.onInputBlur.bind(this)})),this.renderSuggestions())}}],[{key:"propTypes",value:{suggestions:g.PropTypes.func.isRequired,suggestionRenderer:g.PropTypes.func,suggestionValue:g.PropTypes.func,showWhen:g.PropTypes.func,onSuggestionSelected:g.PropTypes.func,onSuggestionFocused:g.PropTypes.func,onSuggestionUnfocused:g.PropTypes.func,inputAttributes:g.PropTypes.object},enumerable:!0},{key:"defaultProps",value:{showWhen:function(e){return e.trim().length>0},onSuggestionSelected:function(){},onSuggestionFocused:function(){},onSuggestionUnfocused:function(){},inputAttributes:{}},enumerable:!0}]),t}(g.Component);t["default"]=m,e.exports=t["default"]},function(t,n,s){t.exports=e},function(e,t,n){var s=n(3);e.exports=function(e,t,n){function u(){var g=s()-l;t>g&&g>0?o=setTimeout(u,t-g):(o=null,n||(a=e.apply(r,i),o||(r=i=null)))}var o,i,r,l,a;return null==t&&(t=100),function(){r=this,i=arguments,l=s();var g=n&&!o;return o||(o=setTimeout(u,t)),g&&(a=e.apply(r,i),r=i=null),a}}},function(e,t,n){function s(){return(new Date).getTime()}e.exports=Date.now||s},function(e,t,n){function s(){"use strict";for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(n){var u=typeof n;if("string"===u||"number"===u)e+=" "+n;else if(Array.isArray(n))e+=" "+s.apply(null,n);else if("object"===u)for(var o in n)n.hasOwnProperty(o)&&n[o]&&(e+=" "+o)}}return e.substr(1)}var u,o;"undefined"!=typeof e&&e.exports&&(e.exports=s),u=[],o=function(){return s}.apply(t,u),!(void 0!==o&&(e.exports=o))},function(e,t,n){"use strict";function s(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=[],s=!0,u=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(s=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(l){u=!0,o=l}finally{try{!s&&r["return"]&&r["return"]()}finally{if(u)throw o}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e){a=e,g="object"==typeof a}function o(e){for(null===e?e=0:e++;e<a.length&&0===a[e];)e++;return e===a.length?null:e}function i(e){for(null===e?e=a.length-1:e--;e>=0&&0===a[e];)e--;return-1===e?null:e}function r(e){var t=s(e,2),n=t[0],u=t[1];return g?null===u||u===a[n]-1?(n=o(n),null===n?[null,null]:[n,0]):[n,u+1]:0===a||u===a-1?[null,null]:null===u?[null,0]:[null,u+1]}function l(e){var t=s(e,2),n=t[0],u=t[1];return g?null===u||0===u?(n=i(n),null===n?[null,null]:[n,a[n]-1]):[n,u-1]:0===a||0===u?[null,null]:null===u?[null,a-1]:[null,u-1]}Object.defineProperty(t,"__esModule",{value:!0});var a=void 0,g=void 0;t["default"]={setData:u,next:r,prev:l},e.exports=t["default"]}])})}();

!function(){!function t(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):"object"==typeof exports?exports.ReactRouter=n(require("react")):e.ReactRouter=n(e.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.DefaultRoute=n(1),e.Link=n(2),e.NotFoundRoute=n(3),e.Redirect=n(4),e.Route=n(5),e.RouteHandler=n(6),e.HashLocation=n(7),e.HistoryLocation=n(8),e.RefreshLocation=n(9),e.StaticLocation=n(10),e.TestLocation=n(11),e.ImitateBrowserBehavior=n(12),e.ScrollToTopBehavior=n(13),e.History=n(14),e.Navigation=n(15),e.State=n(16),e.createRoute=n(17).createRoute,e.createDefaultRoute=n(17).createDefaultRoute,e.createNotFoundRoute=n(17).createNotFoundRoute,e.createRedirect=n(17).createRedirect,e.createRoutesFromReactChildren=n(18),e.create=n(19),e.run=n(20)},function(t,e,n){"use strict";var r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(22),a=n(6),u=n(5),s=function(t){function e(){o(this,e),null!=t&&t.apply(this,arguments)}return r(e,t),e}(u);s.propTypes={name:i.string,path:i.falsy,children:i.falsy,handler:i.func.isRequired},s.defaultProps={handler:a},t.exports=s},function(t,e,n){"use strict";function r(t){return 0===t.button}function o(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var i=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=n(21),c=n(33),f=n(22),l=function(t){function e(){u(this,e),null!=t&&t.apply(this,arguments)}return a(e,t),i(e,{handleClick:{value:function n(t){var e=!0,n;this.props.onClick&&(n=this.props.onClick(t)),!o(t)&&r(t)&&((n===!1||t.defaultPrevented===!0)&&(e=!1),t.preventDefault(),e&&this.context.router.transitionTo(this.props.to,this.props.params,this.props.query))}},getHref:{value:function f(){return this.context.router.makeHref(this.props.to,this.props.params,this.props.query)}},getClassName:{value:function l(){var t=this.props.className;return this.getActiveState()&&(t+=" "+this.props.activeClassName),t}},getActiveState:{value:function p(){return this.context.router.isActive(this.props.to,this.props.params,this.props.query)}},render:{value:function h(){var t=c({},this.props,{href:this.getHref(),className:this.getClassName(),onClick:this.handleClick.bind(this)});return t.activeStyle&&this.getActiveState()&&(t.style=t.activeStyle),s.DOM.a(t,this.props.children)}}}),e}(s.Component);l.contextTypes={router:f.router.isRequired},l.propTypes={activeClassName:f.string.isRequired,to:f.oneOfType([f.string,f.route]).isRequired,params:f.object,query:f.object,activeStyle:f.object,onClick:f.func},l.defaultProps={activeClassName:"active",className:""},t.exports=l},function(t,e,n){"use strict";var r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(22),a=n(6),u=n(5),s=function(t){function e(){o(this,e),null!=t&&t.apply(this,arguments)}return r(e,t),e}(u);s.propTypes={name:i.string,path:i.falsy,children:i.falsy,handler:i.func.isRequired},s.defaultProps={handler:a},t.exports=s},function(t,e,n){"use strict";var r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(22),a=n(5),u=function(t){function e(){o(this,e),null!=t&&t.apply(this,arguments)}return r(e,t),e}(a);u.propTypes={path:i.string,from:i.string,to:i.string,handler:i.falsy},u.defaultProps={},t.exports=u},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(21),u=n(34),s=n(22),c=n(6),f=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function n(){u(!1,"%s elements are for router configuration only and should not be rendered",this.constructor.name)}}}),e}(a.Component);f.propTypes={name:s.string,path:s.string,handler:s.func,ignoreScrollBehavior:s.bool},f.defaultProps={handler:c},t.exports=f},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(21),u=n(23),s=n(33),c=n(22),f="__routeHandler__",l=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{getChildContext:{value:function n(){return{routeDepth:this.context.routeDepth+1}}},componentDidMount:{value:function c(){this._updateRouteComponent(this.refs[f])}},componentDidUpdate:{value:function l(){this._updateRouteComponent(this.refs[f])}},componentWillUnmount:{value:function p(){this._updateRouteComponent(null)}},_updateRouteComponent:{value:function h(t){this.context.router.setRouteComponentAtDepth(this.getRouteDepth(),t)}},getRouteDepth:{value:function d(){return this.context.routeDepth}},createChildRouteHandler:{value:function v(t){var e=this.context.router.getRouteAtDepth(this.getRouteDepth());return e?a.createElement(e.handler,s({},t||this.props,{ref:f})):null}},render:{value:function y(){var t=this.createChildRouteHandler();return t?a.createElement(u,null,t):a.createElement("script",null)}}}),e}(a.Component);l.contextTypes={routeDepth:c.number.isRequired,router:c.router.isRequired},l.childContextTypes={routeDepth:c.number.isRequired},t.exports=l},function(t,e,n){"use strict";function r(t){t===a.PUSH&&(u.length+=1);var e={path:l.getCurrentPath(),type:t};s.forEach(function(t){t.call(l,e)})}function o(){var t=l.getCurrentPath();return"/"===t.charAt(0)?!0:(l.replace("/"+t),!1)}function i(){if(o()){var t=f;f=null,r(t||a.POP)}}var a=n(24),u=n(14),s=[],c=!1,f,l={addChangeListener:function p(t){s.push(t),o(),c||(window.addEventListener?window.addEventListener("hashchange",i,!1):window.attachEvent("onhashchange",i),c=!0)},removeChangeListener:function h(t){s=s.filter(function(e){return e!==t}),0===s.length&&(window.removeEventListener?window.removeEventListener("hashchange",i,!1):window.removeEvent("onhashchange",i),c=!1)},push:function d(t){f=a.PUSH,window.location.hash=t},replace:function v(t){f=a.REPLACE,window.location.replace(window.location.pathname+window.location.search+"#"+t)},pop:function y(){f=a.POP,u.back()},getCurrentPath:function m(){return decodeURI(window.location.href.split("#")[1]||"")},toString:function g(){return"<HashLocation>"}};t.exports=l},function(t,e,n){"use strict";function r(t){var e={path:c.getCurrentPath(),type:t};u.forEach(function(t){t.call(c,e)})}function o(t){void 0!==t.state&&r(i.POP)}var i=n(24),a=n(14),u=[],s=!1,c={addChangeListener:function f(t){u.push(t),s||(window.addEventListener?window.addEventListener("popstate",o,!1):window.attachEvent("onpopstate",o),s=!0)},removeChangeListener:function l(t){u=u.filter(function(e){return e!==t}),0===u.length&&(window.addEventListener?window.removeEventListener("popstate",o,!1):window.removeEvent("onpopstate",o),s=!1)},push:function p(t){window.history.pushState({path:t},"",t),a.length+=1,r(i.PUSH)},replace:function h(t){window.history.replaceState({path:t},"",t),r(i.REPLACE)},pop:a.back,getCurrentPath:function d(){return decodeURI(window.location.pathname+window.location.search)},toString:function v(){return"<HistoryLocation>"}};t.exports=c},function(t,e,n){"use strict";var r=n(8),o=n(14),i={push:function a(t){window.location=t},replace:function u(t){window.location.replace(t)},pop:o.back,getCurrentPath:r.getCurrentPath,toString:function s(){return"<RefreshLocation>"}};t.exports=i},function(t,e,n){"use strict";function r(){a(!1,"You cannot modify a static location")}var o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(34),u=function(){function t(e){i(this,t),this.path=e}return o(t,{getCurrentPath:{value:function e(){return this.path}},toString:{value:function n(){return'<StaticLocation path="'+this.path+'">'}}}),t}();u.prototype.push=r,u.prototype.replace=r,u.prototype.pop=r,t.exports=u},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(34),a=n(24),u=n(14),s=function(){function t(e){o(this,t),this.history=e||[],this.listeners=[],this._updateHistoryLength()}return r(t,{needsDOM:{get:function(){return!1}},_updateHistoryLength:{value:function e(){u.length=this.history.length}},_notifyChange:{value:function n(t){for(var e={path:this.getCurrentPath(),type:t},n=0,r=this.listeners.length;r>n;++n)this.listeners[n].call(this,e)}},addChangeListener:{value:function s(t){this.listeners.push(t)}},removeChangeListener:{value:function c(t){this.listeners=this.listeners.filter(function(e){return e!==t})}},push:{value:function f(t){this.history.push(t),this._updateHistoryLength(),this._notifyChange(a.PUSH)}},replace:{value:function l(t){i(this.history.length,"You cannot replace the current path with no history"),this.history[this.history.length-1]=t,this._notifyChange(a.REPLACE)}},pop:{value:function p(){this.history.pop(),this._updateHistoryLength(),this._notifyChange(a.POP)}},getCurrentPath:{value:function h(){return this.history[this.history.length-1]}},toString:{value:function d(){return"<TestLocation>"}}}),t}();t.exports=s},function(t,e,n){"use strict";var r=n(24),o={updateScrollPosition:function i(t,e){switch(e){case r.PUSH:case r.REPLACE:window.scrollTo(0,0);break;case r.POP:t?window.scrollTo(t.x,t.y):window.scrollTo(0,0)}}};t.exports=o},function(t,e,n){"use strict";var r={updateScrollPosition:function o(){window.scrollTo(0,0)}};t.exports=r},function(t,e,n){"use strict";var r=n(34),o=n(35).canUseDOM,i={length:1,back:function a(){r(o,"Cannot use History.back without a DOM"),i.length-=1,window.history.back()}};t.exports=i},function(t,e,n){"use strict";function r(t,e){return function(){return o(!1,"Router.Navigation is deprecated. Please use this.context.router."+t+"() instead"),e.apply(this,arguments)}}var o=n(36),i=n(22),a={contextTypes:{router:i.router.isRequired},makePath:r("makePath",function(t,e,n){return this.context.router.makePath(t,e,n)}),makeHref:r("makeHref",function(t,e,n){return this.context.router.makeHref(t,e,n)}),transitionTo:r("transitionTo",function(t,e,n){this.context.router.transitionTo(t,e,n)}),replaceWith:r("replaceWith",function(t,e,n){this.context.router.replaceWith(t,e,n)}),goBack:r("goBack",function(){return this.context.router.goBack()})};t.exports=a},function(t,e,n){"use strict";function r(t,e){return function(){return o(!1,"Router.State is deprecated. Please use this.context.router."+t+"() instead"),e.apply(this,arguments)}}var o=n(36),i=n(22),a={contextTypes:{router:i.router.isRequired},getPath:r("getCurrentPath",function(){return this.context.router.getCurrentPath()}),getPathname:r("getCurrentPathname",function(){return this.context.router.getCurrentPathname()}),getParams:r("getCurrentParams",function(){return this.context.router.getCurrentParams()}),getQuery:r("getCurrentQuery",function(){return this.context.router.getCurrentQuery()}),getRoutes:r("getCurrentRoutes",function(){return this.context.router.getCurrentRoutes()}),isActive:r("isActive",function(t,e,n){return this.context.router.isActive(t,e,n)})};t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(33),a=n(34),u=n(36),s=n(25),c,f=function(){function t(e,n,r,i,a,u,c,f){o(this,t),this.name=e,this.path=n,this.paramNames=s.extractParamNames(this.path),this.ignoreScrollBehavior=!!r,this.isDefault=!!i,this.isNotFound=!!a,this.onEnter=u,this.onLeave=c,this.handler=f}return r(t,{appendChild:{value:function e(n){a(n instanceof t,"route.appendChild must use a valid Route"),this.childRoutes||(this.childRoutes=[]),this.childRoutes.push(n)}},toString:{value:function n(){var t="<Route";return this.name&&(t+=' name="'+this.name+'"'),t+=' path="'+this.path+'">'}}},{createRoute:{value:function f(e,n){e=e||{},"string"==typeof e&&(e={path:e});var r=c;r?u(null==e.parentRoute||e.parentRoute===r,"You should not use parentRoute with createRoute inside another route's child callback; it is ignored"):r=e.parentRoute;var o=e.name,i=e.path||o;!i||e.isDefault||e.isNotFound?i=r?r.path:"/":s.isAbsolute(i)?r&&a(i===r.path||0===r.paramNames.length,'You cannot nest path "%s" inside "%s"; the parent requires URL parameters',i,r.path):i=r?s.join(r.path,i):"/"+i,e.isNotFound&&!/\*$/.test(i)&&(i+="*");var f=new t(o,i,e.ignoreScrollBehavior,e.isDefault,e.isNotFound,e.onEnter,e.onLeave,e.handler);if(r&&(f.isDefault?(a(null==r.defaultRoute,"%s may not have more than one default route",r),r.defaultRoute=f):f.isNotFound&&(a(null==r.notFoundRoute,"%s may not have more than one not found route",r),r.notFoundRoute=f),r.appendChild(f)),"function"==typeof n){var l=c;c=f,n.call(f,f),c=l}return f}},createDefaultRoute:{value:function l(e){return t.createRoute(i({},e,{isDefault:!0}))}},createNotFoundRoute:{value:function p(e){return t.createRoute(i({},e,{isNotFound:!0}))}},createRedirect:{value:function h(e){return t.createRoute(i({},e,{path:e.path||e.from||"*",onEnter:function n(t,r,o){t.redirect(e.to,e.params||r,e.query||o)}}))}}}),t}();t.exports=f},function(t,e,n){"use strict";function r(t,e,n){t=t||"UnknownComponent";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r](n,r,t);o instanceof Error&&c(!1,o.message)}}function o(t){var e=s({},t),n=e.handler;return n&&(e.onEnter=n.willTransitionTo,e.onLeave=n.willTransitionFrom),e}function i(t){if(u.isValidElement(t)){var e=t.type,n=s({},e.defaultProps,t.props);return e.propTypes&&r(e.displayName,e.propTypes,n),e===f?h.createDefaultRoute(o(n)):e===l?h.createNotFoundRoute(o(n)):e===p?h.createRedirect(o(n)):h.createRoute(o(n),function(){n.children&&a(n.children)})}}function a(t){var e=[];return u.Children.forEach(t,function(t){(t=i(t))&&e.push(t)}),e}var u=n(21),s=n(33),c=n(36),f=n(1),l=n(3),p=n(4),h=n(17);t.exports=a},function(t,e,n){"use strict";function r(t,e){for(var n in e)if(e.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}function o(t,e,n,o,i,a){return t.some(function(t){if(t!==e)return!1;for(var u=e.paramNames,s,c=0,f=u.length;f>c;++c)if(s=u[c],o[s]!==n[s])return!1;return r(i,a)&&r(a,i)})}function i(t,e){for(var n,r=0,o=t.length;o>r;++r)n=t[r],n.name&&(p(null==e[n.name],'You may not have more than one route named "%s"',n.name),e[n.name]=n),n.childRoutes&&i(n.childRoutes,e)}function a(t,e){return t.some(function(t){return t.name===e})}function u(t,e){for(var n in e)if(String(t[n])!==String(e[n]))return!1;return!0}function s(t,e){for(var n in e)if(String(t[n])!==String(e[n]))return!1;return!0}function c(t){t=t||{},x(t)&&(t={routes:t});var e=[],n=t.location||_,r=t.scrollBehavior||k,c={},v={},D=null,N=null;"string"==typeof n&&(n=new w(n)),n instanceof w?l(!h||!1,"You should not use a static location in a DOM environment because the router will not be kept in sync with the current URL"):p(h||n.needsDOM===!1,"You cannot use %s without a DOM",n),n!==m||j()||(n=g);var H=f.createClass({displayName:"Router",statics:{isRunning:!1,cancelPendingTransition:function q(){D&&(D.cancel(),D=null)},clearAllRoutes:function U(){H.cancelPendingTransition(),H.namedRoutes={},H.routes=[]},addRoutes:function M(t){x(t)&&(t=R(t)),i(t,H.namedRoutes),H.routes.push.apply(H.routes,t)},replaceRoutes:function B(t){H.clearAllRoutes(),H.addRoutes(t),H.refresh()},match:function F(t){return T.findMatch(H.routes,t)},makePath:function Q(t,e,n){var r;if(A.isAbsolute(t))r=t;else{var o=t instanceof S?t:H.namedRoutes[t];p(o instanceof S,'Cannot find a route named "%s"',t),r=o.path}return A.withQuery(A.injectParams(r,e),n)},makeHref:function W(t,e,r){var o=H.makePath(t,e,r);return n===y?"#"+o:o},transitionTo:function I(t,e,r){var o=H.makePath(t,e,r);D?n.replace(o):n.push(o)},replaceWith:function $(t,e,r){n.replace(H.makePath(t,e,r))},goBack:function Y(){return E.length>1||n===g?(n.pop(),!0):(l(!1,"goBack() was ignored because there is no router history"),!1)},handleAbort:t.onAbort||function(t){if(n instanceof w)throw new Error("Unhandled aborted transition! Reason: "+t);t instanceof L||(t instanceof O?n.replace(H.makePath(t.to,t.params,t.query)):n.pop())},handleError:t.onError||function(t){throw t},handleLocationChange:function K(t){H.dispatch(t.path,t.type)},dispatch:function V(t,n){H.cancelPendingTransition();var r=c.path,i=null==n;if(r!==t||i){r&&n===d.PUSH&&H.recordScrollPosition(r);var a=H.match(t);l(null!=a,'No route matches path "%s". Make sure you have <Route path="%s"> somewhere in your routes',t,t),null==a&&(a={});var u=c.routes||[],s=c.params||{},f=c.query||{},p=a.routes||[],h=a.params||{},v=a.query||{},y,m;u.length?(y=u.filter(function(t){return!o(p,t,s,h,f,v)}),m=p.filter(function(t){return!o(u,t,s,h,f,v)})):(y=[],m=p);var g=new P(t,H.replaceWith.bind(H,t));D=g;var w=e.slice(u.length-y.length);P.from(g,y,w,function(e){return e||g.abortReason?N.call(H,e,g):void P.to(g,m,h,v,function(e){N.call(H,e,g,{path:t,action:n,pathname:a.pathname,routes:p,params:h,query:v})})})}},run:function z(t){p(!H.isRunning,"Router is already running"),N=function(e,n,r){e&&H.handleError(e),D===n&&(D=null,n.abortReason?H.handleAbort(n.abortReason):t.call(H,H,v=r))},n instanceof w||(n.addChangeListener&&n.addChangeListener(H.handleLocationChange),H.isRunning=!0),H.refresh()},refresh:function Z(){H.dispatch(n.getCurrentPath(),null)},stop:function G(){H.cancelPendingTransition(),n.removeChangeListener&&n.removeChangeListener(H.handleLocationChange),H.isRunning=!1},getLocation:function X(){return n},getScrollBehavior:function J(){return r},getRouteAtDepth:function tt(t){var e=c.routes;return e&&e[t]},setRouteComponentAtDepth:function et(t,n){e[t]=n},getCurrentPath:function nt(){return c.path},getCurrentPathname:function rt(){return c.pathname},getCurrentParams:function ot(){return c.params},getCurrentQuery:function it(){return c.query},getCurrentRoutes:function at(){return c.routes},isActive:function ut(t,e,n){return A.isAbsolute(t)?t===c.path:a(c.routes,t)&&u(c.params,e)&&(null==n||s(c.query,n))}},mixins:[b],propTypes:{children:C.falsy},childContextTypes:{routeDepth:C.number.isRequired,router:C.router.isRequired},getChildContext:function st(){return{routeDepth:1,router:H}},getInitialState:function ct(){return c=v},componentWillReceiveProps:function ft(){this.setState(c=v)},componentWillUnmount:function lt(){H.stop()},render:function pt(){var t=H.getRouteAtDepth(0);return t?f.createElement(t.handler,this.props):null}});return H.clearAllRoutes(),t.routes&&H.addRoutes(t.routes),H}var f=n(21),l=n(36),p=n(34),h=n(35).canUseDOM,d=n(24),v=n(12),y=n(7),m=n(8),g=n(9),w=n(10),b=n(26),R=n(18),x=n(27),P=n(28),C=n(22),O=n(29),E=n(14),L=n(30),T=n(31),S=n(17),j=n(32),A=n(25),_=h?y:"/",k=h?v:null;t.exports=c},function(t,e,n){"use strict";function r(t,e,n){"function"==typeof e&&(n=e,e=null);var r=o({routes:t,location:e});return r.run(n),r}var o=n(19);t.exports=r},function(e,n,r){e.exports=t},function(t,e,n){"use strict";var r=n(33),o=n(21).PropTypes,i=n(17),a=r({},o,{falsy:function u(t,e,n){return t[e]?new Error("<"+n+'> may not have a "'+e+'" prop'):void 0},route:o.instanceOf(i),router:o.func});t.exports=a},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(21),u=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function n(){return this.props.children}}}),e}(a.Component);t.exports=u},function(t,e,n){"use strict";var r={PUSH:"push",REPLACE:"replace",POP:"pop"};t.exports=r},function(t,e,n){"use strict";function r(t){if(!(t in l)){var e=[],n=t.replace(u,function(t,n){return n?(e.push(n),"([^/?#]+)"):"*"===t?(e.push("splat"),"(.*?)"):"\\"+t});l[t]={matcher:new RegExp("^"+n+"$","i"),paramNames:e}}return l[t]}var o=n(34),i=n(38),a=n(39),u=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|[*.()\[\]\\+|{}^$]/g,s=/:([a-zA-Z_$][a-zA-Z0-9_$?]*[?]?)|[*]/g,c=/\/\/\?|\/\?\/|\/\?/g,f=/\?(.*)$/,l={},p={isAbsolute:function h(t){return"/"===t.charAt(0)},join:function d(t,e){return t.replace(/\/*$/,"/")+e},extractParamNames:function v(t){return r(t).paramNames},extractParams:function y(t,e){var n=r(t),o=n.matcher,i=n.paramNames,a=e.match(o);if(!a)return null;var u={};return i.forEach(function(t,e){u[t]=a[e+1]}),u},injectParams:function m(t,e){e=e||{};var n=0;return t.replace(s,function(r,i){if(i=i||"splat","?"===i.slice(-1)){if(i=i.slice(0,-1),null==e[i])return""}else o(null!=e[i],'Missing "%s" parameter for path "%s"',i,t);var a;return"splat"===i&&Array.isArray(e[i])?(a=e[i][n++],o(null!=a,'Missing splat # %s for path "%s"',n,t)):a=e[i],a}).replace(c,"/")},extractQuery:function g(t){var e=t.match(f);return e&&a.parse(e[1])},withoutQuery:function w(t){return t.replace(f,"")},withQuery:function b(t,e){var n=p.extractQuery(t);n&&(e=e?i(n,e):n);var r=a.stringify(e,{arrayFormat:"brackets"});return r?p.withoutQuery(t)+"?"+r:p.withoutQuery(t)}};t.exports=p},function(t,e,n){"use strict";function r(t,e){if(!e)return!0;if(t.pathname===e.pathname)return!1;var n=t.routes,r=e.routes,o=n.filter(function(t){return-1!==r.indexOf(t)});return!o.some(function(t){return t.ignoreScrollBehavior})}var o=n(34),i=n(35).canUseDOM,a=n(37),u={statics:{recordScrollPosition:function s(t){this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[t]=a()},getScrollPosition:function c(t){return this.scrollHistory||(this.scrollHistory={}),this.scrollHistory[t]||null}},componentWillMount:function f(){o(null==this.constructor.getScrollBehavior()||i,"Cannot use scroll behavior without a DOM")},componentDidMount:function l(){this._updateScroll()},componentDidUpdate:function p(t,e){this._updateScroll(e)},_updateScroll:function h(t){if(r(this.state,t)){var e=this.constructor.getScrollBehavior();e&&e.updateScrollPosition(this.constructor.getScrollPosition(this.state.path),this.state.action)}}};t.exports=u},function(t,e,n){"use strict";function r(t){return null==t||i.isValidElement(t)}function o(t){return r(t)||Array.isArray(t)&&t.every(r)}var i=n(21);t.exports=o},function(t,e,n){"use strict";function r(t,e){this.path=t,this.abortReason=null,this.retry=e.bind(this)}var o=n(30),i=n(29);r.prototype.abort=function(t){null==this.abortReason&&(this.abortReason=t||"ABORT")},r.prototype.redirect=function(t,e,n){this.abort(new i(t,e,n))},r.prototype.cancel=function(){this.abort(new o)},r.from=function(t,e,n,r){e.reduce(function(e,r,o){return function(i){if(i||t.abortReason)e(i);else if(r.onLeave)try{r.onLeave(t,n[o],e),r.onLeave.length<3&&e()}catch(a){e(a)}else e()}},r)()},r.to=function(t,e,n,r,o){e.reduceRight(function(e,o){return function(i){if(i||t.abortReason)e(i);else if(o.onEnter)try{o.onEnter(t,n,r,e),o.onEnter.length<4&&e()}catch(a){e(a)}else e()}},o)()},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.to=t,this.params=e,this.query=n}t.exports=r},function(t,e,n){"use strict";function r(){}t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var o=t.childRoutes;if(o)for(var i,s,c=0,f=o.length;f>c;++c)if(s=o[c],!s.isDefault&&!s.isNotFound&&(i=r(s,e,n)))return i.routes.unshift(t),i;var l=t.defaultRoute;if(l&&(h=a.extractParams(l.path,e)))return new u(e,h,n,[t,l]);var p=t.notFoundRoute;if(p&&(h=a.extractParams(p.path,e)))return new u(e,h,n,[t,p]);var h=a.extractParams(t.path,e);return h?new u(e,h,n,[t]):null}var o=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(25),u=function(){function t(e,n,r,o){i(this,t),this.pathname=e,this.params=n,this.query=r,this.routes=o}return o(t,null,{findMatch:{value:function e(t,n){for(var o=a.withoutQuery(n),i=a.extractQuery(n),u=null,s=0,c=t.length;null==u&&c>s;++s)u=r(t[s],o,i);return u}}}),t}();t.exports=u},function(t,e,n){"use strict";function r(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}t.exports=r},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i){var a=Object(i);for(var u in a)r.call(a,u)&&(n[u]=a[u])}}return n}t.exports=r},function(t,e,n){"use strict";var r=function o(t,e,n,r,i,a,u,s){if(!1)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,i,a,u,s],l=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return f[l++]}))}throw c.framesToPop=1,c}};t.exports=r},function(t,e,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},function(t,e,n){"use strict";var r=n(40),o=r;t.exports=o},function(t,e,n){"use strict";function r(){return o(i,"Cannot get current scroll position without a DOM"),{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}var o=n(34),i=n(35).canUseDOM;t.exports=r},function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var n,o,i=r(t),a=1;a<arguments.length;a++){n=arguments[a],o=Object.keys(Object(n));for(var u=0;u<o.length;u++)i[o[u]]=n[o[u]]}return i}},function(t,e,n){"use strict";t.exports=n(41)},function(t,e,n){"use strict";function r(t){return function(){return t}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";var r=n(42),o=n(43),i={};t.exports={stringify:r,parse:o}},function(t,e,n){"use strict";var r=n(44),o={delimiter:"&",arrayPrefixGenerators:{brackets:function i(t,e){return t+"[]"},indices:function a(t,e){return t+"["+e+"]"},repeat:function u(t,e){return t}}};o.stringify=function(t,e,n){if(r.isBuffer(t)?t=t.toString():t instanceof Date?t=t.toISOString():null===t&&(t=""),"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return[encodeURIComponent(e)+"="+encodeURIComponent(t)];var i=[];if("undefined"==typeof t)return i;for(var a=Object.keys(t),u=0,s=a.length;s>u;++u){var c=a[u];i=i.concat(Array.isArray(t)?o.stringify(t[c],n(e,c),n):o.stringify(t[c],e+"["+c+"]",n))}return i},t.exports=function(t,e){e=e||{};var n="undefined"==typeof e.delimiter?o.delimiter:e.delimiter,r=[];if("object"!=typeof t||null===t)return"";var i;i=e.arrayFormat in o.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";for(var a=o.arrayPrefixGenerators[i],u=Object.keys(t),s=0,c=u.length;c>s;++s){var f=u[s];r=r.concat(o.stringify(t[f],f,a))}return r.join(n)}},function(t,e,n){"use strict";var r=n(44),o={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};o.parseValues=function(t,e){for(var n={},o=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),i=0,a=o.length;a>i;++i){var u=o[i],s=-1===u.indexOf("]=")?u.indexOf("="):u.indexOf("]=")+1;if(-1===s)n[r.decode(u)]="";else{var c=r.decode(u.slice(0,s)),f=r.decode(u.slice(s+1));if(Object.prototype.hasOwnProperty(c))continue;n[c]=n.hasOwnProperty(c)?[].concat(n[c]).concat(f):f}}return n},o.parseObject=function(t,e,n){if(!t.length)return e;var r=t.shift(),i={};if("[]"===r)i=[],i=i.concat(o.parseObject(t,e,n));else{var a="["===r[0]&&"]"===r[r.length-1]?r.slice(1,r.length-1):r,u=parseInt(a,10),s=""+u;!isNaN(u)&&r!==a&&s===a&&u>=0&&u<=n.arrayLimit?(i=[],i[u]=o.parseObject(t,e,n)):i[a]=o.parseObject(t,e,n)}return i},o.parseKeys=function(t,e,n){if(t){var r=/^([^\[\]]*)/,i=/(\[[^\[\]]*\])/g,a=r.exec(t);if(!Object.prototype.hasOwnProperty(a[1])){var u=[];a[1]&&u.push(a[1]);for(var s=0;null!==(a=i.exec(t))&&s<n.depth;)++s,Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||u.push(a[1]);return a&&u.push("["+t.slice(a.index)+"]"),o.parseObject(u,e,n)}}},t.exports=function(t,e){if(""===t||null===t||"undefined"==typeof t)return{};e=e||{},e.delimiter="string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,e.depth="number"==typeof e.depth?e.depth:o.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit;

for(var n="string"==typeof t?o.parseValues(t,e):t,i={},a=Object.keys(n),u=0,s=a.length;s>u;++u){var c=a[u],f=o.parseKeys(c,n[c],e);i=r.merge(i,f)}return r.compact(i)}},function(t,e,n){"use strict";var r={};e.arrayToObject=function(t){for(var e={},n=0,r=t.length;r>n;++n)"undefined"!=typeof t[n]&&(e[n]=t[n]);return e},e.merge=function(t,n){if(!n)return t;if("object"!=typeof n)return Array.isArray(t)?t.push(n):t[n]=!0,t;if("object"!=typeof t)return t=[t].concat(n);Array.isArray(t)&&!Array.isArray(n)&&(t=e.arrayToObject(t));for(var r=Object.keys(n),o=0,i=r.length;i>o;++o){var a=r[o],u=n[a];t[a]=t[a]?e.merge(t[a],u):u}return t},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.compact=function(t,n){if("object"!=typeof t||null===t)return t;n=n||[];var r=n.indexOf(t);if(-1!==r)return n[r];if(n.push(t),Array.isArray(t)){for(var o=[],i=0,a=t.length;a>i;++i)"undefined"!=typeof t[i]&&o.push(t[i]);return o}var u=Object.keys(t);for(i=0,a=u.length;a>i;++i){var s=u[i];t[s]=e.compact(t[s],n)}return t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null===t||"undefined"==typeof t?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}}])})}();

!function(){!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports.ReactGridLayout=e(require("React")):t.ReactGridLayout=e(t.React)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports=r(5),t.exports.Responsive=r(12)},function(e,r,n){e.exports=t},function(t,e,r){"use strict";var n=r(7),o=t.exports={bottom:function(t){for(var e,r=0,n=0,o=t.length;o>n;n++)e=t[n].y+t[n].h,e>r&&(r=e);return r},clone:function(t){return n({},t)},collides:function(t,e){return t===e?!1:t.x+t.w<=e.x?!1:t.x>=e.x+e.w?!1:t.y+t.h<=e.y?!1:t.y>=e.y+e.h?!1:!0},compact:function(t,e){for(var r=o.getStatics(t),n=[],s=o.sortLayoutItemsByRowCol(t),i=0,a=s.length;a>i;i++){var p=s[i];p["static"]||(p=o.compactItem(r,p,e),r.push(p)),n[t.indexOf(p)]=p,delete p.moved}return n},compactItem:function(t,e,r){if(r)for(;e.y>0&&!o.getFirstCollision(t,e);)e.y--;for(var n;n=o.getFirstCollision(t,e);)e.y=n.y+n.h;return e},correctBounds:function(t,e){for(var r=o.getStatics(t),n=0,s=t.length;s>n;n++){var i=t[n];if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),i["static"])for(;o.getFirstCollision(r,i);)i.y++;else r.push(i)}return t},getLayoutItem:function(t,e){e=""+e;for(var r=0,n=t.length;n>r;r++)if(""+t[r].i===e)return t[r]},getFirstCollision:function(t,e){for(var r=0,n=t.length;n>r;r++)if(o.collides(t[r],e))return t[r]},getAllCollisions:function(t,e){for(var r=[],n=0,s=t.length;s>n;n++)o.collides(t[n],e)&&r.push(t[n]);return r},getStatics:function(t){for(var e=[],r=0,n=t.length;n>r;r++)t[r]["static"]&&e.push(t[r]);return e},moveElement:function(t,e,r,n,s){if(e["static"])return t;if(e.y===n&&e.x===r)return t;var i=e.y>n;void 0!==r&&(e.x=r),void 0!==n&&(e.y=n),e.moved=!0;var a=o.sortLayoutItemsByRowCol(t);i&&(a=a.reverse());for(var p=o.getAllCollisions(a,e),h=0,l=p.length;l>h;h++){var c=p[h];c.moved||e.y>c.y&&e.y-c.y>c.h/4||(t=c["static"]?o.moveElementAwayFromCollision(t,c,e,s):o.moveElementAwayFromCollision(t,e,c,s))}return t},moveElementAwayFromCollision:function(t,e,r,n){if(n){var s={x:r.x,y:r.y,w:r.w,h:r.h};if(s.y=Math.max(e.y-r.h,0),!o.getFirstCollision(t,s))return o.moveElement(t,r,void 0,s.y)}return o.moveElement(t,r,void 0,r.y+1)},perc:function(t){return 100*t+"%"},setTransform:function(t,e){var r=(""+e[0]).replace(/(\d)$/,"$1px"),n=(""+e[1]).replace(/(\d)$/,"$1px");return t.transform="translate("+r+","+n+")",t.WebkitTransform="translate("+r+","+n+")",t.MozTransform="translate("+r+","+n+")",t.msTransform="translate("+r+","+n+")",t.OTransform="translate("+r+","+n+")",t},sortLayoutItemsByRowCol:function(t){return[].concat(t).sort(function(t,e){return t.y>e.y||t.y===e.y&&t.x>e.x?1:-1})},synchronizeLayoutWithChildren:function(t,e,r,s){Array.isArray(e)||(e=[e]),t=t||[];for(var i=[],a=0,p=e.length;p>a;a++){var h=e[a],l=o.getLayoutItem(t,h.key);if(l)l.i=""+l.i,i.push(l);else{var c=h.props._grid;c?(o.validateLayout([c],"ReactGridLayout.child"),i.push(s?n({},c,{y:Math.min(o.bottom(i),c.y),i:h.key}):n({},c,{y:c.y,i:h.key}))):i.push({w:1,h:1,x:0,y:o.bottom(i),i:h.key})}}return i=o.correctBounds(i,{cols:r}),i=o.compact(i,s)},validateLayout:function(t,e){e=e||"Layout";var r=["x","y","w","h"];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(var n=0,o=t.length;o>n;n++){for(var s=0;s<r.length;s++)if("number"!=typeof t[n][r[s]])throw new Error("ReactGridLayout: "+e+"["+n+"]."+r[s]+" must be a Number!");if(void 0!==t[n]["static"]&&"boolean"!=typeof t[n]["static"])throw new Error("ReactGridLayout: "+e+"["+n+"].static must be a Boolean!")}}}},function(t,e,r){"use strict";var n=r(14),o={shouldComponentUpdate:function(t,e){return!n(this.props,t)||!n(this.state,e)}};t.exports=o},function(t,e,r){"use strict";function n(t,e){var r,n=i(t);for(r in e)p.call(l,r)?l[r](n,e[r],r):p.call(n,r)||(n[r]=e[r]);return n}function o(t){return function(e,r,n){e[n]=p.call(e,n)?t(e[n],r):r}}function s(t,e){return t?t+(e?" "+e:""):e||""}function i(){for(var t={},e=0;e<arguments.length;e++)for(var r in arguments[e])p.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var a=r(1),p=Object.prototype.hasOwnProperty,h=a.version.split(".").map(parseFloat),l={className:o(s),children:function(){},key:function(){},ref:function(){},style:o(i)};t.exports=function(t,e){function r(){}var o=n(e,t.props);return!p.call(o,"children")&&p.call(t.props,"children")&&(o.children=t.props.children),0===h[0]&&h[1]<11?t.constructor.ConvenienceConstructor(o):0===h[0]&&11===h[1]?t.constructor(o):0===h[0]&&12===h[1]?(r.isReactLegacyFactory=!0,r.type=t.type,a.createElement(r,o)):a.createElement(t.type,o)}},function(t,e,r){"use strict";var n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=r(1),i=r(11),a=r(2),p=r(3),h=r(6),l=s.createClass({displayName:"ReactGridLayout",mixins:[p,h],propTypes:{autoSize:s.PropTypes.bool,cols:s.PropTypes.number,draggableCancel:s.PropTypes.string,draggableHandle:s.PropTypes.string,verticalCompact:s.PropTypes.bool,layout:function c(t,e,r){var c=t.layout;void 0!==c&&a.validateLayout(c,"layout")},layouts:function(t,e,r){if(t.layouts)throw new Error("ReactGridLayout does not use `layouts`: Use ReactGridLayout.Responsive.")},margin:s.PropTypes.array,rowHeight:s.PropTypes.number,isDraggable:s.PropTypes.bool,isResizable:s.PropTypes.bool,useCSSTransforms:s.PropTypes.bool,onLayoutChange:s.PropTypes.func,onDragStart:s.PropTypes.func,onDrag:s.PropTypes.func,onDragStop:s.PropTypes.func,onResizeStart:s.PropTypes.func,onResize:s.PropTypes.func,onResizeStop:s.PropTypes.func,children:function u(t,e,r){s.PropTypes.node.apply(this,arguments);var u=t[e],n={};s.Children.forEach(u,function(t,e,r){if(n[t.key])throw new Error("Duplicate child key found! This will cause problems in ReactGridLayout.");n[t.key]=!0})}},getDefaultProps:function(){return{autoSize:!0,cols:12,rowHeight:150,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,onLayoutChange:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){},onResizeStart:function(){},onResize:function(){},onResizeStop:function(){}}},getInitialState:function(){return{activeDrag:null,isMounted:!1,layout:a.synchronizeLayoutWithChildren(this.props.layout,this.props.children,this.props.cols,this.props.verticalCompact),width:this.props.initialWidth}},componentDidMount:function(){this.props.onLayoutChange(this.state.layout),this.setState({isMounted:!0})},componentWillReceiveProps:function(t){t.width!==this.props.width&&this.onWidthChange(t.width),t.children.length!==this.props.children.length&&this.setState({layout:a.synchronizeLayoutWithChildren(this.state.layout,t.children,t.cols,this.props.verticalCompact)}),t.layout&&JSON.stringify(t.layout)!==JSON.stringify(this.state.layout)&&this.setState({layout:a.synchronizeLayoutWithChildren(t.layout,t.children,t.cols,this.props.verticalCompact)})},componentDidUpdate:function(t,e){this.state.layout===e.layout||this.state.activeDrag||this.props.onLayoutChange(this.state.layout,this.state.layouts)},containerHeight:function(){return this.props.autoSize?a.bottom(this.state.layout)*this.props.rowHeight+this.props.margin[1]+"px":void 0},onWidthChange:function(t){this.setState({width:t})},onDragStart:function(t,e,r,n){var o=n.e,s=(n.element,n.position,this.state.layout),i=a.getLayoutItem(s,t);this.props.onDragStart(s,i,i,null,o)},onDrag:function(t,e,r,n){var o=n.e,s=(n.element,n.position,this.state.layout),i=a.getLayoutItem(s,t),p=a.clone(i),h={w:i.w,h:i.h,x:i.x,y:i.y,placeholder:!0,i:t};s=a.moveElement(s,i,e,r,!0),this.props.onDrag(s,p,i,h,o),this.setState({layout:a.compact(s,this.props.verticalCompact),activeDrag:h})},onDragStop:function(t,e,r,n){var o=n.e,s=(n.element,n.position,this.state.layout),i=a.getLayoutItem(s,t),p=a.clone(i);s=a.moveElement(s,i,e,r,!0),this.props.onDragStop(s,p,i,null,o),this.setState({layout:a.compact(s,this.props.verticalCompact),activeDrag:null})},onResizeStart:function(t,e,r,n){var o=n.e,s=(n.element,n.size,this.state.layout),i=a.getLayoutItem(s,t);this.props.onResizeStart(s,i,i,null,o)},onResize:function(t,e,r,n){var o=n.e,s=(n.element,n.size,this.state.layout),i=a.getLayoutItem(s,t),p=a.clone(i);i.w=e,i.h=r;var h={w:e,h:r,x:i.x,y:i.y,placeholder:!0,i:t};this.props.onResize(s,p,i,h,o),this.setState({layout:a.compact(s,this.props.verticalCompact),activeDrag:h})},onResizeStop:function(t,e,r,n){var o=n.e,s=(n.element,n.size,this.state.layout),i=a.getLayoutItem(s,t),p=a.clone(i);this.props.onResizeStop(s,p,i,null,o),this.setState({activeDrag:null,layout:a.compact(s,this.props.verticalCompact)})},placeholder:function(){return this.state.activeDrag?s.createElement(i,{w:this.state.activeDrag.w,h:this.state.activeDrag.h,x:this.state.activeDrag.x,y:this.state.activeDrag.y,i:this.state.activeDrag.i,isPlaceholder:!0,className:"react-grid-placeholder",containerWidth:this.state.width,cols:this.props.cols,margin:this.props.margin,rowHeight:this.props.rowHeight,isDraggable:!1,isResizable:!1,useCSSTransforms:this.props.useCSSTransforms},s.createElement("div",null)):""},processGridItem:function(t){var e,r,n=t.key,p=a.getLayoutItem(this.state.layout,n),h=this.state.activeDrag,l=h&&h.i===n?!1:!0;return(p["static"]||this.props.isDraggable===!1)&&(e=!1),(p["static"]||this.props.isResizable===!1)&&(r=!1),s.createElement(i,o({containerWidth:this.state.width,cols:this.props.cols,margin:this.props.margin,rowHeight:this.props.rowHeight,moveOnStartChange:l,cancel:this.props.draggableCancel,handle:this.props.draggableHandle,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:e,isResizable:r,useCSSTransforms:this.props.useCSSTransforms&&this.state.isMounted,usePercentages:!this.state.isMounted},p),t)},render:function(){var t=this.props,e=t.className,r=n(t,["className"]);return e="react-grid-layout "+(e||""),s.createElement("div",o({},r,{className:e,style:{height:this.containerHeight()}}),s.Children.map(this.props.children,this.processGridItem),this.placeholder())}});t.exports=l},function(t,e,r){"use strict";var n=r(1),o={propTypes:{initialWidth:n.PropTypes.number,listenToWindowResize:n.PropTypes.bool},getDefaultProps:function(){return{initialWidth:1280,listenToWindowResize:!0}},componentDidMount:function(){this.props.listenToWindowResize&&(window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.onWindowResize())},componentWillUnmount:function(){window.removeEventListener("resize",this.onWindowResize)},onWindowResize:function(){this.onWidthChange(this.getDOMNode().offsetWidth)}};t.exports=o},function(t,e,r){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var r,o,s=n(t),i=1;i<arguments.length;i++){r=arguments[i],o=Object.keys(Object(r));for(var a=0;a<o.length;a++)s[o[a]]=r[o[a]]}return s}},function(t,e,r){t.exports=r(17)},function(t,e,r){"use strict";function n(t,e){var r=t.left,n=t.top;return{width:r+e[0],height:n+e[1]}}function o(t,e){return t?t.map(function(t){return t-e}):void 0}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(1),a=r(8),p=r(10),h=r(7),l=r(4);t.exports=i.createClass({displayName:"Resizable",mixins:[p],propTypes:{children:i.PropTypes.element.isRequired,onResizeStop:i.PropTypes.func,onResizeStart:i.PropTypes.func,onResize:i.PropTypes.func,width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,handleSize:i.PropTypes.array,draggableOpts:i.PropTypes.object},getDefaultProps:function(){return{handleSize:[20,20]}},minConstraints:function(){return o(this.props.minConstraints,this.props.handleSize[0])||this.props.handleSize},maxConstraints:function(){return o(this.props.maxConstraints,this.props.handleSize[1])},resizeHandler:function(t){var e=this;return function(r,o){var s=o.element,i=o.position;e.props[t]&&e.props[t](r,{element:s,size:n(i,e.props.handleSize)})}},render:function(){var t=this.props;return l(t.children,h({},t,{children:[t.children.props.children,i.createElement(a,s({},t.draggableOpts,{start:{x:t.width-20,y:t.height-20},moveOnStartChange:!0,onStop:this.resizeHandler("onResizeStop"),onStart:this.resizeHandler("onResizeStart"),onDrag:this.resizeHandler("onResize"),minConstraints:this.minConstraints(),maxConstraints:this.maxConstraints()}),i.createElement("span",{className:"react-resizable-handle"}))]}))}})},function(t,e,r){"use strict";var n=r(21),o={shouldComponentUpdate:function(t,e){return!n(this.props,t)||!n(this.state,e)}};t.exports=o},function(t,e,r){"use strict";function n(t,e){throw delete e.children,new Error(t+" overrides contraints on gridItem "+e.i+". Full props: "+JSON.stringify(e))}var o=r(1),s=r(4),i=r(2),a=r(8),p=r(19).Resizable,h=r(3),l=o.createClass({displayName:"GridItem",mixins:[h],propTypes:{children:o.PropTypes.element,cols:o.PropTypes.number.isRequired,containerWidth:o.PropTypes.number.isRequired,rowHeight:o.PropTypes.number.isRequired,margin:o.PropTypes.array.isRequired,x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired,w:o.PropTypes.number.isRequired,h:o.PropTypes.number.isRequired,minW:function(t,e,r){o.PropTypes.number.apply(this,arguments),(t.minW>t.w||t.minW>t.maxW)&&n("minW",t)},maxW:function(t,e,r){o.PropTypes.number.apply(this,arguments),(t.maxW<t.w||t.maxW<t.minW)&&n("maxW",t)},minH:function(t,e,r){o.PropTypes.number.apply(this,arguments),(t.minH>t.h||t.minH>t.maxH)&&n("minH",t)},maxH:function(t,e,r){o.PropTypes.number.apply(this,arguments),(t.maxH<t.h||t.maxH<t.minH)&&n("maxH",t)},i:o.PropTypes.string.isRequired,moveOnStartChange:o.PropTypes.bool,onDragStop:o.PropTypes.func,onDragStart:o.PropTypes.func,onDrag:o.PropTypes.func,onResizeStop:o.PropTypes.func,onResizeStart:o.PropTypes.func,onResize:o.PropTypes.func,isDraggable:o.PropTypes.bool,isResizable:o.PropTypes.bool,useCSSTransforms:o.PropTypes.bool,isPlaceholder:o.PropTypes.bool,className:o.PropTypes.string,handle:o.PropTypes.string,cancel:o.PropTypes.string},getDefaultProps:function(){return{isDraggable:!0,isResizable:!0,useCSSTransforms:!0,className:"",cancel:"",minH:1,minW:1,maxH:1/0,maxW:1/0}},getInitialState:function(){return{resizing:!1,className:""}},calcPosition:function(t,e,r,n){var o=this.props,s=o.containerWidth-o.margin[0],i={left:s*(t/o.cols)+o.margin[0],top:o.rowHeight*e+o.margin[1],width:s*(r/o.cols)-o.margin[0],height:n*o.rowHeight-o.margin[1]};return i},calcXY:function(t){var e=t.left,r=t.top;e-=this.props.margin[0],r-=this.props.margin[1];var n=Math.round(e/this.props.containerWidth*this.props.cols),o=Math.floor(r/this.props.rowHeight);return n=Math.max(Math.min(n,this.props.cols),0),o=Math.max(o,0),{x:n,y:o}},calcWH:function(t){var e=t.height,r=t.width;r+=this.props.margin[0],e+=this.props.margin[1];var n=Math.round(r/this.props.containerWidth*this.props.cols),o=Math.round(e/this.props.rowHeight);return n=Math.max(Math.min(n,this.props.cols-this.props.x),0),o=Math.max(o,0),{w:n,h:o}},createStyle:function(t){var e={width:t.width+"px",height:t.height+"px",left:t.left+"px",top:t.top+"px",position:"absolute"};return this.props.usePercentages&&(t.left=i.perc(t.left/this.props.containerWidth),e.left=t.left,e.width=i.perc(t.width/this.props.containerWidth)),this.props.useCSSTransforms&&(i.setTransform(e,[t.left,t.top]),delete e.left,delete e.top),e},mixinDraggable:function(t,e){return o.createElement(a,{start:{x:e.left,y:e.top},moveOnStartChange:this.props.moveOnStartChange,onStop:this.onDragHandler("onDragStop"),onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),handle:this.props.handle,cancel:".react-resizable-handle "+this.props.cancel,useCSSTransforms:this.props.useCSSTransforms},t)},mixinResizable:function(t,e){var r=this.props,n=this.calcPosition(0,0,r.cols-r.x,0).width,s=this.calcPosition(0,0,r.minW,r.minH),i=this.calcPosition(0,0,r.maxW,r.maxH),a=[s.width,s.height],h=[Math.min(i.width,n),Math.min(i.height,1/0)];return o.createElement(p,{width:e.width,height:e.height,minConstraints:a,maxConstraints:h,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},t)},onDragHandler:function(t){var e=this;return function(r,n){var o=n.element,s=n.position;if(e.props[t]){var i=e.calcXY(s),a=i.x,p=i.y;a=Math.min(a,e.props.cols-e.props.w),e.props[t](e.props.i,a,p,{e:r,element:o,position:s})}}},onResizeHandler:function(t){var e=this;return function(r,n){var o=n.element,s=n.size;if(e.props[t]){var i=e.calcWH(s),a=i.w,p=i.h;a=Math.min(a,e.props.cols-e.props.x),a=Math.max(a,1),a=Math.max(Math.min(a,e.props.maxW),e.props.minW),p=Math.max(Math.min(p,e.props.maxH),e.props.minH),e.setState({resizing:"onResizeStop"===t?null:s}),e.props[t](e.props.i,a,p,{e:r,element:o,size:s})}}},render:function(){var t=this.props,e=this.calcPosition(t.x,t.y,t.w,t.h);this.state.resizing&&(e.width=this.state.resizing.width,e.height=this.state.resizing.height);var r=s(this.props.children,{className:["react-grid-item",this.props.className,this.state.resizing?"resizing":"",this.props.useCSSTransforms?"cssTransforms":""].join(" "),style:this.createStyle(e)});return this.props.isResizable&&(r=this.mixinResizable(r,e)),this.props.isDraggable&&(r=this.mixinDraggable(r,e)),r}});t.exports=l},function(t,e,r){"use strict";var n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=r(1),i=r(2),a=r(13),p=r(3),h=r(6),l=r(5),c=s.createClass({displayName:"ResponsiveReactGridLayout",mixins:[p,h],propTypes:{breakpoint:s.PropTypes.string,breakpoints:s.PropTypes.object,cols:s.PropTypes.object,layouts:function u(t,e,r){s.PropTypes.object.isRequired.apply(this,arguments);var u=t.layouts;Object.keys(u).map(function(t){i.validateLayout(u[t],"layouts."+t)})},onBreakpointChange:s.PropTypes.func,onLayoutChange:s.PropTypes.func},getDefaultProps:function(){return{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:function(){},onLayoutChange:function(){}}},getInitialState:function(){var t=this.props.breakpoint||a.getBreakpointFromWidth(this.props.breakpoints,this.props.initialWidth),e=a.getColsFromBreakpoint(t,this.props.cols),r=a.findOrGenerateResponsiveLayout(this.props.layouts,this.props.breakpoints,t,t,e,this.props.verticalCompact);return{layout:r,layouts:this.props.layouts||{},breakpoint:t,cols:e,width:this.props.initialWidth}},componentWillReceiveProps:function(t){if(t.width&&this.onWidthChange(t.width),t.breakpoint!==this.props.breakpoint&&this.onWidthChange(this.state.width),t.layouts&&t.layouts!==this.state.layouts){var e=a.findOrGenerateResponsiveLayout(t.layouts,t.breakpoints,this.state.breakpoint,this.state.breakpoint,this.state.cols,this.props.verticalLayout);this.setState({layouts:t.layouts,layout:e})}},onLayoutChange:function(t){this.state.layouts[this.state.breakpoint]=t,this.setState({layout:t,layouts:this.state.layouts}),this.props.onLayoutChange(t,this.state.layouts)},onWidthChange:function(t){var e={width:t};e.breakpoint=this.props.breakpoint||a.getBreakpointFromWidth(this.props.breakpoints,e.width),e.cols=a.getColsFromBreakpoint(e.breakpoint,this.props.cols),e.cols!==this.state.cols&&(e.layouts=this.state.layouts,e.layouts[this.state.breakpoint]=JSON.parse(JSON.stringify(this.state.layout)),e.layout=a.findOrGenerateResponsiveLayout(e.layouts,this.props.breakpoints,e.breakpoint,this.state.breakpoint,e.cols,this.props.verticalLayout),e.layout=i.synchronizeLayoutWithChildren(e.layout,this.props.children,e.cols,this.props.verticalCompact),e.layouts[e.breakpoint]=e.layout,this.props.onBreakpointChange(e.breakpoint,e.cols)),this.setState(e)},render:function(){var t=this.props,e=(t.layouts,t.onBreakpointChange,t.breakpoints,n(t,["layouts","onBreakpointChange","breakpoints"]));return s.createElement(l,o({},e,{layout:this.state.layout,cols:this.state.cols,listenToWindowResize:!1,onLayoutChange:this.onLayoutChange,width:this.state.width}),this.props.children)}});t.exports=c},function(t,e,r){"use strict";var n=r(2),o=t.exports={getBreakpointFromWidth:function(t,e){for(var r=o.sortBreakpoints(t),n=r[0],s=1,i=r.length;i>s;s++){var a=r[s];e>t[a]&&(n=a)}return n},getColsFromBreakpoint:function(t,e){if(!e[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]},findOrGenerateResponsiveLayout:function(t,e,r,s,i,a){if(t[r])return t[r];for(var p=t[s],h=o.sortBreakpoints(e),l=h.slice(h.indexOf(r)),c=0,u=l.length;u>c;c++){var f=l[c];if(t[f]){p=t[f];break}}return p=JSON.parse(JSON.stringify(p||[])),n.compact(n.correctBounds(p,{cols:i}),a)},sortBreakpoints:function(t){var e=Object.keys(t);return e.sort(function(e,r){return t[e]-t[r]})}}},function(t,e,r){function n(t){return null===t||void 0===t}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length?"function"!=typeof t.copy||"function"!=typeof t.slice?!1:t.length>0&&"number"!=typeof t[0]?!1:!0:!1}function s(t,e,r){var s,l;if(n(t)||n(e))return!1;if(t.prototype!==e.prototype)return!1;if(p(t))return p(e)?(t=i.call(t),e=i.call(e),h(t,e,r)):!1;if(o(t)){if(!o(e))return!1;if(t.length!==e.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}try{var c=a(t),u=a(e)}catch(f){return!1}if(c.length!=u.length)return!1;for(c.sort(),u.sort(),s=c.length-1;s>=0;s--)if(c[s]!=u[s])return!1;for(s=c.length-1;s>=0;s--)if(l=c[s],!h(t[l],e[l],r))return!1;return typeof t==typeof e}var i=Array.prototype.slice,a=r(16),p=r(15),h=t.exports=function(t,e,r){return r||(r={}),t===e?!0:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:s(t,e,r)}},function(t,e,r){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var s="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=s?n:o,e.supported=n,e.unsupported=o},function(t,e,r){function n(t){var e=[];for(var r in t)e.push(r);return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n},function(t,e,r){"use strict";function n(t){return{element:t.getDOMNode(),position:{top:(t._pendingState||t.state).clientY,left:(t._pendingState||t.state).clientX}}}function o(t){return"both"===t.props.axis||"y"===t.props.axis}function s(t){return"both"===t.props.axis||"x"===t.props.axis}function i(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function a(t,e){for(var r=0,n=(t.length,null);n=t[r];r++)if(e.apply(e,[n,r,t]))return n}function p(t,e){var r=a(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return i(t[e])});return t[r].call(t,e)}function h(t){var e=(""+t.left).replace(/(\d)$/,"$1px"),r=(""+t.top).replace(/(\d)$/,"$1px");return t.transform="translate("+e+","+r+")",t.WebkitTransform="translate("+e+","+r+")",t.OTransform="translate("+e+","+r+")",t.msTransform="translate("+e+","+r+")",t.MozTransform="translate("+e+","+r+")",delete t.left,delete t.top,t}function l(t){var e=t.touches&&t.touches[0]||t;return{clientX:e.clientX,clientY:e.clientY}}function c(t,e,r){t&&(t.attachEvent?t.attachEvent("on"+e,r):t.addEventListener?t.addEventListener(e,r,!0):t["on"+e]=r)}function u(t,e,r){t&&(t.detachEvent?t.detachEvent("on"+e,r):t.removeEventListener?t.removeEventListener(e,r,!0):t["on"+e]=null)}var f=r(1),y=r(10),d=r(20),m=r(4);if("undefined"==typeof window)var g=!1;else var g="ontouchstart"in window||"onmsgesturechange"in window;var v=function(){var t={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"}};return t[g?"touch":"mouse"]}();t.exports=f.createClass({displayName:"Draggable",mixins:[y],propTypes:{axis:f.PropTypes.oneOf(["both","x","y"]),handle:f.PropTypes.string,cancel:f.PropTypes.string,grid:f.PropTypes.arrayOf(f.PropTypes.number),start:f.PropTypes.object,moveOnStartChange:f.PropTypes.bool,useCSSTransforms:f.PropTypes.bool,zIndex:f.PropTypes.number,onStart:f.PropTypes.func,onDrag:f.PropTypes.func,onStop:f.PropTypes.func,onMouseDown:f.PropTypes.func},componentWillUnmount:function(){u(window,v.move,this.handleDrag),u(window,v.end,this.handleDragEnd)},componentWillReceiveProps:function(t){t.moveOnStartChange&&this.setState({clientX:t.start.x,clientY:t.start.y})},getDefaultProps:function(){return{axis:"both",handle:null,cancel:null,grid:null,start:{x:0,y:0},moveOnStartChange:!1,useCSSTransforms:!1,zIndex:0/0,onStart:d,onDrag:d,onStop:d,onMouseDown:d}},getInitialState:function(){return{dragging:!1,startX:0,startY:0,offsetX:0,offsetY:0,clientX:this.props.start.x,clientY:this.props.start.y}},handleDragStart:function(t){if(this.props.onMouseDown(t),!("number"==typeof t.button&&0!==t.button||(this.getDOMNode(),this.props.handle&&!p(t.target,this.props.handle)||this.props.cancel&&p(t.target,this.props.cancel)))){var e=l(t);this.setState({dragging:!0,offsetX:parseInt(e.clientX,10),offsetY:parseInt(e.clientY,10),startX:parseInt(this.state.clientX,10)||0,startY:parseInt(this.state.clientY,10)||0}),document.body.className+=" react-draggable-active",this.props.onStart(t,n(this)),c(window,v.move,this.handleDrag),c(window,v.end,this.handleDragEnd)}},handleDragEnd:function(t){this.state.dragging&&(this.setState({dragging:!1}),document.body.className=document.body.className.replace(" react-draggable-active",""),this.props.onStop(t,n(this)),u(window,v.move,this.handleDrag),u(window,v.end,this.handleDragEnd))},handleDrag:function(t){var e=l(t),r=this.state.startX+(e.clientX-this.state.offsetX),o=this.state.startY+(e.clientY-this.state.offsetY);if(Array.isArray(this.props.grid)){var s=r<parseInt(this.state.clientX,10)?-1:1,i=o<parseInt(this.state.clientY,10)?-1:1;r=Math.abs(r-parseInt(this.state.clientX,10))>=this.props.grid[0]?parseInt(this.state.clientX,10)+this.props.grid[0]*s:parseInt(this.state.clientX,10),o=Math.abs(o-parseInt(this.state.clientY,10))>=this.props.grid[1]?parseInt(this.state.clientY,10)+this.props.grid[1]*i:parseInt(this.state.clientY,10)}Array.isArray(this.props.minConstraints)&&(r=Math.max(this.props.minConstraints[0],r),o=Math.max(this.props.minConstraints[1],o)),Array.isArray(this.props.maxConstraints)&&(r=Math.min(this.props.maxConstraints[0],r),o=Math.min(this.props.maxConstraints[1],o)),this.setState({clientX:r,clientY:o}),this.props.onDrag(t,n(this))},render:function(){var t={top:o(this)?this.state.clientY:this.state.startY,left:s(this)?this.state.clientX:this.state.startX};return this.props.useCSSTransforms&&(t=h(t)),this.state.dragging&&!isNaN(this.props.zIndex)&&(t.zIndex=this.props.zIndex),m(f.Children.only(this.props.children),{style:t,className:"react-draggable"+(this.state.dragging?" react-draggable-dragging":""),onMouseDown:this.handleDragStart,onTouchStart:function(t){return t.preventDefault(),this.handleDragStart.apply(this,arguments)}.bind(this),onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd})}})},function(t,e,r){"use strict";var n=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s=r(1),i=r(9);t.exports=s.createClass({displayName:"ResizableBox",propTypes:{},getInitialState:function(){return{width:this.props.width,height:this.props.height}},onResize:function(t,e){var r=(e.element,e.size);(r.width!==this.state.width||r.height!==this.state.height)&&this.setState({width:r.width,height:r.height})},render:function(){var t=this.props,e=t.handleSize,r=t.minConstraints,a=t.maxConstraints,p=n(t,["handleSize","minConstraints","maxConstraints"]);return s.createElement(i,{minConstraints:r,maxConstraints:a,handleSize:e,width:this.state.width,height:this.state.height,onResize:this.onResize,draggableOpts:this.props.draggableOpts},s.createElement("div",o({style:{width:this.state.width+"px",height:this.state.height+"px"}},p),this.props.children))}})},function(t,e,r){"use strict";t.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},t.exports.Resizable=r(9),t.exports.ResizableBox=r(18)},function(t,e,r){function n(t){return function(){return t}}function o(){}o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,r){"use strict";function n(t,e){if(t===e)return!0;var r;for(r in t)if(t.hasOwnProperty(r)&&(!e.hasOwnProperty(r)||t[r]!==e[r]))return!1;for(r in e)if(e.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0}t.exports=n}])})}();

!function(){!function t(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react")):"function"==typeof define&&define.amd?define(["react"],n):"object"==typeof exports?exports.ReactHotkeys=n(require("react")):e.ReactHotkeys=n(e.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(e,"__esModule",{value:!0}),e.HotKeys=r(n(1)),e.FocusTrap=r(n(2)),e.HotKeyMapMixin=r(n(3))},function(t,e,n){"use strict";function r(t,e){var n=t[e];return n?f(n)?n:[n]:[e]}var o=function(t){return t&&t.__esModule?t["default"]:t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=o(n(4)),i=o(n(2)),a=o(n(3)),s=o(n(5)),f=o(n(6)),p=o(n(8)),l=c.createClass({displayName:"HotKeys",mixins:[a()],propTypes:{onFocus:c.PropTypes.func,onBlur:c.PropTypes.func,focusName:c.PropTypes.string,keyMap:c.PropTypes.object,handlers:c.PropTypes.object},contextTypes:{hotKeyParent:c.PropTypes.any},childContextTypes:{hotKeyParent:c.PropTypes.any},getChildContext:function y(){return{hotKeyParent:this}},componentDidMount:function h(){this.__mousetrap__=new s(c.findDOMNode(this.refs.focusTrap)),this.updateHotKeys(!0)},componentDidUpdate:function v(){this.updateHotKeys()},componentWillUnmount:function d(){this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.__mousetrap__.reset()},updateHotKeys:function b(){var t=this,e=void 0===arguments[0]?!1:arguments[0];if(this.updateMap()||e){var n=this.props.handlers,o=void 0===n?{}:n,u=this.getMap(),c={},i=this.__mousetrap__;p(o,function(e,n){var o=r(u,n);p(o,function(n){c[n]=function(n,r){return t.__isFocused__&&r!==t.__lastChildSequence__?(t.context.hotKeyParent&&t.context.hotKeyParent.childHandledSequence(r),e(n,r)):void 0}})}),i.reset(),p(c,function(t,e){return i.bind(e,t)})}},childHandledSequence:function g(){var t=void 0===arguments[0]?null:arguments[0];this.__lastChildSequence__=t,this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(t)},onFocus:function m(){if(this.__isFocused__=!0,this.props.onFocus){var t;(t=this.props).onFocus.apply(t,arguments)}},onBlur:function _(){if(this.__isFocused__=!1,this.props.onBlur){var t;(t=this.props).onBlur.apply(t,arguments)}},render:function x(){return c.createElement(i,u({ref:"focusTrap"},this.props,{onFocus:this.onFocus,onBlur:this.onBlur}),this.props.children)}});t.exports=l},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=r(n(4)),c=u.createClass({displayName:"FocusTrap",propTypes:{onFocus:u.PropTypes.func,onBlur:u.PropTypes.func,focusName:u.PropTypes.string},render:function i(){return u.createElement("div",o({tabIndex:"-1"},this.props),this.props.children)}});t.exports=c},function(t,e,n){"use strict";function r(){var t=void 0===arguments[0]?{}:arguments[0];return{contextTypes:{hotKeyMap:u.PropTypes.object},childContextTypes:{hotKeyMap:u.PropTypes.object},getChildContext:function e(){return{hotKeyMap:this.__hotKeyMap__}},componentWillMount:function n(){this.updateMap()},updateMap:function r(){var t=this.buildMap();return i(t,this.__hotKeyMap__)?!1:(this.__hotKeyMap__=t,!0)},buildMap:function o(){var e=this.context.hotKeyMap||{},n=this.props.keyMap||{};return c({},e,t,n)},getMap:function a(){return this.__hotKeyMap__}}}var o=function(t){return t&&t.__esModule?t["default"]:t};t.exports=r;var u=o(n(4)),c=o(n(9)),i=o(n(7))},function(e,n,r){e.exports=t},function(t,e,n){var r;!function(o,u,c){function i(t,e,n){return t.addEventListener?void t.addEventListener(e,n,!1):void t.attachEvent("on"+e,n)}function a(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return _[t.which]?_[t.which]:x[t.which]?x[t.which]:String.fromCharCode(t.which).toLowerCase()}function s(t,e){return t.sort().join(",")===e.sort().join(",")}function f(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function p(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function l(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function y(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(){if(!M){M={};for(var t in _)t>95&&112>t||_.hasOwnProperty(t)&&(M[_[t]]=t)}return M}function v(t,e,n){return n||(n=h()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function d(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function b(t,e){var n,r,o,u=[];for(n=d(t),o=0;o<n.length;++o)r=n[o],k[r]&&(r=k[r]),e&&"keypress"!=e&&j[r]&&(r=j[r],u.push("shift")),y(r)&&u.push(r);return e=v(r,u,e),{key:r,modifiers:u,action:e}}function g(t,e){return t===u?!1:t===e?!0:g(t.parentNode,e)}function m(t){function e(t){t=t||{};var e=!1,n;for(n in g)t[n]?e=!0:g[n]=0;e||(k=!1)}function n(t,e,n,r,o,u){var c,i,a=[],f=n.type;if(!d._callbacks[t])return[];for("keyup"==f&&y(t)&&(e=[t]),c=0;c<d._callbacks[t].length;++c)if(i=d._callbacks[t][c],(r||!i.seq||g[i.seq]==i.level)&&f==i.action&&("keypress"==f&&!n.metaKey&&!n.ctrlKey||s(e,i.modifiers))){var p=!r&&i.combo==o,l=r&&i.seq==r&&i.level==u;(p||l)&&d._callbacks[t].splice(c,1),a.push(i)}return a}function r(t,e,n,r){d.stopCallback(e,e.target||e.srcElement,n,r)||t(e,n)===!1&&(p(e),l(e))}function o(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=a(t);if(e)return"keyup"==t.type&&x===e?void(x=!1):void d.handleKey(e,f(t),t)}function c(){clearTimeout(_),_=setTimeout(e,1e3)}function h(t,n,o,u){function i(e){return function(){k=e,++g[t],c()}}function s(n){r(o,n,t),"keyup"!==u&&(x=a(n)),setTimeout(e,10)}g[t]=0;for(var f=0;f<n.length;++f){var p=f+1===n.length,l=p?s:i(u||b(n[f+1]).action);v(n[f],l,u,t,f)}}function v(t,e,r,o,u){d._directMap[t+":"+r]=e,t=t.replace(/\s+/g," ");var c=t.split(" "),i;return c.length>1?void h(t,c,e,r):(i=b(t,r),d._callbacks[i.key]=d._callbacks[i.key]||[],n(i.key,i.modifiers,{type:i.action},o,t,u),void d._callbacks[i.key][o?"unshift":"push"]({callback:e,modifiers:i.modifiers,action:i.action,seq:o,level:u,combo:t}))}var d=this;if(t=t||u,!(d instanceof m))return new m(t);d.target=t,d._callbacks={},d._directMap={};var g={},_,x=!1,j=!1,k=!1;d._handleKey=function(t,o,u){var c=n(t,o,u),i,a={},s=0,f=!1;for(i=0;i<c.length;++i)c[i].seq&&(s=Math.max(s,c[i].level));for(i=0;i<c.length;++i)if(c[i].seq){if(c[i].level!=s)continue;f=!0,a[c[i].seq]=1,r(c[i].callback,u,c[i].combo,c[i].seq)}else f||r(c[i].callback,u,c[i].combo);var p="keypress"==u.type&&j;u.type!=k||y(t)||p||e(a),j=f&&"keydown"==u.type},d._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},i(t,"keypress",o),i(t,"keydown",o),i(t,"keyup",o)}for(var _={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M,w=1;20>w;++w)_[111+w]="f"+w;for(w=0;9>=w;++w)_[w+96]=w;m.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},m.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},m.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},m.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},m.prototype.stopCallback=function(t,e){var n=this;return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:g(e,n.target)?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},m.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},m.init=function(){var t=m(u);for(var e in t)"_"!==e.charAt(0)&&(m[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},m.init(),o.Mousetrap=m,"undefined"!=typeof t&&t.exports&&(t.exports=m),0||(r=function(){return m}.call(e,n,e,t),!(r!==c&&(t.exports=r)))}(window,document)},function(t,e,n){var r=n(10),o=n(11),u=n(12),c="[object Array]",i=Object.prototype,a=i.toString,s=o(s=Array.isArray)&&s,f=s||function(t){return u(t)&&r(t.length)&&a.call(t)==c};t.exports=f},function(t,e,n){function r(t,e,n,r){if(n="function"==typeof n&&u(n,r,3),!n&&c(t)&&c(e))return t===e;var i=n?n(t,e):void 0;return"undefined"==typeof i?o(t,e,n):!!i}var o=n(13),u=n(14),c=n(15);t.exports=r},function(t,e,n){var r=n(16),o=n(17),u=n(18),c=u(r,o);t.exports=c},function(t,e,n){var r=n(19),o=n(20),u=o(r);t.exports=u},function(t,e,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&o>=t}var o=Math.pow(2,53)-1;t.exports=r},function(t,e,n){function r(t){return null==t?!1:f.call(t)==c?p.test(s.call(t)):u(t)&&i.test(t)}var o=n(21),u=n(12),c="[object Function]",i=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,f=a.toString,p=RegExp("^"+o(f).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!t&&"object"==typeof t}t.exports=r},function(t,e,n){function r(t,e,n,u,c,i){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:o(t,e,r,n,u,c,i)}var o=n(22);t.exports=r},function(t,e,n){function r(t,e,n){if("function"!=typeof t)return o;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,u){return t.call(e,n,r,o,u)};case 5:return function(n,r,o,u,c){return t.call(e,n,r,o,u,c)}}return function(){return t.apply(e,arguments)}}var o=n(23);t.exports=r},function(t,e,n){function r(t){return t===t&&(0===t?1/t>0:!o(t))}var o=n(24);t.exports=r},function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=r},function(t,e,n){var r=n(25),o=n(26),u=o(r);t.exports=u},function(t,e,n){function r(t,e){return function(n,r,c){return"function"==typeof r&&"undefined"==typeof c&&u(n)?t(n,r):e(n,o(r,c,3))}}var o=n(14),u=n(6);t.exports=r},function(t,e,n){function r(t,e,n){var r=u(e);if(!n)return o(e,t,r);for(var c=-1,i=r.length;++c<i;){var a=r[c],s=t[a],f=n(s,e[a],a,t,e);(f===f?f===s:s!==s)&&("undefined"!=typeof s||a in t)||(t[a]=f)}return t}var o=n(27),u=n(28);t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var c=e[n-2],i=e[n-1],a=e[3];n>3&&"function"==typeof c?(c=o(c,i,5),n-=2):(c=n>2&&"function"==typeof i?i:null,n-=c?1:0),a&&u(e[1],e[2],a)&&(c=3==n?null:c,n=2);for(var s=0;++s<n;){var f=e[s];f&&t(r,f,c)}return r}}var o=n(14),u=n(29);t.exports=r},function(t,e,n){function r(t){return t=o(t),t&&c.test(t)?t.replace(u,"\\$&"):t}var o=n(30),u=/[.*+?^${}()|[\]\/\\]/g,c=RegExp(u.source);t.exports=r},function(t,e,n){function r(t,e,n,r,y,d,b){var g=i(t),m=i(e),_=f,x=f;g||(_=v.call(t),_==s?_=l:_!=l&&(g=a(t))),m||(x=v.call(e),x==s?x=l:x!=l&&(m=a(e)));var j=_==l||y&&_==p,k=x==l||y&&x==p,M=_==x;if(M&&!g&&!j)return u(t,e,_);if(y){if(!(M||j&&k))return!1}else{var w=j&&h.call(t,"__wrapped__"),P=k&&h.call(e,"__wrapped__");if(w||P)return n(w?t.value():t,P?e.value():e,r,y,d,b);if(!M)return!1}d||(d=[]),b||(b=[]);for(var K=d.length;K--;)if(d[K]==t)return b[K]==e;d.push(t),b.push(e);var T=(g?o:c)(t,e,n,r,y,d,b);return d.pop(),b.pop(),T}var o=n(31),u=n(32),c=n(33),i=n(6),a=n(34),s="[object Arguments]",f="[object Array]",p="[object Function]",l="[object Object]",y=Object.prototype,h=y.hasOwnProperty,v=y.toString;t.exports=r},function(t,e,n){function r(t){return t}t.exports=r},function(t,e,n){function r(t){var e=typeof t;return"function"==e||!!t&&"object"==e}t.exports=r},function(t,e,n){function r(t,e){return o(t,e,u)}var o=n(35),u=n(28);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){var c=n?n.length:0;if(!o(c))return t(n,r);for(var i=e?c:-1,a=u(n);(e?i--:++i<c)&&r(a[i],i,a)!==!1;);return n}}var o=n(10),u=n(36);t.exports=r},function(t,e,n){function r(t,e,n){n||(n=e,e={});for(var r=-1,o=n.length;++r<o;){var u=n[r];e[u]=t[u]}return e}t.exports=r},function(t,e,n){var r=n(10),o=n(11),u=n(24),c=n(37),i=o(i=Object.keys)&&i,a=i?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&r(n)?c(t):u(t)?i(t):[]}:c;t.exports=a},function(t,e,n){function r(t,e,n){if(!c(n))return!1;var r=typeof e;if("number"==r)var i=n.length,a=u(i)&&o(e,i);else a="string"==r&&e in n;if(a){var s=n[e];return t===t?t===s:s!==s}return!1}var o=n(38),u=n(10),c=n(24);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t?t:null==t?"":t+""}t.exports=r},function(t,e,n){function r(t,e,n,r,o,u,c){var i=-1,a=t.length,s=e.length,f=!0;if(a!=s&&!(o&&s>a))return!1;for(;f&&++i<a;){var p=t[i],l=e[i];if(f=void 0,r&&(f=o?r(l,p,i):r(p,l,i)),"undefined"==typeof f)if(o)for(var y=s;y--&&(l=e[y],!(f=p&&p===l||n(p,l,r,o,u,c))););else f=p&&p===l||n(p,l,r,o,u,c)}return!!f}t.exports=r},function(t,e,n){function r(t,e,n){switch(n){case o:case u:return+t==+e;case c:return t.name==e.name&&t.message==e.message;case i:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case a:case s:return t==e+""}return!1}var o="[object Boolean]",u="[object Date]",c="[object Error]",i="[object Number]",a="[object RegExp]",s="[object String]";t.exports=r},function(t,e,n){function r(t,e,n,r,u,i,a){var s=o(t),f=s.length,p=o(e),l=p.length;if(f!=l&&!u)return!1;for(var y=u,h=-1;++h<f;){var v=s[h],d=u?v in e:c.call(e,v);if(d){var b=t[v],g=e[v];d=void 0,r&&(d=u?r(g,b,v):r(b,g,v)),"undefined"==typeof d&&(d=b&&b===g||n(b,g,r,u,i,a))}if(!d)return!1;y||(y="constructor"==v)}if(!y){var m=t.constructor,_=e.constructor;if(m!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _))return!1}return!0}var o=n(28),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return u(t)&&o(t.length)&&!!O[C.call(t)]}var o=n(10),u=n(12),c="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",f="[object Error]",p="[object Function]",l="[object Map]",y="[object Number]",h="[object Object]",v="[object RegExp]",d="[object Set]",b="[object String]",g="[object WeakMap]",m="[object ArrayBuffer]",_="[object Float32Array]",x="[object Float64Array]",j="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",w="[object Uint8Array]",P="[object Uint8ClampedArray]",K="[object Uint16Array]",T="[object Uint32Array]",O={};O[_]=O[x]=O[j]=O[k]=O[M]=O[w]=O[P]=O[K]=O[T]=!0,O[c]=O[i]=O[m]=O[a]=O[s]=O[f]=O[p]=O[l]=O[y]=O[h]=O[v]=O[d]=O[b]=O[g]=!1;var A=Object.prototype,C=A.toString;t.exports=r},function(t,e,n){var r=n(39),o=r();t.exports=o},function(t,e,n){function r(t){return o(t)?t:Object(t)}var o=n(24);t.exports=r},function(t,e,n){function r(t){for(var e=a(t),n=e.length,r=n&&t.length,f=r&&i(r)&&(u(t)||s.nonEnumArgs&&o(t)),l=-1,y=[];++l<n;){var h=e[l];(f&&c(h,r)||p.call(t,h))&&y.push(h)}return y}var o=n(40),u=n(6),c=n(38),i=n(10),a=n(41),s=n(42),f=Object.prototype,p=f.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return t=+t,e=null==e?o:e,t>-1&&t%1==0&&e>t}var o=Math.pow(2,53)-1;t.exports=r},function(t,e,n){function r(t){return function(e,n,r){for(var u=o(e),c=r(e),i=c.length,a=t?i:-1;t?a--:++a<i;){var s=c[a];if(n(u[s],s,u)===!1)break}return e}}var o=n(36);t.exports=r},function(t,e,n){function r(t){var e=u(t)?t.length:void 0;return o(e)&&a.call(t)==c}var o=n(10),u=n(12),c="[object Arguments]",i=Object.prototype,a=i.toString;t.exports=r},function(t,e,n){function r(t){if(null==t)return[];a(t)||(t=Object(t));var e=t.length;e=e&&i(e)&&(u(t)||s.nonEnumArgs&&o(t))&&e||0;for(var n=t.constructor,r=-1,f="function"==typeof n&&n.prototype===t,l=Array(e),y=e>0;++r<e;)l[r]=r+"";for(var h in t)y&&c(h,e)||"constructor"==h&&(f||!p.call(t,h))||l.push(h);return l}var o=n(40),u=n(6),c=n(38),i=n(10),a=n(24),s=n(42),f=Object.prototype,p=f.hasOwnProperty;t.exports=r},function(t,e,n){(function(e){var n=Object.prototype,r=(r=e.window)&&r.document,o=n.propertyIsEnumerable,u={};!function(t){u.funcDecomp=/\bthis\b/.test(function(){return this}),u.funcNames="string"==typeof Function.name;try{u.dom=11===r.createDocumentFragment().nodeType}catch(e){u.dom=!1}try{u.nonEnumArgs=!o.call(arguments,1)}catch(e){u.nonEnumArgs=!0}}(0,0),t.exports=u}).call(e,function(){return this}())}])})}();

!function(){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReactTypeahead=e()}}(function(){var e,t,s;return function n(e,t,s){function o(i,a){if(!t[i]){if(!e[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(r)return r(i,!0);var p=new Error("Cannot find module '"+i+"'");throw p.code="MODULE_NOT_FOUND",p}var u=t[i]={exports:{}};e[i][0].call(u.exports,function(t){var s=e[i][1][t];return o(s?s:t)},u,u.exports,n,e,t,s)}return t[i].exports}for(var r="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}({1:[function(e,t,s){function n(){for(var e="",t,s=0;s<arguments.length;s++)if(t=arguments[s])if("string"==typeof t||"number"==typeof t)e+=" "+t;else if("[object Array]"===Object.prototype.toString.call(t))e+=" "+n.apply(null,t);else if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&t[o]&&(e+=" "+o);return e.substr(1)}"undefined"!=typeof t&&t.exports&&(t.exports=n)},{}],2:[function(e,t,s){!function(){var e=this,n={};"undefined"!=typeof s?t.exports=n:e.fuzzy=n,n.simpleFilter=function(e,t){return t.filter(function(t){return n.test(e,t)})},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,s){s=s||{};var n=0,o=[],r=t.length,i=0,a=0,l=s.pre||"",p=s.post||"",u=s.caseSensitive&&t||t.toLowerCase(),c,h;e=s.caseSensitive&&e||e.toLowerCase();for(var d=0;r>d;d++)c=t[d],u[d]===e[n]?(c=l+c+p,n+=1,a+=1+a):a=0,i+=a,o[o.length]=c;return n===e.length?{rendered:o.join(""),score:i}:null},n.filter=function(e,t,s){return s=s||{},t.reduce(function(t,o,r,i){var a=o;s.extract&&(a=s.extract(o));var l=n.match(e,a,s);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:r,original:o}),t},[]).sort(function(e,t){var s=t.score-e.score;return s?s:e.index-t.index})}}()},{}],3:[function(e,t,s){var n=n||{};n.DOM_VK_UP=n.DOM_VK_UP||38,n.DOM_VK_DOWN=n.DOM_VK_DOWN||40,n.DOM_VK_BACK_SPACE=n.DOM_VK_BACK_SPACE||8,n.DOM_VK_RETURN=n.DOM_VK_RETURN||13,n.DOM_VK_ENTER=n.DOM_VK_ENTER||14,n.DOM_VK_ESCAPE=n.DOM_VK_ESCAPE||27,n.DOM_VK_TAB=n.DOM_VK_TAB||9,t.exports=n},{}],4:[function(e,t,s){var n=e("./typeahead"),o=e("./tokenizer");t.exports={Typeahead:n,Tokenizer:o}},{"./tokenizer":5,"./typeahead":7}],5:[function(e,t,s){var n=window.React||e("react"),o=e("./token"),r=e("../keyevent"),i=e("../typeahead"),a=e("classnames"),l=n.createClass({displayName:"TypeaheadTokenizer",propTypes:{name:n.PropTypes.string,options:n.PropTypes.array,customClasses:n.PropTypes.object,allowCustomValues:n.PropTypes.number,defaultSelected:n.PropTypes.array,defaultValue:n.PropTypes.string,placeholder:n.PropTypes.string,onTokenRemove:n.PropTypes.func,onTokenAdd:n.PropTypes.func,filterOption:n.PropTypes.func,maxVisible:n.PropTypes.number},getInitialState:function(){return{selected:this.props.defaultSelected.slice(0)}},getDefaultProps:function(){return{options:[],defaultSelected:[],customClasses:{},allowCustomValues:0,defaultValue:"",placeholder:"",onTokenAdd:function(){},onTokenRemove:function(){}}},_renderTokens:function(){var e={};e[this.props.customClasses.token]=!!this.props.customClasses.token;var t=a(e),s=this.state.selected.map(function(e){return n.createElement(o,{key:e,className:t,onRemove:this._removeTokenForValue,name:this.props.name},e)},this);return s},_getOptionsForTypeahead:function(){return this.props.options},_onKeyDown:function(e){if(e.keyCode===r.DOM_VK_BACK_SPACE&&this.state.selected.length){var t=this.refs.typeahead.refs.entry.getDOMNode();t.selectionStart==t.selectionEnd&&0==t.selectionStart&&(this._removeTokenForValue(this.state.selected[this.state.selected.length-1]),e.preventDefault())}},_removeTokenForValue:function(e){var t=this.state.selected.indexOf(e);-1!=t&&(this.state.selected.splice(t,1),this.setState({selected:this.state.selected}),this.props.onTokenRemove(this.state.selected))},_addTokenForValue:function(e){-1==this.state.selected.indexOf(e)&&(this.state.selected.push(e),this.setState({selected:this.state.selected}),this.refs.typeahead.setEntryText(""),this.props.onTokenAdd(this.state.selected))},render:function(){var e={};e[this.props.customClasses.typeahead]=!!this.props.customClasses.typeahead;var t=a(e);return n.createElement("div",{className:"typeahead-tokenizer"},this._renderTokens(),n.createElement(i,{ref:"typeahead",className:t,placeholder:this.props.placeholder,allowCustomValues:this.props.allowCustomValues,customClasses:this.props.customClasses,options:this._getOptionsForTypeahead(),defaultValue:this.props.defaultValue,maxVisible:this.props.maxVisible,onOptionSelected:this._addTokenForValue,onKeyDown:this._onKeyDown,filterOption:this.props.filterOption}))}});t.exports=l},{"../keyevent":3,"../typeahead":7,"./token":6,classnames:1,react:"react"}],6:[function(e,t,s){var n=window.React||e("react"),o=e("classnames"),r=n.createClass({displayName:"Token",propTypes:{className:n.PropTypes.string,name:n.PropTypes.string,children:n.PropTypes.string,onRemove:n.PropTypes.func},render:function(){var e=o(["typeahead-token",this.props.className]);return n.createElement("div",{className:e},this._renderHiddenInput(),this.props.children,this._renderCloseButton())},_renderHiddenInput:function(){return this.props.name?n.createElement("input",{type:"hidden",name:this.props.name+"[]",value:this.props.children}):null},_renderCloseButton:function(){return this.props.onRemove?n.createElement("a",{className:"typeahead-token-close",href:"#",onClick:function(e){this.props.onRemove(this.props.children),e.preventDefault()}.bind(this)},""):""}});t.exports=r},{classnames:1,react:"react"}],7:[function(e,t,s){var n=window.React||e("react/addons"),o=e("./selector"),r=e("../keyevent"),i=e("fuzzy"),a=e("classnames"),l=n.createClass({displayName:"Typeahead",propTypes:{name:n.PropTypes.string,customClasses:n.PropTypes.object,maxVisible:n.PropTypes.number,options:n.PropTypes.array,allowCustomValues:n.PropTypes.number,defaultValue:n.PropTypes.string,placeholder:n.PropTypes.string,onOptionSelected:n.PropTypes.func,onKeyDown:n.PropTypes.func,filterOption:n.PropTypes.func},getDefaultProps:function(){return{options:[],customClasses:{},allowCustomValues:0,defaultValue:"",placeholder:"",onOptionSelected:function(e){},onKeyDown:function(e){},filterOption:null}},getInitialState:function(){return{visible:this.getOptionsForValue(this.props.defaultValue,this.props.options),entryValue:this.props.defaultValue,selection:null}},getOptionsForValue:function(e,t){var s;return s=this.props.filterOption?t.filter(function(t){return this.props.filterOption(e,t)}.bind(this)):i.filter(e,t).map(function(e){return e.string}),this.props.maxVisible&&(s=s.slice(0,this.props.maxVisible)),s},setEntryText:function(e){this.refs.entry.getDOMNode().value=e,this._onTextEntryUpdated()},_hasCustomValue:function(){return this.props.allowCustomValues>0&&this.state.entryValue.length>=this.props.allowCustomValues&&this.state.visible.indexOf(this.state.entryValue)<0?!0:!1},_getCustomValue:function(){return this._hasCustomValue()?this.state.entryValue:null},_renderIncrementalSearchResults:function(){return this.state.entryValue?this.state.selection?"":this.state.visible.length||this.props.allowCustomValues>0?this._hasCustomValue()?n.createElement(o,{ref:"sel",options:this.state.visible,customValue:this.state.entryValue,onOptionSelected:this._onOptionSelected,customClasses:this.props.customClasses}):n.createElement(o,{ref:"sel",options:this.state.visible,onOptionSelected:this._onOptionSelected,customClasses:this.props.customClasses}):"":""},_onOptionSelected:function(e,t){var s=this.refs.entry.getDOMNode();return s.focus(),s.value=e,this.setState({visible:this.getOptionsForValue(e,this.props.options),selection:e,entryValue:e}),this.props.onOptionSelected(e,t)},_onTextEntryUpdated:function(){var e=this.refs.entry.getDOMNode().value;this.setState({visible:this.getOptionsForValue(e,this.props.options),selection:null,entryValue:e})},_onEnter:function(e){return this.refs.sel.state.selection?this._onOptionSelected(this.refs.sel.state.selection,e):this.props.onKeyDown(e)},_onEscape:function(){this.refs.sel.setSelectionIndex(null)},_onTab:function(e){var t=this.refs.sel.state.selection?this.refs.sel.state.selection:this.state.visible.length>0?this.state.visible[0]:null;return null===t&&this._hasCustomValue()&&(t=this._getCustomValue()),null!==t?this._onOptionSelected(t,e):void 0},eventMap:function(e){var t={};return t[r.DOM_VK_UP]=this.refs.sel.navUp,t[r.DOM_VK_DOWN]=this.refs.sel.navDown,t[r.DOM_VK_RETURN]=t[r.DOM_VK_ENTER]=this._onEnter,t[r.DOM_VK_ESCAPE]=this._onEscape,t[r.DOM_VK_TAB]=this._onTab,t},_onKeyDown:function(e){if(!this.refs.sel)return this.props.onKeyDown(e);var t=this.eventMap()[e.keyCode];return t?(t(e),void e.preventDefault()):this.props.onKeyDown(e)},componentWillReceiveProps:function(e){this.setState({visible:this.getOptionsForValue(this.state.entryValue,e.options)})},render:function(){var e={};e[this.props.customClasses.input]=!!this.props.customClasses.input;var t=a(e),s={typeahead:!0};s[this.props.className]=!!this.props.className;var o=a(s);return n.createElement("div",{className:o},this._renderHiddenInput(),n.createElement("input",{ref:"entry",type:"text",placeholder:this.props.placeholder,className:t,value:this.state.entryValue,defaultValue:this.props.defaultValue,onChange:this._onTextEntryUpdated,onKeyDown:this._onKeyDown}),this._renderIncrementalSearchResults())},_renderHiddenInput:function(){return this.props.name?n.createElement("input",{type:"hidden",name:this.props.name,value:this.state.selection}):null}});t.exports=l},{"../keyevent":3,"./selector":9,classnames:1,fuzzy:2,"react/addons":"react/addons"}],8:[function(e,t,s){var n=window.React||e("react/addons"),o=e("classnames"),r=n.createClass({displayName:"TypeaheadOption",propTypes:{customClasses:n.PropTypes.object,customValue:n.PropTypes.string,onClick:n.PropTypes.func,children:n.PropTypes.string,hover:n.PropTypes.bool},getDefaultProps:function(){return{customClasses:{},onClick:function(e){e.preventDefault()}}},getInitialState:function(){return{}},render:function(){var e={};e[this.props.customClasses.hover||"hover"]=!!this.props.hover,e[this.props.customClasses.listItem]=!!this.props.customClasses.listItem,this.props.customValue&&(e[this.props.customClasses.customAdd]=!!this.props.customClasses.customAdd);var t=o(e);return n.createElement("li",{className:t,onClick:this._onClick},n.createElement("a",{href:"javascript: void 0;",className:this._getClasses(),ref:"anchor"},this.props.children))},_getClasses:function(){var e={"typeahead-option":!0};return e[this.props.customClasses.listAnchor]=!!this.props.customClasses.listAnchor,o(e)},_onClick:function(e){return e.preventDefault(),this.props.onClick(e)}});t.exports=r},{classnames:1,"react/addons":"react/addons"}],9:[function(e,t,s){var n=window.React||e("react/addons"),o=e("./option"),r=e("classnames"),i=n.createClass({displayName:"TypeaheadSelector",propTypes:{options:n.PropTypes.array,customClasses:n.PropTypes.object,customValue:n.PropTypes.string,selectionIndex:n.PropTypes.number,onOptionSelected:n.PropTypes.func},getDefaultProps:function(){return{selectionIndex:null,customClasses:{},customValue:null,onOptionSelected:function(e){}}},getInitialState:function(){return{selectionIndex:this.props.selectionIndex,selection:this.getSelectionForIndex(this.props.selectionIndex)}},render:function(){var e={"typeahead-selector":!0};e[this.props.customClasses.results]=this.props.customClasses.results;var t=r(e),s=[];return null!==this.props.customValue&&s.push(n.createElement(o,{ref:this.props.customValue,key:this.props.customValue,hover:this.state.selectionIndex===s.length,customClasses:this.props.customClasses,customValue:this.props.customValue,onClick:this._onClick.bind(this,this.props.customValue)},this.props.customValue)),this.props.options.forEach(function(e,t){s.push(n.createElement(o,{ref:e,key:e,hover:this.state.selectionIndex===s.length,customClasses:this.props.customClasses,onClick:this._onClick.bind(this,e)},e))},this),n.createElement("ul",{className:t},s)},setSelectionIndex:function(e){this.setState({selectionIndex:e,selection:this.getSelectionForIndex(e)})},getSelectionForIndex:function(e){return null===e?null:0===e&&null!==this.props.customValue?this.props.customValue:(null!==this.props.customValue&&(e-=1),this.props.options[e])},_onClick:function(e,t){return this.props.onOptionSelected(e,t)},_nav:function(e){if(this.props.options||null!==this.props.customValue){var t=null===this.state.selectionIndex?1==e?0:e:this.state.selectionIndex+e,s=this.props.options.length;null!==this.props.customValue&&(s+=1),0>t?t+=s:t>=s&&(t-=s);var n=this.getSelectionForIndex(t);this.setState({selectionIndex:t,selection:n})}},navDown:function(){this._nav(1)},navUp:function(){this._nav(-1)}});t.exports=i},{"./option":8,classnames:1,"react/addons":"react/addons"}]},{},[4])(4)})}();

!function(){Meteor.startup(function(){AddMetric=ReactMeteor.createClass({mixins:[React.addons.LinkedStateMixin],onEditorValidation:function(e,t){this.setState({computeFunctionString:e,computeFunctionValid:t})},contextTypes:{router:React.PropTypes.func.isRequired},getInitialProps:function(){return{name:this.props.name||"",categoryText:this.props.categoryText||"",computeFunctionString:this.props.computeFunctionString||"// Metrics('/Category/Metric name')\n// Records('/Category path/goes here/').get()\n// the return value is your output\n",newMetric:this.props.newMetric&&!0}},getInitialState:function(){var e={resetKey:+new Date,newMetric:this.props.newMetric,runtimeError:null,name:this.props.name,categoryText:this.props.categoryText,computeFunctionString:this.props.computeFunctionString,computeFunctionValid:!0};return e},clearForm:function(){this.replaceState(this.getInitialState())},changeCategory:function(e){this.setState({categoryText:e})},componentWillReceiveProps:function(e){var t={name:e.name,categoryText:e.categoryText,computeFunctionString:e.computeFunctionString};this.setState(t),console.log("ello")},submitForm:function(){var e=this;e.setState({runtimeError:null}),Meteor.call("upsertMetric",this.state.name,this.state.categoryText,this.state.computeFunctionString,function(t,a){t?e.setState({runtimeError:t}):e.clearForm()})},render:function(){var e=this.state.computeFunctionValid&&""!=this.state.name&&""!=this.state.categoryText,t;return null!=this.state.runtimeError&&(t=React.createElement("div",{className:"ui negative message"},React.createElement(Icon,{n:"close icon"}),React.createElement("div",{className:"header"},this.state.runtimeError.reason),React.createElement("pre",null,this.state.runtimeError.details))),React.createElement("div",{key:this.state.resetKey,className:"niceish-padding"},React.createElement("div",{className:"ui segment"},React.createElement("h1",{style:{display:"inline-block"}},this.state.newMetric?"Add":"Edit"," Metric"),React.createElement("span",{className:"ui big buttons",style:{display:"inline-block","float":"right"}},React.createElement("button",{className:"ui button",onClick:this.clearForm},React.createElement("i",{className:"remove icon"}),"Clear"),React.createElement("div",{className:"or"}),React.createElement("button",{className:Util.classNames("ui positive button",{disabled:!e}),onClick:this.submitForm},React.createElement("i",{className:"add circle icon"}),"Submit")),React.createElement("form",{className:"ui form"},React.createElement("div",{className:"two fields"},React.createElement("div",{className:"required field"},React.createElement("label",null,"Name"),React.createElement("div",{className:"ui icon input"},React.createElement("input",{type:"text",placeholder:"Daily exercise",valueLink:this.linkState("name")}))),React.createElement("div",{className:"required field"},React.createElement("label",null,"Category"),React.createElement(UI.CategorySearchInput,{category:this.state.categoryText,onSelect:this.changeCategory}))))),React.createElement("h2",{className:"ui dividing header"},React.createElement(Icon,{n:"code"}),React.createElement("div",{className:"content"},"Compute function")),React.createElement("a",{href:"https://github.com/liamzebedee/metric/wiki/Writing-a-metric",target:"_blank"},React.createElement(Icon,{n:"info circle"})," Docs"),t,React.createElement(UI.JSEditor,{code:this.state.computeFunctionString,onValidation:this.onEditorValidation}))}})})}();

!function(){Meteor.startup(function(){AddRecord=ReactMeteor.createClass({contextTypes:{router:React.PropTypes.func.isRequired},mixins:[React.addons.LinkedStateMixin],getInitialState:function(){var e={resetKey:+new Date,editingSchema:!1,categoryText:"",defaultFields:{string:{value:""},number:{value:6.5,step:.5,min:2,max:30},Date:{value:new Date},"boolean":{value:!1}},fields:[{fieldName:"Time",value:new Date}]};return e},updateField:function(e,t){newState=this.state.fields,newState[e].value=t,this.setState({fields:newState})},clearForm:function(){var e=Util.clone(this.state.categoryText);this.replaceState(this.getInitialState()),this.changeCategory(e)},getSchema:function(){var e=Util.clone(this.state.fields);return e},submitForm:function(){for(var e=Util.clone(this.state.fields),t={},a=[],i=0,n;n=e[i];i++){var l=n.fieldName;t[l]=n.value,a.push(n)}Categories.setSchema(this.state.categoryText,a),Records.addRecord(this.state.categoryText,null,t),this.clearForm()},changeEditingSchemaStatus:function(){this.state.editingSchema||""==this.state.categoryText||Categories.setSchema(this.state.categoryText,this.getSchema()),this.setState({editingSchema:!this.state.editingSchema})},addField:function(){var e=this.state.fields,t=e.length+1;e.push($.extend({fieldName:"New field #"+t},this.state.defaultFields.number)),this.setState({fields:e})},changeFieldType:function(e,t){for(var a=this.state.fields,i=0,n;n=this.state.fields[i];i++)n.fieldName==e&&(this.state.fields[i]=$.extend(this.state.defaultFields[t],{fieldName:e}));this.setState({fields:a})},changeCategory:function(e){var t={};t.categoryText=e;try{t.fields=Categories.findCategoryByPath(e).schema}catch(a){t.fields=[{fieldName:"Time",value:new Date}]}this.setState(t)},renameField:function(e,t){var a=t.target.value,i=this.state.fields;i.forEach(function(t){t.fieldName==e&&(t.fieldName=a)}),this.setState({fields:i})},render:function(){fieldsView=[];for(var e=0,t;t=this.state.fields[e];e++){var a=t.fieldName,i=null,n=Util.getObjectType(t.value);switch(n){case"string":i=React.createElement(UI.JSONString,{name:a,value:t.value,updateValue:this.updateField.bind(this,e)});break;case"number":i=React.createElement(UI.JSONNumber,{name:a,step:t.step,min:t.min,max:t.max,value:t.value,updateValue:this.updateField.bind(this,e)});break;case"boolean":i=React.createElement(UI.JSONBoolean,{name:a,value:t.value,updateValue:this.updateField.bind(this,e)});break;case"Date":i=React.createElement(UI.JSONDateTime,{name:a,value:t.value,updateValue:this.updateField.bind(this,e)});break;default:console.log("Error: field '"+a+"' type isn't recognised "+typeof t.value)}var l,c;this.state.editingSchema&&(l=React.createElement("td",null,React.createElement(AddRecord.FieldTypeSelector,{fieldType:n,onFieldTypeChange:this.changeFieldType.bind(this,a)})),c=React.createElement("td",null,React.createElement("button",{className:"ui red icon button"},React.createElement("i",{className:"minus square icon",onClick:this.deleteField})," Delete"),React.createElement("button",{className:"ui icon button"},React.createElement("i",{className:"ellipsis horizontal icon"}))));var s;s=this.state.editingSchema?React.createElement("input",{type:"text",defaultValue:a,onChange:this.renameField.bind(this,a)}):React.createElement("span",null,a),fieldsView.push(React.createElement("tr",{key:e},React.createElement("td",null,s),React.createElement("td",null,i),l,c))}var r,d;this.state.editingSchema&&(r=React.createElement("th",null,"Type"),d=React.createElement("th",null,"Controls"));var o=this.state.fields.length>0&&""!=this.state.categoryText;return React.createElement("div",{className:"niceish-padding"},React.createElement("div",{className:"ui segment",key:this.state.resetKey},React.createElement("h1",{style:{display:"inline-block"}},"Add Record"),React.createElement("span",{className:"ui big buttons",style:{display:"inline-block","float":"right"}},React.createElement("button",{className:"ui button",onClick:this.clearForm},React.createElement("i",{className:"remove icon"}),"Clear"),React.createElement("div",{className:"or"}),React.createElement("button",{className:Util.classNames("ui positive button",{disabled:!o}),onClick:this.submitForm},React.createElement("i",{className:"add circle icon"}),"Submit")),React.createElement("div",{className:"ui form"},React.createElement("div",{className:"one field"},React.createElement("div",{className:"required field"},React.createElement("label",null,"Category"),React.createElement(UI.CategorySearchInput,{onSelect:this.changeCategory}))),React.createElement("header",null,React.createElement("h2",{className:"ui dividing header",style:{display:"inline-block"}},"Fields"),React.createElement("span",{className:"ui buttons",style:{display:"inline-block","float":"right",marginLeft:"1em"}},React.createElement("button",{className:"ui blue icon button",onClick:this.changeEditingSchemaStatus},React.createElement("i",{className:"edit icon"}),this.state.editingSchema?"Finish editing":"Edit schema"),React.createElement("button",{className:"ui positive button",onClick:this.addField},React.createElement("i",{className:"add circle icon"}),"Add new"))),React.createElement("table",{className:"ui celled table"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Value"),r,d)),React.createElement("tbody",null,fieldsView)),React.createElement("br",null),React.createElement("br",null),React.createElement("button",{className:"ui big green icon button",onClick:this.submitForm},React.createElement("i",{className:"add icon"}),"Add record"))))}}),AddRecord.FieldTypeSelector=ReactMeteor.createClass({componentDidMount:function(){var e=this;$(React.findDOMNode(this.refs.dropdown)).dropdown({onChange:e.onChange}),$(React.findDOMNode(this.refs.text)).html(React.renderToString(this.getViewForType(this.state.selectedType)))},onChange:function(e,t,a){this.setState({selectedType:e}),this.props.onFieldTypeChange(this.state.selectedType)},getHumanTypeForJSType:function(e){var t="";return this.state.types.forEach(function(a){return a.jsType===e?void(t=a.name):void 0}),t},getViewForType:function(e){var t="";return this.state.types.forEach(function(a){return a.jsType===e?void(t=a.view):void 0}),t},getInitialState:function(){var e={selectedType:this.props.fieldType,types:[{name:"Number",icon:"calculator",jsType:"number"},{name:"Dates and times",icon:"calendar",jsType:"Date"},{name:"Text",icon:"font",jsType:"string"},{name:"Checkbox",icon:"toggle off",jsType:"boolean"}]};return e.types.forEach(function(e){e.view=React.createElement("div",{className:"item",key:e.jsType,"data-value":e.jsType},React.createElement("i",{className:"icon "+e.icon}),e.name)}),e},render:function(){var e=[];return this.state.types.forEach(function(t){e.push(t.view)}),React.createElement("div",{className:"ui fluid search selection dropdown",ref:"dropdown"},React.createElement("i",{className:"dropdown icon"}),React.createElement("div",{className:"text",ref:"text"}),React.createElement("div",{className:"menu"},e))}})})}();

!function(){Meteor.startup(function(){Dashboard=ReactMeteor.createClass({REACT_GRID_LAYOUT_MARGIN_LEFT:10,mixins:[React.PureRenderMixin],contextTypes:{router:React.PropTypes.func.isRequired},componentDidMount:function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},startMeteorSubscriptions:function(){Meteor.subscribe("metrics"),Meteor.subscribe("categories")},getMeteorState:function(){var e={categories:[]},t=Categories.find().fetch();return t.forEach(function(t){cat={path:t.path,_id:t._id,metrics:[]},cat.metrics=Metrics.find({categoryId:t._id}).fetch(),0!=cat.metrics.length&&e.categories.push(cat)}),e},getInitialState:function(){var e={categories:[]};return e},generateLayout:function(e){var t=[];return e.forEach(function(e,a){var c=3,r=1,i=Math.min(e.metrics.length,c),n=Math.ceil(e.metrics.length/3);t[a]={x:2*a%12,y:2*a%12,w:i,h:n,i:a}}),t},render:function(){var e=this.generateLayout(this.state.categories);if(reactGridLayoutOptions={items:this.state.categories.length,cols:4,isResizable:!1,isDraggable:!0,rowHeight:180,autoSize:!0},0!=e.length){var t=[],a=this;this.state.categories.forEach(function(e,a){metricsView=[],e.metrics.forEach(function(t,a){metricsView.push(React.createElement("div",{key:a,className:"column"},React.createElement(UI.Metric,{name:t.name,categoryPath:e.path,computeResult:t.computeResult,_id:t._id})))}),t.push(React.createElement("div",{key:a,className:"ui card",style:{display:"inline-block"}},React.createElement("div",{className:"content"},React.createElement("h3",null,React.createElement(CategoryBreadcrumb,{currentCategory:e})),React.createElement("div",{className:"ui statistics three column centered grid"},metricsView))))});var c=React.createElement(ReactGridLayout,React.__spread({layout:e,onLayoutChange:this.onLayoutChange},reactGridLayoutOptions),t)}return React.createElement("div",{className:"niceish-padding ui"},React.createElement("div",{className:"ui"},React.createElement("div",{style:{marginLeft:this.REACT_GRID_LAYOUT_MARGIN_LEFT},className:"ui card"},React.createElement("div",{className:"content"},React.createElement("h2",null,React.createElement(Icon,{n:"calendar"}),Date.create().format("{Weekday}")," ",React.createElement("small",null,Date.create().format("{ord} {Month}"))))),c))}})})}();

!function(){Meteor.startup(function(){UI=ReactMeteor.createClass({render:function(){return React.createElement("div",null," ")}}),UI.Metric=ReactMeteor.createClass({getDefaultProps:function(){return{computeResult:42,categoryPath:["Path","to","Category"],name:"Metric name",_id:42}},getInitialState:function(){return{showControls:!1}},onMouseOver:function(){this.setState({showControls:!0})},onMouseOut:function(){this.setState({showControls:!1})},render:function(){var e=this.props.categoryPath.join("/"),t,a=!1,n=this.props.computeResult;switch(Util.getObjectType(n)){case"string":a=!0,t=n;break;case"number":var r=n.between(0,1,!0);t=r?(100*n).toFixed(1)+"%":n.toFixed(2);break;case"boolean":t=n?React.createElement(Icon,{n:"green checkmark"}):React.createElement(Icon,{n:"red remove"});break;case"Date":t=n["long"]();break;case null:t=React.createElement(Icon,{n:"ellipsis horizontal"});break;default:t=n.toString()}var o=this;return React.createElement("div",{className:"metric statistic",onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut},React.createElement("h3",{className:"center"},React.createElement(Link,{to:"metric-overview",params:{id:o.props._id}},React.createElement("strong",null,this.props.name))),React.createElement("div",{className:Util.classNames("value")},t))}})})}();

!function(){Meteor.startup(function(){MetricOverview=ReactMeteor.createClass({contextTypes:{router:React.PropTypes.func.isRequired},getInitialState:function(){return{metric:null,deps:null}},startMeteorSubscriptions:function(){Meteor.subscribe("metrics")},getMeteorState:function(){var e=this;return{metric:Metrics.findOne(e.getMetricId())}},getMetricId:function(){return this.context.router.getCurrentParams().id},recomputeMetric:function(){Meteor.call("recomputeMetric",this.getMetricId())},remove:function(){Metrics.remove(this.state.metric._id)},render:function(){if(this.state.metric)var e=Categories.findOne(this.state.metric.categoryId).path,t=React.createElement(AddMetric,{name:this.state.metric.name,categoryText:e.join("/"),computeFunctionString:this.state.metric.compute,newMetric:!1}),c=JSON.stringify({metrics:this.state.metric.metricDependencies,records:this.state.metric.recordDependencies});return React.createElement("div",{className:"niceish-padding"},React.createElement("div",{className:"ui segment"},React.createElement("h1",null,"Metric Overview"),React.createElement("button",{onClick:this.recomputeMetric},"Recompute"),React.createElement("button",{onClick:this.remove},"Remove"),this.state.metric?React.createElement("div",null,React.createElement("div",{className:"ui card"},React.createElement("div",{className:"content"},React.createElement("div",{className:"ui statistics"},React.createElement(UI.Metric,{name:this.state.metric.name,categoryPath:e,computeResult:this.state.metric.computeResult,_id:this.state.metric._id})))),React.createElement("pre",null,c)):""),t)}})})}();

!function(){Meteor.startup(function(){RecordsOverview=ReactMeteor.createClass({MAX_RECORD_COUNT:100,contextTypes:{router:React.PropTypes.func.isRequired},getInitialState:function(){return{meteorLoaded:!1,category:{schema:[],path:[]},records:[]}},getMeteorState:function(){var e=this,t=Categories.findOne(this.getCategoryId());if(null!=t){var r=Records.find({categoryId:t._id},{limit:e.MAX_RECORD_COUNT}).fetch();return{records:r,category:t,meteorLoaded:!0}}},startMeteorSubscriptions:function(){Meteor.subscribe("categories"),Meteor.subscribe("records")},getCategoryId:function(){return this.context.router.getCurrentParams().id},removeRecord:function(e){Records.remove(this.state.records[e]._id)},render:function(){var e=this;return header=[],this.state.category.schema.forEach(function(e,t){header.push(React.createElement("th",{key:t},e.fieldName))}),header.push(React.createElement("th",{key:"controls"},"Controls")),bodyRows=[],this.state.records.forEach(function(t,r){var a=[];for(var c in t.fields){var o=t.fields[c];a.push(React.createElement("td",{key:c},o))}a.push(React.createElement("th",{key:"controls"},React.createElement("button",{className:"icon button",onClick:e.removeRecord.bind(e,r)},React.createElement(Icon,{n:"remove cross"})))),bodyRows.push(React.createElement("tr",{key:r},a))}),React.createElement("div",{className:"niceish-padding ui segment"},React.createElement("h1",null,this.state.meteorLoaded?React.createElement(CategoryBreadcrumb,{currentCategory:this.state.category}):""),React.createElement("p",null,this.state.records.length," records"),React.createElement("table",{className:"ui celled table"},React.createElement("thead",null,React.createElement("tr",null,header)),React.createElement("tbody",null,bodyRows)))}})})}();

!function(){Meteor.startup(function(){Link=ReactRouter.Link,LoadingIndicator=ReactMeteor.createClass({getDefaultProps:function(){},render:function(){return this.props.loading?React.createElement("div",{className:"ui active loader"}):React.createElement("div",null)}}),Icon=ReactMeteor.createClass({render:function(){return React.createElement("i",{className:"icon "+this.props.n})}}),CategoryBreadcrumb=ReactMeteor.createClass({mixins:[ReactRouter.Navigation],navigateToCategory:function(e,t){var a=Util.clone(e).splice(0,t+1).join("/"),n=Categories.findCategoryByPath(a,null)._id;this.transitionTo("records-overview",{id:n})},render:function(){return React.createElement(Breadcrumb,{items:this.props.currentCategory.path,onItemClick:this.navigateToCategory})}}),Breadcrumb=ReactMeteor.createClass({onItemClick:function(e){this.props.onItemClick(this.props.items,e)},render:function(){var e=[],t=this;return this.props.items.forEach(function(a,n){var i=n==t.props.items.length-1;e.push(React.createElement("div",{key:a,onClick:t.onItemClick.bind(t,n),className:Util.classNames("section",{muted:!i,active:i})},a)),i||e.push(React.createElement("i",{key:n,className:"right chevron icon divider"}))}),React.createElement("div",{className:"ui breadcrumb"},e)}}),UI.Menu=ReactMeteor.createClass({mixins:[ReactRouter.Navigation],navigateToDash:function(){this.transitionTo("dashboard")},render:function(){return React.createElement("nav",{className:"ui primary inverted menu"},React.createElement("div",{onClick:this.navigateToDash,className:"title item"},React.createElement("h1",null,"{metric}")),React.createElement(Link,{to:"dashboard",className:"item"},React.createElement("i",{className:"home icon"})," Dashboard"),React.createElement(Link,{to:"add-metric",className:"item"},React.createElement("i",{className:"plus icon"})," Add metric"),React.createElement(Link,{to:"add-record",className:"item"},React.createElement("i",{className:"plus icon"})," Add record"),React.createElement("div",{className:"item"},React.createElement("div",{className:"ui icon input"},React.createElement("input",{type:"text",placeholder:"Search...",style:{width:"30em"}}),React.createElement("i",{className:"search link icon"}))))}}),UI.Segment=ReactMeteor.createClass({render:function(){var e="ui segment "+Util.classNames({hide:this.props.hidden});return React.createElement("div",{className:e},React.createElement("h1",{className:"ui header"},this.props.title),this.props.children)}}),UI.Row=ReactMeteor.createClass({render:function(){var e="ui row "+Util.classNames({hide:this.props.hidden});return React.createElement("div",{className:e},this.props.children)}}),UI.Columns=ReactMeteor.createClass({render:function(){var e="columns "+Util.classNames({hide:this.props.hidden});return React.createElement("div",{className:e},this.props.children)}}),UI.JSONDateTime=ReactMeteor.createClass({getInitialState:function(){return{value:this.props.value,name:this.props.name,isRequired:!0}},updateParentValue:function(e){var t=e.target.value;this.props.updateValue(t)},render:function(){return React.createElement("div",{className:Util.classNames("inline field",{required:this.state.isRequired})},React.createElement("div",{className:"ui input"},React.createElement("input",{type:"datetime",value:this.props.value,onChange:this.updateParentValue})))}}),UI.JSONNumber=ReactMeteor.createClass({getInitialState:function(){return{fieldValue:this.props.value,name:this.props.name,isRequired:!0}},updateParentValue:function(e){var t=parseFloat(e.target.value,10);this.props.updateValue(t)},render:function(){return React.createElement("div",{className:Util.classNames("inline field",{required:this.state.isRequired})},React.createElement("div",{className:"ui input"},React.createElement("input",{type:"number",min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value,onChange:this.updateParentValue})))}}),UI.JSONString=ReactMeteor.createClass({mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{value:this.props.value,name:this.props.name,isRequired:!0}},updateParentValue:function(e){var t=e.target.value;this.props.updateValue(t)},render:function(){return React.createElement("div",{className:Util.classNames("inline field",{required:this.state.isRequired})},React.createElement("textarea",{className:"expandable",style:{height:"3em",minHeight:"3em"},onChange:this.updateParentValue,rows:"1",value:this.props.value}))}}),UI.JSONBoolean=ReactMeteor.createClass({mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{value:this.props.value,name:this.props.name,isRequired:!0}},componentDidMount:function(){var e=this;$(React.findDOMNode(this.refs.checkbox)).checkbox({onChange:e.updateParentValue})},updateParentValue:function(){var e=this.state.value;this.setState({value:!e}),this.props.updateValue(!e),console.log(!e)},render:function(){return React.createElement("div",{className:Util.classNames("inline field",{required:this.state.isRequired})},React.createElement("div",{className:Util.classNames("ui toggle checkbox",{checked:this.state.value}),ref:"checkbox"},React.createElement("input",{type:"checkbox"})))}}),UI.JSEditor=ReactMeteor.createClass({componentDidMount:function(){var e=jsEditor({value:this.props.code||"",mode:"javascript",lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentWithTabs:!0,tabSize:2,indentUnit:2,updateInterval:500,dragAndDrop:!1,container:document.querySelector("#code-editor")}),t=this;e.on("valid",function(a){a=!0,t.props.onValidation(e.getValue(),a)})},render:function(){return React.createElement("div",{id:"code-editor",className:"ui container"},React.createElement("div",{className:"code-editor-left"}))}}),SearchInput=ReactMeteor.createClass({mixins:[React.addons.LinkedStateMixin],componentDidMount:function(){var e=this;$(React.findDOMNode(this.refs.search)).search({source:this.state.results,searchFields:["title"],searchFullText:!0,onSearchQuery:function(){e.setState({results:e.props.onSearchQuery()})}})},getInitialState:function(){return{searchText:"",results:[]}},render:function(){return React.createElement("div",{ref:"search",className:"ui category search"},React.createElement("div",{className:"ui icon input"},React.createElement("input",{className:"prompt",type:"text",placeholder:this.props.placeholder,valueLink:this.linkState("searchText")}),React.createElement("i",{className:"search icon"})),React.createElement("div",{className:"results"}))}}),UI.CategorySearchInput=ReactMeteor.createClass({getDefaultProps:function(){return{onSelect:function(){},onValueChange:function(){}}},searchForCategory:function(e,t){var a=Categories.find().fetch(),n=[];a.forEach(function(e){n.push(e.path.join("/"))});var i=new RegExp("^"+e,"i"),r=n.filter(function(e){return i.test(e)});t(null,r)},onSuggestionSelected:function(e,t){this.props.onSelect(e),t.preventDefault()},onChange:function(e){this.props.onSelect(e)},render:function(){var e=this,t={value:this.props.category,onChange:e.onChange};return React.createElement("div",{className:"ui action input"},React.createElement(Autosuggest,{ref:"autosuggest",placeholder:"/Health/Physical/Diabetes/Blood Glucose Levels",suggestions:this.searchForCategory,inputAttributes:t,onSuggestionSelected:this.onSuggestionSelected}))}})})}();

!function(){Util={timestamp:function(){return(new Date).getTime()}},Util.classNames=function(){for(var t="",e,n=0;n<arguments.length;n++)if(e=arguments[n])if("string"==typeof e||"number"==typeof e)t+=" "+e;else if("[object Array]"===Object.prototype.toString.call(e))t+=" "+classNames.apply(null,e);else if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&e[r]&&(t+=" "+r);return t.substr(1)},Util.isNumber=function(t){return!isNaN(parseFloat(t))},Util.getObjectType=function(t){var e="";if(null===t)return null;if("object"==typeof t)try{e=t.constructor.name}catch(n){console.log("can't find type of object: "+t)}else e=typeof t;return e},Util.escapeRegExp=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},Util.clone=function(t){return JSON.parse(JSON.stringify(t))},Number.prototype.between=function(t,e,n){var r=Math.min.apply(Math,[t,e]),i=Math.max.apply(Math,[t,e]);return n?this>=r&&i>=this:this>r&&i>this}}();

!function(){Meteor.startup(function(){RouteHandler=ReactRouter.RouteHandler,TransitionGroup=React.addons.CSSTransitionGroup,App=ReactMeteor.createClass({contextTypes:{router:React.PropTypes.func.isRequired},startMeteorSubscriptions:function(){Meteor.subscribe("categories")},render:function(){var e=this.context.router.getCurrentPath();return React.createElement("div",null,React.createElement("div",{className:"container"},React.createElement(UI.Menu,null),React.createElement("div",{className:"ui page "},React.createElement("main",{className:"column"},React.createElement(RouteHandler,{key:e})))))}}),DefaultRoute=ReactRouter.DefaultRoute,Route=ReactRouter.Route,routes=React.createElement(Route,{name:"app",handler:App,path:"/"},React.createElement(Route,{name:"add-metric",path:"/metrics/add",handler:AddMetric}),React.createElement(Route,{name:"add-record",path:"/records/add",handler:AddRecord}),React.createElement(Route,{name:"metric-overview",path:"/metrics/:id",handler:MetricOverview}),React.createElement(Route,{name:"records-overview",path:"/records-overview/:id",handler:RecordsOverview}),React.createElement(Route,{name:"dashboard",path:"/",handler:Dashboard}),React.createElement(DefaultRoute,{handler:Dashboard})),ReactRouter.run(routes,function(e){React.render(React.createElement(e,null),document.getElementById("root"))})})}();